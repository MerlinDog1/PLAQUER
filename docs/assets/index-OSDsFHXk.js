(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function qm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fu={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function sv(){if(Kp)return rl;Kp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:c}}return rl.Fragment=t,rl.jsx=o,rl.jsxs=o,rl}var Xp;function rv(){return Xp||(Xp=1,fu.exports=sv()),fu.exports}var _=rv(),du={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function uv(){if($p)return fe;$p=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,M={};function Y(b,z,Z){this.props=b,this.context=z,this.refs=M,this.updater=Z||w}Y.prototype.isReactComponent={},Y.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},Y.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=Y.prototype;function X(b,z,Z){this.props=b,this.context=z,this.refs=M,this.updater=Z||w}var V=X.prototype=new W;V.constructor=X,H(V,Y.prototype),V.isPureReactComponent=!0;var K=Array.isArray;function G(){}var J={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function $(b,z,Z){var ee=Z.ref;return{$$typeof:i,type:b,key:z,ref:ee!==void 0?ee:null,props:Z}}function le(b,z){return $(b.type,z,b.props)}function ne(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function me(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Z){return z[Z]})}var xe=/\/+/g;function _e(b,z){return typeof b=="object"&&b!==null&&b.key!=null?me(""+b.key):z.toString(36)}function ye(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(G,G):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function k(b,z,Z,ee,se){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var pe=!1;if(b===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(b.$$typeof){case i:case t:pe=!0;break;case v:return pe=b._init,k(pe(b._payload),z,Z,ee,se)}}if(pe)return se=se(b),pe=ee===""?"."+_e(b,0):ee,K(se)?(Z="",pe!=null&&(Z=pe.replace(xe,"$&/")+"/"),k(se,z,Z,"",function(An){return An})):se!=null&&(ne(se)&&(se=le(se,Z+(se.key==null||b&&b.key===se.key?"":(""+se.key).replace(xe,"$&/")+"/")+pe)),z.push(se)),1;pe=0;var Ce=ee===""?".":ee+":";if(K(b))for(var qe=0;qe<b.length;qe++)ee=b[qe],de=Ce+_e(ee,qe),pe+=k(ee,z,Z,de,se);else if(qe=A(b),typeof qe=="function")for(b=qe.call(b),qe=0;!(ee=b.next()).done;)ee=ee.value,de=Ce+_e(ee,qe++),pe+=k(ee,z,Z,de,se);else if(de==="object"){if(typeof b.then=="function")return k(ye(b),z,Z,ee,se);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Q(b,z,Z){if(b==null)return b;var ee=[],se=0;return k(b,ee,"","",function(de){return z.call(Z,de,se++)}),ee}function L(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(Z){(b._status===0||b._status===-1)&&(b._status=1,b._result=Z)},function(Z){(b._status===0||b._status===-1)&&(b._status=2,b._result=Z)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var te=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},re={map:Q,forEach:function(b,z,Z){Q(b,function(){z.apply(this,arguments)},Z)},count:function(b){var z=0;return Q(b,function(){z++}),z},toArray:function(b){return Q(b,function(z){return z})||[]},only:function(b){if(!ne(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return fe.Activity=E,fe.Children=re,fe.Component=Y,fe.Fragment=o,fe.Profiler=r,fe.PureComponent=X,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,fe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return J.H.useMemoCache(b)}},fe.cache=function(b){return function(){return b.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(b,z,Z){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ee=H({},b.props),se=b.key;if(z!=null)for(de in z.key!==void 0&&(se=""+z.key),z)!P.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(ee[de]=z[de]);var de=arguments.length-2;if(de===1)ee.children=Z;else if(1<de){for(var pe=Array(de),Ce=0;Ce<de;Ce++)pe[Ce]=arguments[Ce+2];ee.children=pe}return $(b.type,se,ee)},fe.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},fe.createElement=function(b,z,Z){var ee,se={},de=null;if(z!=null)for(ee in z.key!==void 0&&(de=""+z.key),z)P.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(se[ee]=z[ee]);var pe=arguments.length-2;if(pe===1)se.children=Z;else if(1<pe){for(var Ce=Array(pe),qe=0;qe<pe;qe++)Ce[qe]=arguments[qe+2];se.children=Ce}if(b&&b.defaultProps)for(ee in pe=b.defaultProps,pe)se[ee]===void 0&&(se[ee]=pe[ee]);return $(b,de,se)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(b){return{$$typeof:g,render:b}},fe.isValidElement=ne,fe.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:L}},fe.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},fe.startTransition=function(b){var z=J.T,Z={};J.T=Z;try{var ee=b(),se=J.S;se!==null&&se(Z,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(G,te)}catch(de){te(de)}finally{z!==null&&Z.types!==null&&(z.types=Z.types),J.T=z}},fe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},fe.use=function(b){return J.H.use(b)},fe.useActionState=function(b,z,Z){return J.H.useActionState(b,z,Z)},fe.useCallback=function(b,z){return J.H.useCallback(b,z)},fe.useContext=function(b){return J.H.useContext(b)},fe.useDebugValue=function(){},fe.useDeferredValue=function(b,z){return J.H.useDeferredValue(b,z)},fe.useEffect=function(b,z){return J.H.useEffect(b,z)},fe.useEffectEvent=function(b){return J.H.useEffectEvent(b)},fe.useId=function(){return J.H.useId()},fe.useImperativeHandle=function(b,z,Z){return J.H.useImperativeHandle(b,z,Z)},fe.useInsertionEffect=function(b,z){return J.H.useInsertionEffect(b,z)},fe.useLayoutEffect=function(b,z){return J.H.useLayoutEffect(b,z)},fe.useMemo=function(b,z){return J.H.useMemo(b,z)},fe.useOptimistic=function(b,z){return J.H.useOptimistic(b,z)},fe.useReducer=function(b,z,Z){return J.H.useReducer(b,z,Z)},fe.useRef=function(b){return J.H.useRef(b)},fe.useState=function(b){return J.H.useState(b)},fe.useSyncExternalStore=function(b,z,Z){return J.H.useSyncExternalStore(b,z,Z)},fe.useTransition=function(){return J.H.useTransition()},fe.version="19.2.4",fe}var Qp;function Gu(){return Qp||(Qp=1,du.exports=uv()),du.exports}var Me=Gu();const Vm=qm(Me);var pu={exports:{}},ul={},hu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function cv(){return Zp||(Zp=1,(function(i){function t(k,Q){var L=k.length;k.push(Q);e:for(;0<L;){var te=L-1>>>1,re=k[te];if(0<r(re,Q))k[te]=Q,k[L]=re,L=te;else break e}}function o(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var Q=k[0],L=k.pop();if(L!==Q){k[0]=L;e:for(var te=0,re=k.length,b=re>>>1;te<b;){var z=2*(te+1)-1,Z=k[z],ee=z+1,se=k[ee];if(0>r(Z,L))ee<re&&0>r(se,Z)?(k[te]=se,k[ee]=L,te=ee):(k[te]=Z,k[z]=L,te=z);else if(ee<re&&0>r(se,L))k[te]=se,k[ee]=L,te=ee;else break e}}return Q}function r(k,Q){var L=k.sortIndex-Q.sortIndex;return L!==0?L:k.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],m=[],v=1,E=null,S=3,A=!1,w=!1,H=!1,M=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function V(k){for(var Q=o(m);Q!==null;){if(Q.callback===null)a(m);else if(Q.startTime<=k)a(m),Q.sortIndex=Q.expirationTime,t(y,Q);else break;Q=o(m)}}function K(k){if(H=!1,V(k),!w)if(o(y)!==null)w=!0,G||(G=!0,me());else{var Q=o(m);Q!==null&&ye(K,Q.startTime-k)}}var G=!1,J=-1,P=5,$=-1;function le(){return M?!0:!(i.unstable_now()-$<P)}function ne(){if(M=!1,G){var k=i.unstable_now();$=k;var Q=!0;try{e:{w=!1,H&&(H=!1,W(J),J=-1),A=!0;var L=S;try{t:{for(V(k),E=o(y);E!==null&&!(E.expirationTime>k&&le());){var te=E.callback;if(typeof te=="function"){E.callback=null,S=E.priorityLevel;var re=te(E.expirationTime<=k);if(k=i.unstable_now(),typeof re=="function"){E.callback=re,V(k),Q=!0;break t}E===o(y)&&a(y),V(k)}else a(y);E=o(y)}if(E!==null)Q=!0;else{var b=o(m);b!==null&&ye(K,b.startTime-k),Q=!1}}break e}finally{E=null,S=L,A=!1}Q=void 0}}finally{Q?me():G=!1}}}var me;if(typeof X=="function")me=function(){X(ne)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,_e=xe.port2;xe.port1.onmessage=ne,me=function(){_e.postMessage(null)}}else me=function(){Y(ne,0)};function ye(k,Q){J=Y(function(){k(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(k){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var L=S;S=Q;try{return k()}finally{S=L}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(k,Q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=S;S=k;try{return Q()}finally{S=L}},i.unstable_scheduleCallback=function(k,Q,L){var te=i.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?te+L:te):L=te,k){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=L+re,k={id:v++,callback:Q,priorityLevel:k,startTime:L,expirationTime:re,sortIndex:-1},L>te?(k.sortIndex=L,t(m,k),o(y)===null&&k===o(m)&&(H?(W(J),J=-1):H=!0,ye(K,L-te))):(k.sortIndex=re,t(y,k),w||A||(w=!0,G||(G=!0,me()))),k},i.unstable_shouldYield=le,i.unstable_wrapCallback=function(k){var Q=S;return function(){var L=S;S=Q;try{return k.apply(this,arguments)}finally{S=L}}}})(mu)),mu}var Wp;function fv(){return Wp||(Wp=1,hu.exports=cv()),hu.exports}var gu={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function dv(){if(jp)return lt;jp=1;var i=Gu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:m,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,lt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(y,m,null,v)},lt.flushSync=function(y){var m=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=v,a.d.f()}},lt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},lt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},lt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:S,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},lt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},lt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},lt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},lt.requestFormReset=function(y){a.d.r(y)},lt.unstable_batchedUpdates=function(y,m){return y(m)},lt.useFormState=function(y,m,v){return p.H.useFormState(y,m,v)},lt.useFormStatus=function(){return p.H.useHostTransitionStatus()},lt.version="19.2.4",lt}var eh;function pv(){if(eh)return gu.exports;eh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gu.exports=dv(),gu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th;function hv(){if(th)return ul;th=1;var i=fv(),t=Gu(),o=pv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===l)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=h;else{for(var T=!1,C=d.child;C;){if(C===l){T=!0,l=d,s=h;break}if(C===s){T=!0,s=d,l=h;break}C=C.sibling}if(!T){for(C=h.child;C;){if(C===l){T=!0,l=h,s=d;break}if(C===s){T=!0,s=h,l=d;break}C=C.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),X=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Y:return"Profiler";case M:return"StrictMode";case K:return"Suspense";case G:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case X:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case P:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}var ye=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},te=[],re=-1;function b(e){return{current:e}}function z(e){0>re||(e.current=te[re],te[re]=null,re--)}function Z(e,n){re++,te[re]=e.current,e.current=n}var ee=b(null),se=b(null),de=b(null),pe=b(null);function Ce(e,n){switch(Z(de,n),Z(se,e),Z(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?gp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=gp(n),e=yp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ee),Z(ee,e)}function qe(){z(ee),z(se),z(de)}function An(e){e.memoizedState!==null&&Z(pe,e);var n=ee.current,l=yp(n,e.type);n!==l&&(Z(se,e),Z(ee,l))}function Wn(e){se.current===e&&(z(ee),z(se)),pe.current===e&&(z(pe),ol._currentValue=L)}var Ei,Wt;function Kt(e){if(Ei===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ei=n&&n[1]||"",Wt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+e+Wt}var jn=!1;function jt(e,n){if(!e||jn)return"";jn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var U=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){U=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){U=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),T=h[0],C=h[1];if(T&&C){var x=T.split(`
`),D=C.split(`
`);for(d=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===x.length||d===D.length)for(s=x.length-1,d=D.length-1;1<=s&&0<=d&&x[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(x[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||x[s]!==D[d]){var B=`
`+x[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=d);break}}}finally{jn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Kt(l):""}function en(e,n){switch(e.tag){case 26:case 27:case 5:return Kt(e.type);case 16:return Kt("Lazy");case 13:return e.child!==n&&n!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return jt(e.type,!1);case 11:return jt(e.type.render,!1);case 1:return jt(e.type,!0);case 31:return Kt("Activity");default:return""}}function ei(e){try{var n="",l=null;do n+=en(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var tn=Object.prototype.hasOwnProperty,ml=i.unstable_scheduleCallback,mo=i.unstable_cancelCallback,kg=i.unstable_shouldYield,Pg=i.unstable_requestPaint,vt=i.unstable_now,Bg=i.unstable_getCurrentPriorityLevel,Ku=i.unstable_ImmediatePriority,Xu=i.unstable_UserBlockingPriority,gl=i.unstable_NormalPriority,zg=i.unstable_LowPriority,$u=i.unstable_IdlePriority,Og=i.log,Fg=i.unstable_setDisableYieldValue,go=null,Tt=null;function xn(e){if(typeof Og=="function"&&Fg(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(go,e)}catch{}}var St=Math.clz32?Math.clz32:Kg,Yg=Math.log,Jg=Math.LN2;function Kg(e){return e>>>=0,e===0?32:31-(Yg(e)/Jg|0)|0}var yl=256,vl=262144,Tl=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~h,s!==0?d=ti(s):(T&=C,T!==0?d=ti(T):l||(l=C&~e,l!==0&&(d=ti(l))))):(C=s&~h,C!==0?d=ti(C):T!==0?d=ti(T):l||(l=s&~e,l!==0&&(d=ti(l)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:d}function yo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Xg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var e=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),e}function ja(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function vo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $g(e,n,l,s,d,h){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,x=e.expirationTimes,D=e.hiddenUpdates;for(l=T&~l;0<l;){var B=31-St(l),F=1<<B;C[B]=0,x[B]=-1;var U=D[B];if(U!==null)for(D[B]=null,B=0;B<U.length;B++){var q=U[B];q!==null&&(q.lane&=-536870913)}l&=~F}s!==0&&Zu(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~n))}function Zu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-St(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Wu(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-St(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function ju(e,n){var l=n&-n;return l=(l&42)!==0?1:es(l),(l&(e.suspendedLanes|n))!==0?0:l}function es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ec(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Pp(e.type))}function tc(e,n){var l=Q.p;try{return Q.p=e,n()}finally{Q.p=l}}var bn=Math.random().toString(36).slice(2),et="__reactFiber$"+bn,ct="__reactProps$"+bn,_i="__reactContainer$"+bn,ns="__reactEvents$"+bn,Qg="__reactListeners$"+bn,Zg="__reactHandles$"+bn,nc="__reactResources$"+bn,To="__reactMarker$"+bn;function is(e){delete e[et],delete e[ct],delete e[ns],delete e[Qg],delete e[Zg]}function Ci(e){var n=e[et];if(n)return n;for(var l=e.parentNode;l;){if(n=l[_i]||l[et]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Ap(e);e!==null;){if(l=e[et])return l;e=Ap(e)}return n}e=l,l=e.parentNode}return null}function Ai(e){if(e=e[et]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function So(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function xi(e){var n=e[nc];return n||(n=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[To]=!0}var ic=new Set,oc={};function ni(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(oc[e]=n,e=0;e<n.length;e++)ic.add(n[e])}var Wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},ac={};function jg(e){return tn.call(ac,e)?!0:tn.call(lc,e)?!1:Wg.test(e)?ac[e]=!0:(lc[e]=!0,!1)}function El(e,n,l){if(jg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function _l(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function nn(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ey(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,h.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function os(e){if(!e._valueTracker){var n=sc(e)?"checked":"value";e._valueTracker=ey(e,n,""+e[n])}}function rc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=sc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ty=/[\n"\\]/g;function Nt(e){return e.replace(ty,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ls(e,n,l,s,d,h,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+wt(n)):e.value!==""+wt(n)&&(e.value=""+wt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?as(e,T,wt(n)):l!=null?as(e,T,wt(l)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+wt(C):e.removeAttribute("name")}function uc(e,n,l,s,d,h,T,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){os(e);return}l=l!=null?""+wt(l):"",n=n!=null?""+wt(n):l,C||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),os(e)}function as(e,n,l){n==="number"&&Cl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ri(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+wt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function cc(e,n,l){if(n!=null&&(n=""+wt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+wt(l):""}function fc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(ye(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=wt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),os(e)}function wi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var ny=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||ny.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function pc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&dc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&dc(e,h,n[h])}function ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(e){return oy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var rs=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Mi=null;function hc(e){var n=Ai(e);if(n&&(e=n.stateNode)){var l=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(ls(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[ct]||null;if(!d)throw Error(a(90));ls(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&rc(s)}break e;case"textarea":cc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ri(e,!!l.multiple,n,!1)}}}var cs=!1;function mc(e,n,l){if(cs)return e(n,l);cs=!0;try{var s=e(n);return s}finally{if(cs=!1,(Ni!==null||Mi!==null)&&(fa(),Ni&&(n=Ni,e=Mi,Mi=Ni=null,hc(n),e)))for(n=0;n<e.length;n++)hc(e[n])}}function Eo(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ct]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(ln)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){fs=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{fs=!1}var Rn=null,ds=null,xl=null;function gc(){if(xl)return xl;var e,n=ds,l=n.length,s,d="value"in Rn?Rn.value:Rn.textContent,h=d.length;for(e=0;e<l&&n[e]===d[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===d[h-s];s++);return xl=d.slice(e,1<s?1-s:void 0)}function bl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function yc(){return!1}function ft(e){function n(l,s,d,h,T){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Rl:yc,this.isPropagationStopped=yc,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),n}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=ft(ii),Co=E({},ii,{view:0,detail:0}),ly=ft(Co),ps,hs,Ao,Nl=E({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(ps=e.screenX-Ao.screenX,hs=e.screenY-Ao.screenY):hs=ps=0,Ao=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),vc=ft(Nl),ay=E({},Nl,{dataTransfer:0}),sy=ft(ay),ry=E({},Co,{relatedTarget:0}),ms=ft(ry),uy=E({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=ft(uy),fy=E({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dy=ft(fy),py=E({},ii,{data:0}),Tc=ft(py),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},my={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gy[e])?!!n[e]:!1}function gs(){return yy}var vy=E({},Co,{key:function(e){if(e.key){var n=hy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?my[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ty=ft(vy),Sy=E({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=ft(Sy),Ey=E({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),_y=ft(Ey),Cy=E({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ay=ft(Cy),xy=E({},Nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),by=ft(xy),Ry=E({},ii,{newState:0,oldState:0}),wy=ft(Ry),Ny=[9,13,27,32],ys=ln&&"CompositionEvent"in window,xo=null;ln&&"documentMode"in document&&(xo=document.documentMode);var My=ln&&"TextEvent"in window&&!xo,Ec=ln&&(!ys||xo&&8<xo&&11>=xo),_c=" ",Cc=!1;function Ac(e,n){switch(e){case"keyup":return Ny.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function Iy(e,n){switch(e){case"compositionend":return xc(n);case"keypress":return n.which!==32?null:(Cc=!0,_c);case"textInput":return e=n.data,e===_c&&Cc?null:e;default:return null}}function Dy(e,n){if(Ii)return e==="compositionend"||!ys&&Ac(e,n)?(e=gc(),xl=ds=Rn=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ec&&n.locale!=="ko"?null:n.data;default:return null}}var Uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Uy[e.type]:n==="textarea"}function Rc(e,n,l,s){Ni?Mi?Mi.push(s):Mi=[s]:Ni=s,n=va(n,"onChange"),0<n.length&&(l=new wl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var bo=null,Ro=null;function Ly(e){cp(e,0)}function Ml(e){var n=So(e);if(rc(n))return e}function wc(e,n){if(e==="change")return n}var Nc=!1;if(ln){var vs;if(ln){var Ts="oninput"in document;if(!Ts){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),Ts=typeof Mc.oninput=="function"}vs=Ts}else vs=!1;Nc=vs&&(!document.documentMode||9<document.documentMode)}function Ic(){bo&&(bo.detachEvent("onpropertychange",Dc),Ro=bo=null)}function Dc(e){if(e.propertyName==="value"&&Ml(Ro)){var n=[];Rc(n,Ro,e,us(e)),mc(Ly,n)}}function Gy(e,n,l){e==="focusin"?(Ic(),bo=n,Ro=l,bo.attachEvent("onpropertychange",Dc)):e==="focusout"&&Ic()}function Hy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Ro)}function qy(e,n){if(e==="click")return Ml(n)}function Vy(e,n){if(e==="input"||e==="change")return Ml(n)}function ky(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Et=typeof Object.is=="function"?Object.is:ky;function wo(e,n){if(Et(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!tn.call(n,d)||!Et(e[d],n[d]))return!1}return!0}function Uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,n){var l=Uc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Uc(l)}}function Gc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Cl(e.document)}return n}function Ss(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Py=ln&&"documentMode"in document&&11>=document.documentMode,Di=null,Es=null,No=null,_s=!1;function qc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_s||Di==null||Di!==Cl(s)||(s=Di,"selectionStart"in s&&Ss(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),No&&wo(No,s)||(No=s,s=va(Es,"onSelect"),0<s.length&&(n=new wl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Di)))}function oi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ui={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Cs={},Vc={};ln&&(Vc=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function li(e){if(Cs[e])return Cs[e];if(!Ui[e])return e;var n=Ui[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Vc)return Cs[e]=n[l];return e}var kc=li("animationend"),Pc=li("animationiteration"),Bc=li("animationstart"),By=li("transitionrun"),zy=li("transitionstart"),Oy=li("transitioncancel"),zc=li("transitionend"),Oc=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function Pt(e,n){Oc.set(e,n),ni(n,[e])}var Il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Li=0,xs=0;function Dl(){for(var e=Li,n=xs=Li=0;n<e;){var l=Mt[n];Mt[n++]=null;var s=Mt[n];Mt[n++]=null;var d=Mt[n];Mt[n++]=null;var h=Mt[n];if(Mt[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}h!==0&&Fc(l,d,h)}}function Ul(e,n,l,s){Mt[Li++]=e,Mt[Li++]=n,Mt[Li++]=l,Mt[Li++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function bs(e,n,l,s){return Ul(e,n,l,s),Ll(e)}function ai(e,n){return Ul(e,null,null,n),Ll(e)}function Fc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,h=e.return;h!==null;)h.childLanes|=l,s=h.alternate,s!==null&&(s.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-St(l),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),h):null}function Ll(e){if(50<Zo)throw Zo=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Gi={};function Fy(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,n,l,s){return new Fy(e,n,l,s)}function Rs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,n){var l=e.alternate;return l===null?(l=_t(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Yc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Gl(e,n,l,s,d,h){var T=0;if(s=e,typeof e=="function")Rs(e)&&(T=1);else if(typeof e=="string")T=$0(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=_t(31,l,n,d),e.elementType=$,e.lanes=h,e;case H:return si(l.children,d,h,n);case M:T=8,d|=24;break;case Y:return e=_t(12,l,n,d|2),e.elementType=Y,e.lanes=h,e;case K:return e=_t(13,l,n,d),e.elementType=K,e.lanes=h,e;case G:return e=_t(19,l,n,d),e.elementType=G,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:T=10;break e;case W:T=9;break e;case V:T=11;break e;case J:T=14;break e;case P:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=_t(T,l,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function si(e,n,l,s){return e=_t(7,e,s,n),e.lanes=l,e}function ws(e,n,l){return e=_t(6,e,null,n),e.lanes=l,e}function Jc(e){var n=_t(18,null,null,0);return n.stateNode=e,n}function Ns(e,n,l){return n=_t(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kc=new WeakMap;function It(e,n){if(typeof e=="object"&&e!==null){var l=Kc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:ei(n)},Kc.set(e,n),n)}return{value:e,source:n,stack:ei(n)}}var Hi=[],qi=0,Hl=null,Mo=0,Dt=[],Ut=0,wn=null,Xt=1,$t="";function sn(e,n){Hi[qi++]=Mo,Hi[qi++]=Hl,Hl=e,Mo=n}function Xc(e,n,l){Dt[Ut++]=Xt,Dt[Ut++]=$t,Dt[Ut++]=wn,wn=e;var s=Xt;e=$t;var d=32-St(s)-1;s&=~(1<<d),l+=1;var h=32-St(n)+d;if(30<h){var T=d-d%5;h=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Xt=1<<32-St(n)+d|l<<d|s,$t=h+e}else Xt=1<<h|l<<d|s,$t=e}function Ms(e){e.return!==null&&(sn(e,1),Xc(e,1,0))}function Is(e){for(;e===Hl;)Hl=Hi[--qi],Hi[qi]=null,Mo=Hi[--qi],Hi[qi]=null;for(;e===wn;)wn=Dt[--Ut],Dt[Ut]=null,$t=Dt[--Ut],Dt[Ut]=null,Xt=Dt[--Ut],Dt[Ut]=null}function $c(e,n){Dt[Ut++]=Xt,Dt[Ut++]=$t,Dt[Ut++]=wn,Xt=n.id,$t=n.overflow,wn=e}var tt=null,Ve=null,Ae=!1,Nn=null,Lt=!1,Ds=Error(a(519));function Mn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(It(n,e)),Ds}function Qc(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[et]=e,n[ct]=s,l){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(l=0;l<jo.length;l++)Te(jo[l],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),uc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),fc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||hp(n.textContent,l)?(s.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),s.onScroll!=null&&Te("scroll",n),s.onScrollEnd!=null&&Te("scrollend",n),s.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||Mn(e,!0)}function Zc(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:tt=tt.return}}function Vi(e){if(e!==tt)return!1;if(!Ae)return Zc(e),Ae=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Qr(e.type,e.memoizedProps)),l=!l),l&&Ve&&Mn(e),Zc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Cp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Cp(e)}else n===27?(n=Ve,Fn(e.type)?(e=tu,tu=null,Ve=e):Ve=n):Ve=tt?Ht(e.stateNode.nextSibling):null;return!0}function ri(){Ve=tt=null,Ae=!1}function Us(){var e=Nn;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),Nn=null),e}function Io(e){Nn===null?Nn=[e]:Nn.push(e)}var Ls=b(null),ui=null,rn=null;function In(e,n,l){Z(Ls,n._currentValue),n._currentValue=l}function un(e){e._currentValue=Ls.current,z(Ls)}function Gs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Hs(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=d;for(var x=0;x<n.length;x++)if(C.context===n[x]){h.lanes|=l,C=h.alternate,C!==null&&(C.lanes|=l),Gs(h.return,l,e),s||(T=null);break e}h=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),Gs(T,l,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function ki(e,n,l,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=d.type;Et(d.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(d===pe.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}d=d.return}e!==null&&Hs(n,e,l,s),n.flags|=262144}function ql(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ci(e){ui=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Wc(ui,e)}function Vl(e,n){return ui===null&&ci(e),Wc(e,n)}function Wc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},rn===null){if(e===null)throw Error(a(308));rn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rn=rn.next=n;return l}var Yy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Jy=i.unstable_scheduleCallback,Ky=i.unstable_NormalPriority,Je={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new Yy,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&Jy(Ky,function(){e.controller.abort()})}var Uo=null,Vs=0,Pi=0,Bi=null;function Xy(e,n){if(Uo===null){var l=Uo=[];Vs=0,Pi=Br(),Bi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Vs++,n.then(jc,jc),n}function jc(){if(--Vs===0&&Uo!==null){Bi!==null&&(Bi.status="fulfilled");var e=Uo;Uo=null,Pi=0,Bi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $y(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var ef=k.S;k.S=function(e,n){Vd=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Xy(e,n),ef!==null&&ef(e,n)};var fi=b(null);function ks(){var e=fi.current;return e!==null?e:He.pooledCache}function kl(e,n){n===null?Z(fi,fi.current):Z(fi,n.pool)}function tf(){var e=ks();return e===null?null:{parent:Je._currentValue,pool:e}}var zi=Error(a(460)),Ps=Error(a(474)),Pl=Error(a(542)),Bl={then:function(){}};function nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function of(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(on,on),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,af(e),e;default:if(typeof n.status=="string")n.then(on,on);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,af(e),e}throw pi=n,zi}}function di(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(pi=l,zi):l}}var pi=null;function lf(){if(pi===null)throw Error(a(459));var e=pi;return pi=null,e}function af(e){if(e===zi||e===Pl)throw Error(a(483))}var Oi=null,Lo=0;function zl(e){var n=Lo;return Lo+=1,Oi===null&&(Oi=[]),of(Oi,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ol(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sf(e){function n(N,R){if(e){var I=N.deletions;I===null?(N.deletions=[R],N.flags|=16):I.push(R)}}function l(N,R){if(!e)return null;for(;R!==null;)n(N,R),R=R.sibling;return null}function s(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function d(N,R){return N=an(N,R),N.index=0,N.sibling=null,N}function h(N,R,I){return N.index=I,e?(I=N.alternate,I!==null?(I=I.index,I<R?(N.flags|=67108866,R):I):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function T(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function C(N,R,I,O){return R===null||R.tag!==6?(R=ws(I,N.mode,O),R.return=N,R):(R=d(R,I),R.return=N,R)}function x(N,R,I,O){var ae=I.type;return ae===H?B(N,R,I.props.children,O,I.key):R!==null&&(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===P&&di(ae)===R.type)?(R=d(R,I.props),Go(R,I),R.return=N,R):(R=Gl(I.type,I.key,I.props,null,N.mode,O),Go(R,I),R.return=N,R)}function D(N,R,I,O){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=Ns(I,N.mode,O),R.return=N,R):(R=d(R,I.children||[]),R.return=N,R)}function B(N,R,I,O,ae){return R===null||R.tag!==7?(R=si(I,N.mode,O,ae),R.return=N,R):(R=d(R,I),R.return=N,R)}function F(N,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ws(""+R,N.mode,I),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return I=Gl(R.type,R.key,R.props,null,N.mode,I),Go(I,R),I.return=N,I;case w:return R=Ns(R,N.mode,I),R.return=N,R;case P:return R=di(R),F(N,R,I)}if(ye(R)||me(R))return R=si(R,N.mode,I,null),R.return=N,R;if(typeof R.then=="function")return F(N,zl(R),I);if(R.$$typeof===X)return F(N,Vl(N,R),I);Ol(N,R)}return null}function U(N,R,I,O){var ae=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ae!==null?null:C(N,R,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return I.key===ae?x(N,R,I,O):null;case w:return I.key===ae?D(N,R,I,O):null;case P:return I=di(I),U(N,R,I,O)}if(ye(I)||me(I))return ae!==null?null:B(N,R,I,O,null);if(typeof I.then=="function")return U(N,R,zl(I),O);if(I.$$typeof===X)return U(N,R,Vl(N,I),O);Ol(N,I)}return null}function q(N,R,I,O,ae){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return N=N.get(I)||null,C(R,N,""+O,ae);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return N=N.get(O.key===null?I:O.key)||null,x(R,N,O,ae);case w:return N=N.get(O.key===null?I:O.key)||null,D(R,N,O,ae);case P:return O=di(O),q(N,R,I,O,ae)}if(ye(O)||me(O))return N=N.get(I)||null,B(R,N,O,ae,null);if(typeof O.then=="function")return q(N,R,I,zl(O),ae);if(O.$$typeof===X)return q(N,R,I,Vl(R,O),ae);Ol(R,O)}return null}function ie(N,R,I,O){for(var ae=null,be=null,oe=R,ge=R=0,Ee=null;oe!==null&&ge<I.length;ge++){oe.index>ge?(Ee=oe,oe=null):Ee=oe.sibling;var Re=U(N,oe,I[ge],O);if(Re===null){oe===null&&(oe=Ee);break}e&&oe&&Re.alternate===null&&n(N,oe),R=h(Re,R,ge),be===null?ae=Re:be.sibling=Re,be=Re,oe=Ee}if(ge===I.length)return l(N,oe),Ae&&sn(N,ge),ae;if(oe===null){for(;ge<I.length;ge++)oe=F(N,I[ge],O),oe!==null&&(R=h(oe,R,ge),be===null?ae=oe:be.sibling=oe,be=oe);return Ae&&sn(N,ge),ae}for(oe=s(oe);ge<I.length;ge++)Ee=q(oe,N,ge,I[ge],O),Ee!==null&&(e&&Ee.alternate!==null&&oe.delete(Ee.key===null?ge:Ee.key),R=h(Ee,R,ge),be===null?ae=Ee:be.sibling=Ee,be=Ee);return e&&oe.forEach(function($n){return n(N,$n)}),Ae&&sn(N,ge),ae}function ue(N,R,I,O){if(I==null)throw Error(a(151));for(var ae=null,be=null,oe=R,ge=R=0,Ee=null,Re=I.next();oe!==null&&!Re.done;ge++,Re=I.next()){oe.index>ge?(Ee=oe,oe=null):Ee=oe.sibling;var $n=U(N,oe,Re.value,O);if($n===null){oe===null&&(oe=Ee);break}e&&oe&&$n.alternate===null&&n(N,oe),R=h($n,R,ge),be===null?ae=$n:be.sibling=$n,be=$n,oe=Ee}if(Re.done)return l(N,oe),Ae&&sn(N,ge),ae;if(oe===null){for(;!Re.done;ge++,Re=I.next())Re=F(N,Re.value,O),Re!==null&&(R=h(Re,R,ge),be===null?ae=Re:be.sibling=Re,be=Re);return Ae&&sn(N,ge),ae}for(oe=s(oe);!Re.done;ge++,Re=I.next())Re=q(oe,N,ge,Re.value,O),Re!==null&&(e&&Re.alternate!==null&&oe.delete(Re.key===null?ge:Re.key),R=h(Re,R,ge),be===null?ae=Re:be.sibling=Re,be=Re);return e&&oe.forEach(function(av){return n(N,av)}),Ae&&sn(N,ge),ae}function Ge(N,R,I,O){if(typeof I=="object"&&I!==null&&I.type===H&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case A:e:{for(var ae=I.key;R!==null;){if(R.key===ae){if(ae=I.type,ae===H){if(R.tag===7){l(N,R.sibling),O=d(R,I.props.children),O.return=N,N=O;break e}}else if(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===P&&di(ae)===R.type){l(N,R.sibling),O=d(R,I.props),Go(O,I),O.return=N,N=O;break e}l(N,R);break}else n(N,R);R=R.sibling}I.type===H?(O=si(I.props.children,N.mode,O,I.key),O.return=N,N=O):(O=Gl(I.type,I.key,I.props,null,N.mode,O),Go(O,I),O.return=N,N=O)}return T(N);case w:e:{for(ae=I.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){l(N,R.sibling),O=d(R,I.children||[]),O.return=N,N=O;break e}else{l(N,R);break}else n(N,R);R=R.sibling}O=Ns(I,N.mode,O),O.return=N,N=O}return T(N);case P:return I=di(I),Ge(N,R,I,O)}if(ye(I))return ie(N,R,I,O);if(me(I)){if(ae=me(I),typeof ae!="function")throw Error(a(150));return I=ae.call(I),ue(N,R,I,O)}if(typeof I.then=="function")return Ge(N,R,zl(I),O);if(I.$$typeof===X)return Ge(N,R,Vl(N,I),O);Ol(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(l(N,R.sibling),O=d(R,I),O.return=N,N=O):(l(N,R),O=ws(I,N.mode,O),O.return=N,N=O),T(N)):l(N,R)}return function(N,R,I,O){try{Lo=0;var ae=Ge(N,R,I,O);return Oi=null,ae}catch(oe){if(oe===zi||oe===Pl)throw oe;var be=_t(29,oe,null,N.mode);return be.lanes=O,be.return=N,be}finally{}}}var hi=sf(!0),rf=sf(!1),Dn=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ne&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Ll(e),Fc(e,null,l),n}return Ul(e,s,n,l),Ll(e)}function Ho(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Wu(e,l)}}function Os(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?d=h=n:h=h.next=n}else d=h=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Fs=!1;function qo(){if(Fs){var e=Bi;if(e!==null)throw e}}function Vo(e,n,l,s){Fs=!1;var d=e.updateQueue;Dn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var x=C,D=x.next;x.next=null,T===null?h=D:T.next=D,T=x;var B=e.alternate;B!==null&&(B=B.updateQueue,C=B.lastBaseUpdate,C!==T&&(C===null?B.firstBaseUpdate=D:C.next=D,B.lastBaseUpdate=x))}if(h!==null){var F=d.baseState;T=0,B=D=x=null,C=h;do{var U=C.lane&-536870913,q=U!==C.lane;if(q?(Se&U)===U:(s&U)===U){U!==0&&U===Pi&&(Fs=!0),B!==null&&(B=B.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ie=e,ue=C;U=n;var Ge=l;switch(ue.tag){case 1:if(ie=ue.payload,typeof ie=="function"){F=ie.call(Ge,F,U);break e}F=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ue.payload,U=typeof ie=="function"?ie.call(Ge,F,U):ie,U==null)break e;F=E({},F,U);break e;case 2:Dn=!0}}U=C.callback,U!==null&&(e.flags|=64,q&&(e.flags|=8192),q=d.callbacks,q===null?d.callbacks=[U]:q.push(U))}else q={lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},B===null?(D=B=q,x=F):B=B.next=q,T|=U;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;q=C,C=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);B===null&&(x=F),d.baseState=x,d.firstBaseUpdate=D,d.lastBaseUpdate=B,h===null&&(d.shared.lanes=0),kn|=T,e.lanes=T,e.memoizedState=F}}function uf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)uf(l[e],n)}var Fi=b(null),Fl=b(0);function ff(e,n){e=vn,Z(Fl,e),Z(Fi,n),vn=e|n.baseLanes}function Ys(){Z(Fl,vn),Z(Fi,Fi.current)}function Js(){vn=Fl.current,z(Fi),z(Fl)}var Ct=b(null),Gt=null;function Gn(e){var n=e.alternate;Z(Fe,Fe.current&1),Z(Ct,e),Gt===null&&(n===null||Fi.current!==null||n.memoizedState!==null)&&(Gt=e)}function Ks(e){Z(Fe,Fe.current),Z(Ct,e),Gt===null&&(Gt=e)}function df(e){e.tag===22?(Z(Fe,Fe.current),Z(Ct,e),Gt===null&&(Gt=e)):Hn()}function Hn(){Z(Fe,Fe.current),Z(Ct,Ct.current)}function At(e){z(Ct),Gt===e&&(Gt=null),z(Fe)}var Fe=b(0);function Yl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jr(l)||eu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cn=0,he=null,Ue=null,Ke=null,Jl=!1,Yi=!1,mi=!1,Kl=0,ko=0,Ji=null,Qy=0;function ze(){throw Error(a(321))}function Xs(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Et(e[l],n[l]))return!1;return!0}function $s(e,n,l,s,d,h){return cn=h,he=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?$f:cr,mi=!1,h=l(s,d),mi=!1,Yi&&(h=hf(n,l,s,d)),pf(e),h}function pf(e){k.H=zo;var n=Ue!==null&&Ue.next!==null;if(cn=0,Ke=Ue=he=null,Jl=!1,ko=0,Ji=null,n)throw Error(a(300));e===null||Xe||(e=e.dependencies,e!==null&&ql(e)&&(Xe=!0))}function hf(e,n,l,s){he=e;var d=0;do{if(Yi&&(Ji=null),ko=0,Yi=!1,25<=d)throw Error(a(301));if(d+=1,Ke=Ue=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=Qf,h=n(l,s)}while(Yi);return h}function Zy(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Po(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(he.flags|=1024),n}function Qs(){var e=Kl!==0;return Kl=0,e}function Zs(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Ws(e){if(Jl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Jl=!1}cn=0,Ke=Ue=he=null,Yi=!1,ko=Kl=0,Ji=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?he.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ye(){if(Ue===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=Ke===null?he.memoizedState:Ke.next;if(n!==null)Ke=n,Ue=e;else{if(e===null)throw he.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?he.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var n=ko;return ko+=1,Ji===null&&(Ji=[]),e=of(Ji,e,n),n=he,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?$f:cr),e}function $l(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===X)return nt(e)}throw Error(a(438,String(e)))}function js(e){var n=null,l=he.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=he.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Xl(),he.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=le;return n.index++,l}function fn(e,n){return typeof n=="function"?n(e):n}function Ql(e){var n=Ye();return er(n,Ue,e)}function er(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var C=T=null,x=null,D=n,B=!1;do{var F=D.lane&-536870913;if(F!==D.lane?(Se&F)===F:(cn&F)===F){var U=D.revertLane;if(U===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),F===Pi&&(B=!0);else if((cn&U)===U){D=D.next,U===Pi&&(B=!0);continue}else F={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(C=x=F,T=h):x=x.next=F,he.lanes|=U,kn|=U;F=D.action,mi&&l(h,F),h=D.hasEagerState?D.eagerState:l(h,F)}else U={lane:F,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(C=x=U,T=h):x=x.next=U,he.lanes|=F,kn|=F;D=D.next}while(D!==null&&D!==n);if(x===null?T=h:x.next=C,!Et(h,e.memoizedState)&&(Xe=!0,B&&(l=Bi,l!==null)))throw l;e.memoizedState=h,e.baseState=T,e.baseQueue=x,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tr(e){var n=Ye(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,h=n.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do h=e(h,T.action),T=T.next;while(T!==d);Et(h,n.memoizedState)||(Xe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,s]}function mf(e,n,l){var s=he,d=Ye(),h=Ae;if(h){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!Et((Ue||d).memoizedState,l);if(T&&(d.memoizedState=l,Xe=!0),d=d.queue,or(vf.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,Ki(9,{destroy:void 0},yf.bind(null,s,d,l,n),null),He===null)throw Error(a(349));h||(cn&127)!==0||gf(s,n,l)}return l}function gf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=he.updateQueue,n===null?(n=Xl(),he.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function yf(e,n,l,s){n.value=l,n.getSnapshot=s,Tf(n)&&Sf(e)}function vf(e,n,l){return l(function(){Tf(n)&&Sf(e)})}function Tf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Et(e,l)}catch{return!0}}function Sf(e){var n=ai(e,2);n!==null&&gt(n,e,2)}function nr(e){var n=st();if(typeof e=="function"){var l=e;if(e=l(),mi){xn(!0);try{l()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},n}function Ef(e,n,l,s){return e.baseState=l,er(e,Ue,typeof s=="function"?s:fn)}function Wy(e,n,l,s,d){if(jl(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};k.T!==null?l(!0):h.isTransition=!1,s(h),l=n.pending,l===null?(h.next=n.pending=h,_f(n,h)):(h.next=l.next,n.pending=l.next=h)}}function _f(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=k.T,T={};k.T=T;try{var C=l(d,s),x=k.S;x!==null&&x(T,C),Cf(e,n,C)}catch(D){ir(e,n,D)}finally{h!==null&&T.types!==null&&(h.types=T.types),k.T=h}}else try{h=l(d,s),Cf(e,n,h)}catch(D){ir(e,n,D)}}function Cf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Af(e,n,s)},function(s){return ir(e,n,s)}):Af(e,n,l)}function Af(e,n,l){n.status="fulfilled",n.value=l,xf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,_f(e,l)))}function ir(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,xf(n),n=n.next;while(n!==s)}e.action=null}function xf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bf(e,n){return n}function Rf(e,n){if(Ae){var l=He.formState;if(l!==null){e:{var s=he;if(Ae){if(Ve){t:{for(var d=Ve,h=Lt;d.nodeType!==8;){if(!h){d=null;break t}if(d=Ht(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Ve=Ht(d.nextSibling),s=d.data==="F!";break e}}Mn(s)}s=!1}s&&(n=l[0])}}return l=st(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:n},l.queue=s,l=Jf.bind(null,he,s),s.dispatch=l,s=nr(!1),h=ur.bind(null,he,!1,s.queue),s=st(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=Wy.bind(null,he,d,h,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function wf(e){var n=Ye();return Nf(n,Ue,e)}function Nf(e,n,l){if(n=er(e,n,bf)[0],e=Ql(fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Po(n)}catch(T){throw T===zi?Pl:T}else s=n;n=Ye();var d=n.queue,h=d.dispatch;return l!==n.memoizedState&&(he.flags|=2048,Ki(9,{destroy:void 0},jy.bind(null,d,l),null)),[s,h,e]}function jy(e,n){e.action=n}function Mf(e){var n=Ye(),l=Ue;if(l!==null)return Nf(n,l,e);Ye(),n=n.memoizedState,l=Ye();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Ki(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=he.updateQueue,n===null&&(n=Xl(),he.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function If(){return Ye().memoizedState}function Zl(e,n,l,s){var d=st();he.flags|=e,d.memoizedState=Ki(1|n,{destroy:void 0},l,s===void 0?null:s)}function Wl(e,n,l,s){var d=Ye();s=s===void 0?null:s;var h=d.memoizedState.inst;Ue!==null&&s!==null&&Xs(s,Ue.memoizedState.deps)?d.memoizedState=Ki(n,h,l,s):(he.flags|=e,d.memoizedState=Ki(1|n,h,l,s))}function Df(e,n){Zl(8390656,8,e,n)}function or(e,n){Wl(2048,8,e,n)}function e0(e){he.flags|=4;var n=he.updateQueue;if(n===null)n=Xl(),he.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Uf(e){var n=Ye().memoizedState;return e0({ref:n,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lf(e,n){return Wl(4,2,e,n)}function Gf(e,n){return Wl(4,4,e,n)}function Hf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qf(e,n,l){l=l!=null?l.concat([e]):null,Wl(4,4,Hf.bind(null,n,e),l)}function lr(){}function Vf(e,n){var l=Ye();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Xs(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function kf(e,n){var l=Ye();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Xs(n,s[1]))return s[0];if(s=e(),mi){xn(!0);try{e()}finally{xn(!1)}}return l.memoizedState=[s,n],s}function ar(e,n,l){return l===void 0||(cn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Pd(),he.lanes|=e,kn|=e,l)}function Pf(e,n,l,s){return Et(l,n)?l:Fi.current!==null?(e=ar(e,l,s),Et(e,n)||(Xe=!0),e):(cn&42)===0||(cn&1073741824)!==0&&(Se&261930)===0?(Xe=!0,e.memoizedState=l):(e=Pd(),he.lanes|=e,kn|=e,n)}function Bf(e,n,l,s,d){var h=Q.p;Q.p=h!==0&&8>h?h:8;var T=k.T,C={};k.T=C,ur(e,!1,n,l);try{var x=d(),D=k.S;if(D!==null&&D(C,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=$y(x,s);Bo(e,n,B,Rt(e))}else Bo(e,n,s,Rt(e))}catch(F){Bo(e,n,{then:function(){},status:"rejected",reason:F},Rt())}finally{Q.p=h,T!==null&&C.types!==null&&(T.types=C.types),k.T=T}}function t0(){}function sr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=zf(e).queue;Bf(e,d,n,L,l===null?t0:function(){return Of(e),l(s)})}function zf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:L},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Of(e){var n=zf(e);n.next===null&&(n=e.alternate.memoizedState),Bo(e,n.next.queue,{},Rt())}function rr(){return nt(ol)}function Ff(){return Ye().memoizedState}function Yf(){return Ye().memoizedState}function n0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Rt();e=Un(l);var s=Ln(n,e,l);s!==null&&(gt(s,n,l),Ho(s,n,l)),n={cache:qs()},e.payload=n;return}n=n.return}}function i0(e,n,l){var s=Rt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jl(e)?Kf(n,l):(l=bs(e,n,l,s),l!==null&&(gt(l,e,s),Xf(l,n,s)))}function Jf(e,n,l){var s=Rt();Bo(e,n,l,s)}function Bo(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(jl(e))Kf(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var T=n.lastRenderedState,C=h(T,l);if(d.hasEagerState=!0,d.eagerState=C,Et(C,T))return Ul(e,n,d,0),He===null&&Dl(),!1}catch{}finally{}if(l=bs(e,n,d,s),l!==null)return gt(l,e,s),Xf(l,n,s),!0}return!1}function ur(e,n,l,s){if(s={lane:2,revertLane:Br(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},jl(e)){if(n)throw Error(a(479))}else n=bs(e,l,s,2),n!==null&&gt(n,e,2)}function jl(e){var n=e.alternate;return e===he||n!==null&&n===he}function Kf(e,n){Yi=Jl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Xf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Wu(e,l)}}var zo={readContext:nt,use:$l,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};zo.useEffectEvent=ze;var $f={readContext:nt,use:$l,useCallback:function(e,n){return st().memoizedState=[e,n===void 0?null:n],e},useContext:nt,useEffect:Df,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Zl(4194308,4,Hf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Zl(4194308,4,e,n)},useInsertionEffect:function(e,n){Zl(4,2,e,n)},useMemo:function(e,n){var l=st();n=n===void 0?null:n;var s=e();if(mi){xn(!0);try{e()}finally{xn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=st();if(l!==void 0){var d=l(n);if(mi){xn(!0);try{l(n)}finally{xn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=i0.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var n=st();return e={current:e},n.memoizedState=e},useState:function(e){e=nr(e);var n=e.queue,l=Jf.bind(null,he,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:lr,useDeferredValue:function(e,n){var l=st();return ar(l,e,n)},useTransition:function(){var e=nr(!1);return e=Bf.bind(null,he,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=he,d=st();if(Ae){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),He===null)throw Error(a(349));(Se&127)!==0||gf(s,n,l)}d.memoizedState=l;var h={value:l,getSnapshot:n};return d.queue=h,Df(vf.bind(null,s,h,e),[e]),s.flags|=2048,Ki(9,{destroy:void 0},yf.bind(null,s,h,l,n),null),l},useId:function(){var e=st(),n=He.identifierPrefix;if(Ae){var l=$t,s=Xt;l=(s&~(1<<32-St(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Kl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Qy++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rr,useFormState:Rf,useActionState:Rf,useOptimistic:function(e){var n=st();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=ur.bind(null,he,!0,l),l.dispatch=n,[e,n]},useMemoCache:js,useCacheRefresh:function(){return st().memoizedState=n0.bind(null,he)},useEffectEvent:function(e){var n=st(),l={impl:e};return n.memoizedState=l,function(){if((Ne&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},cr={readContext:nt,use:$l,useCallback:Vf,useContext:nt,useEffect:or,useImperativeHandle:qf,useInsertionEffect:Lf,useLayoutEffect:Gf,useMemo:kf,useReducer:Ql,useRef:If,useState:function(){return Ql(fn)},useDebugValue:lr,useDeferredValue:function(e,n){var l=Ye();return Pf(l,Ue.memoizedState,e,n)},useTransition:function(){var e=Ql(fn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:mf,useId:Ff,useHostTransitionStatus:rr,useFormState:wf,useActionState:wf,useOptimistic:function(e,n){var l=Ye();return Ef(l,Ue,e,n)},useMemoCache:js,useCacheRefresh:Yf};cr.useEffectEvent=Uf;var Qf={readContext:nt,use:$l,useCallback:Vf,useContext:nt,useEffect:or,useImperativeHandle:qf,useInsertionEffect:Lf,useLayoutEffect:Gf,useMemo:kf,useReducer:tr,useRef:If,useState:function(){return tr(fn)},useDebugValue:lr,useDeferredValue:function(e,n){var l=Ye();return Ue===null?ar(l,e,n):Pf(l,Ue.memoizedState,e,n)},useTransition:function(){var e=tr(fn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:mf,useId:Ff,useHostTransitionStatus:rr,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,n){var l=Ye();return Ue!==null?Ef(l,Ue,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:js,useCacheRefresh:Yf};Qf.useEffectEvent=Uf;function fr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:E({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var dr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Rt(),d=Un(s);d.payload=n,l!=null&&(d.callback=l),n=Ln(e,d,s),n!==null&&(gt(n,e,s),Ho(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Rt(),d=Un(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Ln(e,d,s),n!==null&&(gt(n,e,s),Ho(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Rt(),s=Un(l);s.tag=2,n!=null&&(s.callback=n),n=Ln(e,s,l),n!==null&&(gt(n,e,l),Ho(n,e,l))}};function Zf(e,n,l,s,d,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,T):n.prototype&&n.prototype.isPureReactComponent?!wo(l,s)||!wo(d,h):!0}function Wf(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&dr.enqueueReplaceState(n,n.state,null)}function gi(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=E({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function jf(e){Il(e)}function ed(e){console.error(e)}function td(e){Il(e)}function ea(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function nd(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pr(e,n,l){return l=Un(l),l.tag=3,l.payload={element:null},l.callback=function(){ea(e,n)},l}function id(e){return e=Un(e),e.tag=3,e}function od(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){nd(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){nd(n,l,s),typeof d!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function o0(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&ki(n,l,d,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Gt===null?da():l.alternate===null&&Oe===0&&(Oe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Bl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Vr(e,s,d)),!1;case 22:return l.flags|=65536,s===Bl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Vr(e,s,d)),!1}throw Error(a(435,l.tag))}return Vr(e,s,d),da(),!1}if(Ae)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Ds&&(e=Error(a(422),{cause:s}),Io(It(e,l)))):(s!==Ds&&(n=Error(a(423),{cause:s}),Io(It(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=It(s,l),d=pr(e.stateNode,s,d),Os(e,d),Oe!==4&&(Oe=2)),!1;var h=Error(a(520),{cause:s});if(h=It(h,l),Qo===null?Qo=[h]:Qo.push(h),Oe!==4&&(Oe=2),n===null)return!0;s=It(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=pr(l.stateNode,s,e),Os(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Pn===null||!Pn.has(h))))return l.flags|=65536,d&=-d,l.lanes|=d,d=id(d),od(d,e,l,s),Os(l,d),!1}l=l.return}while(l!==null);return!1}var hr=Error(a(461)),Xe=!1;function it(e,n,l,s){n.child=e===null?rf(n,null,l,s):hi(n,e.child,l,s)}function ld(e,n,l,s,d){l=l.render;var h=n.ref;if("ref"in s){var T={};for(var C in s)C!=="ref"&&(T[C]=s[C])}else T=s;return ci(n),s=$s(e,n,l,T,h,d),C=Qs(),e!==null&&!Xe?(Zs(e,n,d),dn(e,n,d)):(Ae&&C&&Ms(n),n.flags|=1,it(e,n,s,d),n.child)}function ad(e,n,l,s,d){if(e===null){var h=l.type;return typeof h=="function"&&!Rs(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,sd(e,n,h,s,d)):(e=Gl(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!_r(e,d)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:wo,l(T,s)&&e.ref===n.ref)return dn(e,n,d)}return n.flags|=1,e=an(h,s),e.ref=n.ref,e.return=n,n.child=e}function sd(e,n,l,s,d){if(e!==null){var h=e.memoizedProps;if(wo(h,s)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=s=h,_r(e,d))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,dn(e,n,d)}return mr(e,n,l,s,d)}function rd(e,n,l,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return ud(e,n,h,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&kl(n,h!==null?h.cachePool:null),h!==null?ff(n,h):Ys(),df(n);else return s=n.lanes=536870912,ud(e,n,h!==null?h.baseLanes|l:l,l,s)}else h!==null?(kl(n,h.cachePool),ff(n,h),Hn(),n.memoizedState=null):(e!==null&&kl(n,null),Ys(),Hn());return it(e,n,d,l),n.child}function Oo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ud(e,n,l,s,d){var h=ks();return h=h===null?null:{parent:Je._currentValue,pool:h},n.memoizedState={baseLanes:l,cachePool:h},e!==null&&kl(n,null),Ys(),df(n),e!==null&&ki(e,n,s,!0),n.childLanes=d,null}function ta(e,n){return n=ia({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cd(e,n,l){return hi(n,e.child,null,l),e=ta(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function l0(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=ta(n,s),n.lanes=536870912,Oo(null,e);if(Ks(n),(e=Ve)?(e=_p(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Xt,overflow:$t}:null,retryLane:536870912,hydrationErrors:null},l=Jc(e),l.return=n,n.child=l,tt=n,Ve=null)):e=null,e===null)throw Mn(n);return n.lanes=536870912,null}return ta(n,s)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(Ks(n),d)if(n.flags&256)n.flags&=-257,n=cd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xe||ki(e,n,l,!1),d=(l&e.childLanes)!==0,Xe||d){if(s=He,s!==null&&(T=ju(s,l),T!==0&&T!==h.retryLane))throw h.retryLane=T,ai(e,T),gt(s,e,T),hr;da(),n=cd(e,n,l)}else e=h.treeContext,Ve=Ht(T.nextSibling),tt=n,Ae=!0,Nn=null,Lt=!1,e!==null&&$c(n,e),n=ta(n,s),n.flags|=4096;return n}return e=an(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function na(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function mr(e,n,l,s,d){return ci(n),l=$s(e,n,l,s,void 0,d),s=Qs(),e!==null&&!Xe?(Zs(e,n,d),dn(e,n,d)):(Ae&&s&&Ms(n),n.flags|=1,it(e,n,l,d),n.child)}function fd(e,n,l,s,d,h){return ci(n),n.updateQueue=null,l=hf(n,s,l,d),pf(e),s=Qs(),e!==null&&!Xe?(Zs(e,n,h),dn(e,n,h)):(Ae&&s&&Ms(n),n.flags|=1,it(e,n,l,h),n.child)}function dd(e,n,l,s,d){if(ci(n),n.stateNode===null){var h=Gi,T=l.contextType;typeof T=="object"&&T!==null&&(h=nt(T)),h=new l(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=dr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Bs(n),T=l.contextType,h.context=typeof T=="object"&&T!==null?nt(T):Gi,h.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(fr(n,l,T,s),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&dr.enqueueReplaceState(h,h.state,null),Vo(n,s,h,d),qo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var C=n.memoizedProps,x=gi(l,C);h.props=x;var D=h.context,B=l.contextType;T=Gi,typeof B=="object"&&B!==null&&(T=nt(B));var F=l.getDerivedStateFromProps;B=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||D!==T)&&Wf(n,h,s,T),Dn=!1;var U=n.memoizedState;h.state=U,Vo(n,s,h,d),qo(),D=n.memoizedState,C||U!==D||Dn?(typeof F=="function"&&(fr(n,l,F,s),D=n.memoizedState),(x=Dn||Zf(n,l,x,s,U,D,T))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),h.props=s,h.state=D,h.context=T,s=x):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,zs(e,n),T=n.memoizedProps,B=gi(l,T),h.props=B,F=n.pendingProps,U=h.context,D=l.contextType,x=Gi,typeof D=="object"&&D!==null&&(x=nt(D)),C=l.getDerivedStateFromProps,(D=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==F||U!==x)&&Wf(n,h,s,x),Dn=!1,U=n.memoizedState,h.state=U,Vo(n,s,h,d),qo();var q=n.memoizedState;T!==F||U!==q||Dn||e!==null&&e.dependencies!==null&&ql(e.dependencies)?(typeof C=="function"&&(fr(n,l,C,s),q=n.memoizedState),(B=Dn||Zf(n,l,B,s,U,q,x)||e!==null&&e.dependencies!==null&&ql(e.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,q,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,q,x)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=q),h.props=s,h.state=q,h.context=x,s=B):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,na(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=hi(n,e.child,null,d),n.child=hi(n,null,l,d)):it(e,n,l,d),n.memoizedState=h.state,e=n.child):e=dn(e,n,d),e}function pd(e,n,l,s){return ri(),n.flags|=256,it(e,n,l,s),n.child}var gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:tf()}}function vr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=bt),e}function hd(e,n,l){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(d?Gn(n):Hn(),(e=Ve)?(e=_p(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:Xt,overflow:$t}:null,retryLane:536870912,hydrationErrors:null},l=Jc(e),l.return=n,n.child=l,tt=n,Ve=null)):e=null,e===null)throw Mn(n);return eu(e)?n.lanes=32:n.lanes=536870912,null}var C=s.children;return s=s.fallback,d?(Hn(),d=n.mode,C=ia({mode:"hidden",children:C},d),s=si(s,d,l,null),C.return=n,s.return=n,C.sibling=s,n.child=C,s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,Oo(null,s)):(Gn(n),Tr(n,C))}var x=e.memoizedState;if(x!==null&&(C=x.dehydrated,C!==null)){if(h)n.flags&256?(Gn(n),n.flags&=-257,n=Sr(e,n,l)):n.memoizedState!==null?(Hn(),n.child=e.child,n.flags|=128,n=null):(Hn(),C=s.fallback,d=n.mode,s=ia({mode:"visible",children:s.children},d),C=si(C,d,l,null),C.flags|=2,s.return=n,C.return=n,s.sibling=C,n.child=s,hi(n,e.child,null,l),s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,n=Oo(null,s));else if(Gn(n),eu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var D=T.dgst;T=D,s=Error(a(419)),s.stack="",s.digest=T,Io({value:s,source:null,stack:null}),n=Sr(e,n,l)}else if(Xe||ki(e,n,l,!1),T=(l&e.childLanes)!==0,Xe||T){if(T=He,T!==null&&(s=ju(T,l),s!==0&&s!==x.retryLane))throw x.retryLane=s,ai(e,s),gt(T,e,s),hr;jr(C)||da(),n=Sr(e,n,l)}else jr(C)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,Ve=Ht(C.nextSibling),tt=n,Ae=!0,Nn=null,Lt=!1,e!==null&&$c(n,e),n=Tr(n,s.children),n.flags|=4096);return n}return d?(Hn(),C=s.fallback,d=n.mode,x=e.child,D=x.sibling,s=an(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,D!==null?C=an(D,C):(C=si(C,d,l,null),C.flags|=2),C.return=n,s.return=n,s.sibling=C,n.child=s,Oo(null,s),s=n.child,C=e.child.memoizedState,C===null?C=yr(l):(d=C.cachePool,d!==null?(x=Je._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=tf(),C={baseLanes:C.baseLanes|l,cachePool:d}),s.memoizedState=C,s.childLanes=vr(e,T,l),n.memoizedState=gr,Oo(e.child,s)):(Gn(n),l=e.child,e=l.sibling,l=an(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Tr(e,n){return n=ia({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ia(e,n){return e=_t(22,e,null,n),e.lanes=0,e}function Sr(e,n,l){return hi(n,e.child,null,l),e=Tr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function md(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,l)}function Er(e,n,l,s,d,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:h}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=d,T.treeForkCount=h)}function gd(e,n,l){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var T=Fe.current,C=(T&2)!==0;if(C?(T=T&1|2,n.flags|=128):T&=1,Z(Fe,T),it(e,n,s,l),s=Ae?Mo:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,l,n);else if(e.tag===19)md(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Yl(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Er(n,!1,d,l,h,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Yl(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Er(n,!0,l,null,h,s);break;case"together":Er(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function dn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),kn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(ki(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=an(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=an(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function _r(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ql(e)))}function a0(e,n,l){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),In(n,Je,e.memoizedState.cache),ri();break;case 27:case 5:An(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:In(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ks(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Gn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?hd(e,n,l):(Gn(n),e=dn(e,n,l),e!==null?e.sibling:null);Gn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(ki(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return gd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(Fe,Fe.current),s)break;return null;case 22:return n.lanes=0,rd(e,n,l,n.pendingProps);case 24:In(n,Je,e.memoizedState.cache)}return dn(e,n,l)}function yd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!_r(e,l)&&(n.flags&128)===0)return Xe=!1,a0(e,n,l);Xe=(e.flags&131072)!==0}else Xe=!1,Ae&&(n.flags&1048576)!==0&&Xc(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=di(n.elementType),n.type=e,typeof e=="function")Rs(e)?(s=gi(e,s),n.tag=1,n=dd(null,n,e,s,l)):(n.tag=0,n=mr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===V){n.tag=11,n=ld(null,n,e,s,l);break e}else if(d===J){n.tag=14,n=ad(null,n,e,s,l);break e}}throw n=_e(e)||e,Error(a(306,n,""))}}return n;case 0:return mr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=gi(s,n.pendingProps),dd(e,n,s,d,l);case 3:e:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,zs(e,n),Vo(n,s,null,l);var T=n.memoizedState;if(s=T.cache,In(n,Je,s),s!==h.cache&&Hs(n,[Je],l,!0),qo(),s=T.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=pd(e,n,s,l);break e}else if(s!==d){d=It(Error(a(424)),n),Io(d),n=pd(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Ht(e.firstChild),tt=n,Ae=!0,Nn=null,Lt=!0,l=rf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ri(),s===d){n=dn(e,n,l);break e}it(e,n,s,l)}n=n.child}return n;case 26:return na(e,n),e===null?(l=wp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ae||(l=n.type,e=n.pendingProps,s=Ta(de.current).createElement(l),s[et]=n,s[ct]=e,ot(s,l,e),Ze(s),n.stateNode=s):n.memoizedState=wp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return An(n),e===null&&Ae&&(s=n.stateNode=xp(n.type,n.pendingProps,de.current),tt=n,Lt=!0,d=Ve,Fn(n.type)?(tu=d,Ve=Ht(s.firstChild)):Ve=d),it(e,n,n.pendingProps.children,l),na(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((d=s=Ve)&&(s=H0(s,n.type,n.pendingProps,Lt),s!==null?(n.stateNode=s,tt=n,Ve=Ht(s.firstChild),Lt=!1,d=!0):d=!1),d||Mn(n)),An(n),d=n.type,h=n.pendingProps,T=e!==null?e.memoizedProps:null,s=h.children,Qr(d,h)?s=null:T!==null&&Qr(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=$s(e,n,Zy,null,null,l),ol._currentValue=d),na(e,n),it(e,n,s,l),n.child;case 6:return e===null&&Ae&&((e=l=Ve)&&(l=q0(l,n.pendingProps,Lt),l!==null?(n.stateNode=l,tt=n,Ve=null,e=!0):e=!1),e||Mn(n)),null;case 13:return hd(e,n,l);case 4:return Ce(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=hi(n,null,s,l):it(e,n,s,l),n.child;case 11:return ld(e,n,n.type,n.pendingProps,l);case 7:return it(e,n,n.pendingProps,l),n.child;case 8:return it(e,n,n.pendingProps.children,l),n.child;case 12:return it(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,In(n,n.type,s.value),it(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ci(n),d=nt(d),s=s(d),n.flags|=1,it(e,n,s,l),n.child;case 14:return ad(e,n,n.type,n.pendingProps,l);case 15:return sd(e,n,n.type,n.pendingProps,l);case 19:return gd(e,n,l);case 31:return l0(e,n,l);case 22:return rd(e,n,l,n.pendingProps);case 24:return ci(n),s=nt(Je),e===null?(d=ks(),d===null&&(d=He,h=qs(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=l),d=h),n.memoizedState={parent:s,cache:d},Bs(n),In(n,Je,d)):((e.lanes&l)!==0&&(zs(e,n),Vo(n,null,null,l),qo()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),In(n,Je,s)):(s=h.cache,In(n,Je,s),s!==d.cache&&Hs(n,[Je],l,!0))),it(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function pn(e){e.flags|=4}function Cr(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Fd())e.flags|=8192;else throw pi=Bl,Ps}else e.flags&=-16777217}function vd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Up(n))if(Fd())e.flags|=8192;else throw pi=Bl,Ps}function oa(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Qu():536870912,e.lanes|=n,Zi|=n)}function Fo(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ke(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function s0(e,n,l){var s=n.pendingProps;switch(Is(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(n),null;case 1:return ke(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),un(Je),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Vi(n)?pn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Us())),ke(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(pn(n),h!==null?(ke(n),vd(n,h)):(ke(n),Cr(n,d,null,s,l))):h?h!==e.memoizedState?(pn(n),ke(n),vd(n,h)):(ke(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&pn(n),ke(n),Cr(n,d,e,s,l)),null;case 27:if(Wn(n),l=de.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&pn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ke(n),null}e=ee.current,Vi(n)?Qc(n):(e=xp(d,s,l),n.stateNode=e,pn(n))}return ke(n),null;case 5:if(Wn(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&pn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ke(n),null}if(h=ee.current,Vi(n))Qc(n);else{var T=Ta(de.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}h[et]=n,h[ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=h;e:switch(ot(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&pn(n)}}return ke(n),Cr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&pn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=de.current,Vi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=tt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[et]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||hp(e.nodeValue,l)),e||Mn(n,!0)}else e=Ta(e).createTextNode(s),e[et]=n,n.stateNode=e}return ke(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Vi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[et]=n}else ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),e=!1}else l=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ke(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Vi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[et]=n}else ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),d=!1}else d=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),oa(n,n.updateQueue),ke(n),null);case 4:return qe(),e===null&&Yr(n.stateNode.containerInfo),ke(n),null;case 10:return un(n.type),ke(n),null;case 19:if(z(Fe),s=n.memoizedState,s===null)return ke(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)Fo(s,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Yl(e),h!==null){for(n.flags|=128,Fo(s,!1),e=h.updateQueue,n.updateQueue=e,oa(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Yc(l,e),l=l.sibling;return Z(Fe,Fe.current&1|2),Ae&&sn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&vt()>ua&&(n.flags|=128,d=!0,Fo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Yl(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,oa(n,e),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ae)return ke(n),null}else 2*vt()-s.renderingStartTime>ua&&l!==536870912&&(n.flags|=128,d=!0,Fo(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,l=Fe.current,Z(Fe,d?l&1|2:l&1),Ae&&sn(n,s.treeForkCount),e):(ke(n),null);case 22:case 23:return At(n),Js(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(ke(n),n.subtreeFlags&6&&(n.flags|=8192)):ke(n),l=n.updateQueue,l!==null&&oa(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&z(fi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),un(Je),ke(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function r0(e,n){switch(Is(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return un(Je),qe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Wn(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(a(340));ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(Fe),null;case 4:return qe(),null;case 10:return un(n.type),null;case 22:case 23:return At(n),Js(),e!==null&&z(fi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return un(Je),null;case 25:return null;default:return null}}function Td(e,n){switch(Is(n),n.tag){case 3:un(Je),qe();break;case 26:case 27:case 5:Wn(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:z(Fe);break;case 10:un(n.type);break;case 22:case 23:At(n),Js(),e!==null&&z(fi);break;case 24:un(Je)}}function Yo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var h=l.create,T=l.inst;s=h(),T.destroy=s}l=l.next}while(l!==d)}}catch(C){De(n,n.return,C)}}function qn(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var T=s.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=n;var x=l,D=C;try{D()}catch(B){De(d,x,B)}}}s=s.next}while(s!==h)}}catch(B){De(n,n.return,B)}}function Sd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{cf(n,l)}catch(s){De(e,e.return,s)}}}function Ed(e,n,l){l.props=gi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){De(e,n,s)}}function Jo(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){De(e,n,d)}}function Qt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){De(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){De(e,n,d)}else l.current=null}function _d(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){De(e,e.return,d)}}function Ar(e,n,l){try{var s=e.stateNode;M0(s,e.type,l,n),s[ct]=n}catch(d){De(e,e.return,d)}}function Cd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function br(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=on));else if(s!==4&&(s===27&&Fn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(br(e,n,l),e=e.sibling;e!==null;)br(e,n,l),e=e.sibling}function la(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Fn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(la(e,n,l),e=e.sibling;e!==null;)la(e,n,l),e=e.sibling}function Ad(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ot(n,s,l),n[et]=e,n[ct]=l}catch(h){De(e,e.return,h)}}var hn=!1,$e=!1,Rr=!1,xd=typeof WeakSet=="function"?WeakSet:Set,We=null;function u0(e,n){if(e=e.containerInfo,Xr=ba,e=Hc(e),Ss(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var T=0,C=-1,x=-1,D=0,B=0,F=e,U=null;t:for(;;){for(var q;F!==l||d!==0&&F.nodeType!==3||(C=T+d),F!==h||s!==0&&F.nodeType!==3||(x=T+s),F.nodeType===3&&(T+=F.nodeValue.length),(q=F.firstChild)!==null;)U=F,F=q;for(;;){if(F===e)break t;if(U===l&&++D===d&&(C=T),U===h&&++B===s&&(x=T),(q=F.nextSibling)!==null)break;F=U,U=F.parentNode}F=q}l=C===-1||x===-1?null:{start:C,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for($r={focusedElem:e,selectionRange:l},ba=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,d=h.memoizedProps,h=h.memoizedState,s=l.stateNode;try{var ie=gi(l.type,d);e=s.getSnapshotBeforeUpdate(ie,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ue){De(l,l.return,ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function bd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:gn(e,l),s&4&&Yo(5,l);break;case 1:if(gn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){De(l,l.return,T)}else{var d=gi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){De(l,l.return,T)}}s&64&&Sd(l),s&512&&Jo(l,l.return);break;case 3:if(gn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{cf(e,n)}catch(T){De(l,l.return,T)}}break;case 27:n===null&&s&4&&Ad(l);case 26:case 5:gn(e,l),n===null&&s&4&&_d(l),s&512&&Jo(l,l.return);break;case 12:gn(e,l);break;case 31:gn(e,l),s&4&&Nd(e,l);break;case 13:gn(e,l),s&4&&Md(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=v0.bind(null,l),V0(e,l))));break;case 22:if(s=l.memoizedState!==null||hn,!s){n=n!==null&&n.memoizedState!==null||$e,d=hn;var h=$e;hn=s,($e=n)&&!h?yn(e,l,(l.subtreeFlags&8772)!==0):gn(e,l),hn=d,$e=h}break;case 30:break;default:gn(e,l)}}function Rd(e){var n=e.alternate;n!==null&&(e.alternate=null,Rd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,dt=!1;function mn(e,n,l){for(l=l.child;l!==null;)wd(e,n,l),l=l.sibling}function wd(e,n,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(go,l)}catch{}switch(l.tag){case 26:$e||Qt(l,n),mn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$e||Qt(l,n);var s=Be,d=dt;Fn(l.type)&&(Be=l.stateNode,dt=!1),mn(e,n,l),tl(l.stateNode),Be=s,dt=d;break;case 5:$e||Qt(l,n);case 6:if(s=Be,d=dt,Be=null,mn(e,n,l),Be=s,dt=d,Be!==null)if(dt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(l.stateNode)}catch(h){De(l,n,h)}else try{Be.removeChild(l.stateNode)}catch(h){De(l,n,h)}break;case 18:Be!==null&&(dt?(e=Be,Sp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),lo(e)):Sp(Be,l.stateNode));break;case 4:s=Be,d=dt,Be=l.stateNode.containerInfo,dt=!0,mn(e,n,l),Be=s,dt=d;break;case 0:case 11:case 14:case 15:qn(2,l,n),$e||qn(4,l,n),mn(e,n,l);break;case 1:$e||(Qt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Ed(l,n,s)),mn(e,n,l);break;case 21:mn(e,n,l);break;case 22:$e=(s=$e)||l.memoizedState!==null,mn(e,n,l),$e=s;break;default:mn(e,n,l)}}function Nd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{lo(e)}catch(l){De(n,n.return,l)}}}function Md(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(l){De(n,n.return,l)}}function c0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xd),n;default:throw Error(a(435,e.tag))}}function aa(e,n){var l=c0(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=T0.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],h=e,T=n,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Fn(C.type)){Be=C.stateNode,dt=!1;break e}break;case 5:Be=C.stateNode,dt=!1;break e;case 3:case 4:Be=C.stateNode.containerInfo,dt=!0;break e}C=C.return}if(Be===null)throw Error(a(160));wd(h,T,d),Be=null,dt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Id(n,e),n=n.sibling}var Bt=null;function Id(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),ht(e),s&4&&(qn(3,e,e.return),Yo(3,e),qn(5,e,e.return));break;case 1:pt(n,e),ht(e),s&512&&($e||l===null||Qt(l,l.return)),s&64&&hn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Bt;if(pt(n,e),ht(e),s&512&&($e||l===null||Qt(l,l.return)),s&4){var h=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[To]||h[et]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),ot(h,s,l),h[et]=e,Ze(h),s=h;break e;case"link":var T=Ip("link","href",d).get(s+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(h=T[C],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}h=d.createElement(s),ot(h,s,l),d.head.appendChild(h);break;case"meta":if(T=Ip("meta","content",d).get(s+(l.content||""))){for(C=0;C<T.length;C++)if(h=T[C],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}h=d.createElement(s),ot(h,s,l),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[et]=e,Ze(h),s=h}e.stateNode=s}else Dp(d,e.type,e.stateNode);else e.stateNode=Mp(d,s,e.memoizedProps);else h!==s?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,s===null?Dp(d,e.type,e.stateNode):Mp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ar(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(n,e),ht(e),s&512&&($e||l===null||Qt(l,l.return)),l!==null&&s&4&&Ar(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(n,e),ht(e),s&512&&($e||l===null||Qt(l,l.return)),e.flags&32){d=e.stateNode;try{wi(d,"")}catch(ie){De(e,e.return,ie)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Ar(e,d,l!==null?l.memoizedProps:d)),s&1024&&(Rr=!0);break;case 6:if(pt(n,e),ht(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(ie){De(e,e.return,ie)}}break;case 3:if(_a=null,d=Bt,Bt=Sa(n.containerInfo),pt(n,e),Bt=d,ht(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch(ie){De(e,e.return,ie)}Rr&&(Rr=!1,Dd(e));break;case 4:s=Bt,Bt=Sa(e.stateNode.containerInfo),pt(n,e),ht(e),Bt=s;break;case 12:pt(n,e),ht(e);break;case 31:pt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 13:pt(n,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ra=vt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 22:d=e.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,D=hn,B=$e;if(hn=D||d,$e=B||x,pt(n,e),$e=B,hn=D,ht(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||x||hn||$e||yi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){x=l=n;try{if(h=x.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=x.stateNode;var F=x.memoizedProps.style,U=F!=null&&F.hasOwnProperty("display")?F.display:null;C.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ie){De(x,x.return,ie)}}}else if(n.tag===6){if(l===null){x=n;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(ie){De(x,x.return,ie)}}}else if(n.tag===18){if(l===null){x=n;try{var q=x.stateNode;d?Ep(q,!0):Ep(x.stateNode,!1)}catch(ie){De(x,x.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,aa(e,l))));break;case 19:pt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 30:break;case 21:break;default:pt(n,e),ht(e)}}function ht(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Cd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,h=xr(e);la(e,h,d);break;case 5:var T=l.stateNode;l.flags&32&&(wi(T,""),l.flags&=-33);var C=xr(e);la(e,C,T);break;case 3:case 4:var x=l.stateNode.containerInfo,D=xr(e);br(e,D,x);break;default:throw Error(a(161))}}catch(B){De(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function gn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bd(e,n.alternate,n),n=n.sibling}function yi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qn(4,n,n.return),yi(n);break;case 1:Qt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Ed(n,n.return,l),yi(n);break;case 27:tl(n.stateNode);case 26:case 5:Qt(n,n.return),yi(n);break;case 22:n.memoizedState===null&&yi(n);break;case 30:yi(n);break;default:yi(n)}e=e.sibling}}function yn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,T=h.flags;switch(h.tag){case 0:case 11:case 15:yn(d,h,l),Yo(4,h);break;case 1:if(yn(d,h,l),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){De(s,s.return,D)}if(s=h,d=s.updateQueue,d!==null){var C=s.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)uf(x[d],C)}catch(D){De(s,s.return,D)}}l&&T&64&&Sd(h),Jo(h,h.return);break;case 27:Ad(h);case 26:case 5:yn(d,h,l),l&&s===null&&T&4&&_d(h),Jo(h,h.return);break;case 12:yn(d,h,l);break;case 31:yn(d,h,l),l&&T&4&&Nd(d,h);break;case 13:yn(d,h,l),l&&T&4&&Md(d,h);break;case 22:h.memoizedState===null&&yn(d,h,l),Jo(h,h.return);break;case 30:break;default:yn(d,h,l)}n=n.sibling}}function wr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Do(l))}function Nr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Do(e))}function zt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ud(e,n,l,s),n=n.sibling}function Ud(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:zt(e,n,l,s),d&2048&&Yo(9,n);break;case 1:zt(e,n,l,s);break;case 3:zt(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Do(e)));break;case 12:if(d&2048){zt(e,n,l,s),e=n.stateNode;try{var h=n.memoizedProps,T=h.id,C=h.onPostCommit;typeof C=="function"&&C(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){De(n,n.return,x)}}else zt(e,n,l,s);break;case 31:zt(e,n,l,s);break;case 13:zt(e,n,l,s);break;case 23:break;case 22:h=n.stateNode,T=n.alternate,n.memoizedState!==null?h._visibility&2?zt(e,n,l,s):Ko(e,n):h._visibility&2?zt(e,n,l,s):(h._visibility|=2,Xi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&wr(T,n);break;case 24:zt(e,n,l,s),d&2048&&Nr(n.alternate,n);break;default:zt(e,n,l,s)}}function Xi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,T=n,C=l,x=s,D=T.flags;switch(T.tag){case 0:case 11:case 15:Xi(h,T,C,x,d),Yo(8,T);break;case 23:break;case 22:var B=T.stateNode;T.memoizedState!==null?B._visibility&2?Xi(h,T,C,x,d):Ko(h,T):(B._visibility|=2,Xi(h,T,C,x,d)),d&&D&2048&&wr(T.alternate,T);break;case 24:Xi(h,T,C,x,d),d&&D&2048&&Nr(T.alternate,T);break;default:Xi(h,T,C,x,d)}n=n.sibling}}function Ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:Ko(l,s),d&2048&&wr(s.alternate,s);break;case 24:Ko(l,s),d&2048&&Nr(s.alternate,s);break;default:Ko(l,s)}n=n.sibling}}var Xo=8192;function $i(e,n,l){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)Ld(e,n,l),e=e.sibling}function Ld(e,n,l){switch(e.tag){case 26:$i(e,n,l),e.flags&Xo&&e.memoizedState!==null&&Q0(l,Bt,e.memoizedState,e.memoizedProps);break;case 5:$i(e,n,l);break;case 3:case 4:var s=Bt;Bt=Sa(e.stateNode.containerInfo),$i(e,n,l),Bt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Xo,Xo=16777216,$i(e,n,l),Xo=s):$i(e,n,l));break;default:$i(e,n,l)}}function Gd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];We=s,qd(s,e)}Gd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hd(e),e=e.sibling}function Hd(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&qn(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sa(e)):$o(e);break;default:$o(e)}}function sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];We=s,qd(s,e)}Gd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qn(8,n,n.return),sa(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,sa(n));break;default:sa(n)}e=e.sibling}}function qd(e,n){for(;We!==null;){var l=We;switch(l.tag){case 0:case 11:case 15:qn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Do(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,We=s;else e:for(l=e;We!==null;){s=We;var d=s.sibling,h=s.return;if(Rd(s),s===l){We=null;break e}if(d!==null){d.return=h,We=d;break e}We=h}}}var f0={getCacheForType:function(e){var n=nt(Je),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return nt(Je).controller.signal}},d0=typeof WeakMap=="function"?WeakMap:Map,Ne=0,He=null,ve=null,Se=0,Ie=0,xt=null,Vn=!1,Qi=!1,Mr=!1,vn=0,Oe=0,kn=0,vi=0,Ir=0,bt=0,Zi=0,Qo=null,mt=null,Dr=!1,ra=0,Vd=0,ua=1/0,ca=null,Pn=null,Qe=0,Bn=null,Wi=null,Tn=0,Ur=0,Lr=null,kd=null,Zo=0,Gr=null;function Rt(){return(Ne&2)!==0&&Se!==0?Se&-Se:k.T!==null?Br():ec()}function Pd(){if(bt===0)if((Se&536870912)===0||Ae){var e=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),bt=e}else bt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),bt}function gt(e,n,l){(e===He&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(ji(e,0),zn(e,Se,bt,!1)),vo(e,l),((Ne&2)===0||e!==He)&&(e===He&&((Ne&2)===0&&(vi|=l),Oe===4&&zn(e,Se,bt,!1)),Zt(e))}function Bd(e,n,l){if((Ne&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||yo(e,n),d=s?m0(e,n):qr(e,n,!0),h=s;do{if(d===0){Qi&&!s&&zn(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!p0(l)){d=qr(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var C=e;d=Qo;var x=C.current.memoizedState.isDehydrated;if(x&&(ji(C,T).flags|=256),T=qr(C,T,!1),T!==2){if(Mr&&!x){C.errorRecoveryDisabledLanes|=h,vi|=h,d=4;break e}h=mt,mt=d,h!==null&&(mt===null?mt=h:mt.push.apply(mt,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){ji(e,0),zn(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zn(s,n,bt,!Vn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ra+300-vt(),10<d)){if(zn(s,n,bt,!Vn),Sl(s,0,!0)!==0)break e;Tn=n,s.timeoutHandle=vp(zd.bind(null,s,l,mt,ca,Dr,n,bt,vi,Zi,Vn,h,"Throttled",-0,0),d);break e}zd(s,l,mt,ca,Dr,n,bt,vi,Zi,Vn,h,null,-0,0)}}break}while(!0);Zt(e)}function zd(e,n,l,s,d,h,T,C,x,D,B,F,U,q){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Ld(n,h,F);var ie=(h&62914560)===h?ra-vt():(h&4194048)===h?Vd-vt():0;if(ie=Z0(F,ie),ie!==null){Tn=h,e.cancelPendingCommit=ie(Qd.bind(null,e,n,h,l,s,d,T,C,x,B,F,null,U,q)),zn(e,h,T,!D);return}}Qd(e,n,h,l,s,d,T,C,x)}function p0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],h=d.getSnapshot;d=d.value;try{if(!Et(h(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zn(e,n,l,s){n&=~Ir,n&=~vi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-St(d),T=1<<h;s[h]=-1,d&=~T}l!==0&&Zu(e,l,n)}function fa(){return(Ne&6)===0?(Wo(0),!1):!0}function Hr(){if(ve!==null){if(Ie===0)var e=ve.return;else e=ve,rn=ui=null,Ws(e),Oi=null,Lo=0,e=ve;for(;e!==null;)Td(e.alternate,e),e=e.return;ve=null}}function ji(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,U0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Tn=0,Hr(),He=e,ve=l=an(e.current,null),Se=n,Ie=0,xt=null,Vn=!1,Qi=yo(e,n),Mr=!1,Zi=bt=Ir=vi=kn=Oe=0,mt=Qo=null,Dr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-St(s),h=1<<d;n|=e[d],s&=~h}return vn=n,Dl(),l}function Od(e,n){he=null,k.H=zo,n===zi||n===Pl?(n=lf(),Ie=3):n===Ps?(n=lf(),Ie=4):Ie=n===hr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xt=n,ve===null&&(Oe=1,ea(e,It(n,e.current)))}function Fd(){var e=Ct.current;return e===null?!0:(Se&4194048)===Se?Gt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Gt:!1}function Yd(){var e=k.H;return k.H=zo,e===null?zo:e}function Jd(){var e=k.A;return k.A=f0,e}function da(){Oe=4,Vn||(Se&4194048)!==Se&&Ct.current!==null||(Qi=!0),(kn&134217727)===0&&(vi&134217727)===0||He===null||zn(He,Se,bt,!1)}function qr(e,n,l){var s=Ne;Ne|=2;var d=Yd(),h=Jd();(He!==e||Se!==n)&&(ca=null,ji(e,n)),n=!1;var T=Oe;e:do try{if(Ie!==0&&ve!==null){var C=ve,x=xt;switch(Ie){case 8:Hr(),T=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var D=Ie;if(Ie=0,xt=null,eo(e,C,x,D),l&&Qi){T=0;break e}break;default:D=Ie,Ie=0,xt=null,eo(e,C,x,D)}}h0(),T=Oe;break}catch(B){Od(e,B)}while(!0);return n&&e.shellSuspendCounter++,rn=ui=null,Ne=s,k.H=d,k.A=h,ve===null&&(He=null,Se=0,Dl()),T}function h0(){for(;ve!==null;)Kd(ve)}function m0(e,n){var l=Ne;Ne|=2;var s=Yd(),d=Jd();He!==e||Se!==n?(ca=null,ua=vt()+500,ji(e,n)):Qi=yo(e,n);e:do try{if(Ie!==0&&ve!==null){n=ve;var h=xt;t:switch(Ie){case 1:Ie=0,xt=null,eo(e,n,h,1);break;case 2:case 9:if(nf(h)){Ie=0,xt=null,Xd(n);break}n=function(){Ie!==2&&Ie!==9||He!==e||(Ie=7),Zt(e)},h.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:nf(h)?(Ie=0,xt=null,Xd(n)):(Ie=0,xt=null,eo(e,n,h,7));break;case 5:var T=null;switch(ve.tag){case 26:T=ve.memoizedState;case 5:case 27:var C=ve;if(T?Up(T):C.stateNode.complete){Ie=0,xt=null;var x=C.sibling;if(x!==null)ve=x;else{var D=C.return;D!==null?(ve=D,pa(D)):ve=null}break t}}Ie=0,xt=null,eo(e,n,h,5);break;case 6:Ie=0,xt=null,eo(e,n,h,6);break;case 8:Hr(),Oe=6;break e;default:throw Error(a(462))}}g0();break}catch(B){Od(e,B)}while(!0);return rn=ui=null,k.H=s,k.A=d,Ne=l,ve!==null?0:(He=null,Se=0,Dl(),Oe)}function g0(){for(;ve!==null&&!kg();)Kd(ve)}function Kd(e){var n=yd(e.alternate,e,vn);e.memoizedProps=e.pendingProps,n===null?pa(e):ve=n}function Xd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=fd(l,n,n.pendingProps,n.type,void 0,Se);break;case 11:n=fd(l,n,n.pendingProps,n.type.render,n.ref,Se);break;case 5:Ws(n);default:Td(l,n),n=ve=Yc(n,vn),n=yd(l,n,vn)}e.memoizedProps=e.pendingProps,n===null?pa(e):ve=n}function eo(e,n,l,s){rn=ui=null,Ws(n),Oi=null,Lo=0;var d=n.return;try{if(o0(e,d,n,l,Se)){Oe=1,ea(e,It(l,e.current)),ve=null;return}}catch(h){if(d!==null)throw ve=d,h;Oe=1,ea(e,It(l,e.current)),ve=null;return}n.flags&32768?(Ae||s===1?e=!0:Qi||(Se&536870912)!==0?e=!1:(Vn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),$d(n,e)):pa(n)}function pa(e){var n=e;do{if((n.flags&32768)!==0){$d(n,Vn);return}e=n.return;var l=s0(n.alternate,n,vn);if(l!==null){ve=l;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=e}while(n!==null);Oe===0&&(Oe=5)}function $d(e,n){do{var l=r0(e.alternate,e);if(l!==null){l.flags&=32767,ve=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){ve=e;return}ve=e=l}while(e!==null);Oe=6,ve=null}function Qd(e,n,l,s,d,h,T,C,x){e.cancelPendingCommit=null;do ha();while(Qe!==0);if((Ne&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=xs,$g(e,l,h,T,C,x),e===He&&(ve=He=null,Se=0),Wi=n,Bn=e,Tn=l,Ur=h,Lr=d,kd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S0(gl,function(){return tp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,d=Q.p,Q.p=2,T=Ne,Ne|=4;try{u0(e,n,l)}finally{Ne=T,Q.p=d,k.T=s}}Qe=1,Zd(),Wd(),jd()}}function Zd(){if(Qe===1){Qe=0;var e=Bn,n=Wi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var s=Q.p;Q.p=2;var d=Ne;Ne|=4;try{Id(n,e);var h=$r,T=Hc(e.containerInfo),C=h.focusedElem,x=h.selectionRange;if(T!==C&&C&&C.ownerDocument&&Gc(C.ownerDocument.documentElement,C)){if(x!==null&&Ss(C)){var D=x.start,B=x.end;if(B===void 0&&(B=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(B,C.value.length);else{var F=C.ownerDocument||document,U=F&&F.defaultView||window;if(U.getSelection){var q=U.getSelection(),ie=C.textContent.length,ue=Math.min(x.start,ie),Ge=x.end===void 0?ue:Math.min(x.end,ie);!q.extend&&ue>Ge&&(T=Ge,Ge=ue,ue=T);var N=Lc(C,ue),R=Lc(C,Ge);if(N&&R&&(q.rangeCount!==1||q.anchorNode!==N.node||q.anchorOffset!==N.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var I=F.createRange();I.setStart(N.node,N.offset),q.removeAllRanges(),ue>Ge?(q.addRange(I),q.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),q.addRange(I))}}}}for(F=[],q=C;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<F.length;C++){var O=F[C];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ba=!!Xr,$r=Xr=null}finally{Ne=d,Q.p=s,k.T=l}}e.current=n,Qe=2}}function Wd(){if(Qe===2){Qe=0;var e=Bn,n=Wi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var s=Q.p;Q.p=2;var d=Ne;Ne|=4;try{bd(e,n.alternate,n)}finally{Ne=d,Q.p=s,k.T=l}}Qe=3}}function jd(){if(Qe===4||Qe===3){Qe=0,Pg();var e=Bn,n=Wi,l=Tn,s=kd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Wi=Bn=null,ep(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Pn=null),ts(l),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(go,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,d=Q.p,Q.p=2,k.T=null;try{for(var h=e.onRecoverableError,T=0;T<s.length;T++){var C=s[T];h(C.value,{componentStack:C.stack})}}finally{k.T=n,Q.p=d}}(Tn&3)!==0&&ha(),Zt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Gr?Zo++:(Zo=0,Gr=e):Zo=0,Wo(0)}}function ep(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Do(n)))}function ha(){return Zd(),Wd(),jd(),tp()}function tp(){if(Qe!==5)return!1;var e=Bn,n=Ur;Ur=0;var l=ts(Tn),s=k.T,d=Q.p;try{Q.p=32>l?32:l,k.T=null,l=Lr,Lr=null;var h=Bn,T=Tn;if(Qe=0,Wi=Bn=null,Tn=0,(Ne&6)!==0)throw Error(a(331));var C=Ne;if(Ne|=4,Hd(h.current),Ud(h,h.current,T,l),Ne=C,Wo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(go,h)}catch{}return!0}finally{Q.p=d,k.T=s,ep(e,n)}}function np(e,n,l){n=It(l,n),n=pr(e.stateNode,n,2),e=Ln(e,n,2),e!==null&&(vo(e,2),Zt(e))}function De(e,n,l){if(e.tag===3)np(e,e,l);else for(;n!==null;){if(n.tag===3){np(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pn===null||!Pn.has(s))){e=It(l,e),l=id(2),s=Ln(n,l,2),s!==null&&(od(l,s,n,e),vo(s,2),Zt(s));break}}n=n.return}}function Vr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new d0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(Mr=!0,d.add(l),e=y0.bind(null,e,n,l),n.then(e,e))}function y0(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,He===e&&(Se&l)===l&&(Oe===4||Oe===3&&(Se&62914560)===Se&&300>vt()-ra?(Ne&2)===0&&ji(e,0):Ir|=l,Zi===Se&&(Zi=0)),Zt(e)}function ip(e,n){n===0&&(n=Qu()),e=ai(e,n),e!==null&&(vo(e,n),Zt(e))}function v0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),ip(e,l)}function T0(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),ip(e,l)}function S0(e,n){return ml(e,n)}var ma=null,to=null,kr=!1,ga=!1,Pr=!1,On=0;function Zt(e){e!==to&&e.next===null&&(to===null?ma=to=e:to=to.next=e),ga=!0,kr||(kr=!0,_0())}function Wo(e,n){if(!Pr&&ga){Pr=!0;do for(var l=!1,s=ma;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var T=s.suspendedLanes,C=s.pingedLanes;h=(1<<31-St(42|e)+1)-1,h&=d&~(T&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,sp(s,h))}else h=Se,h=Sl(s,s===He?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||yo(s,h)||(l=!0,sp(s,h));s=s.next}while(l);Pr=!1}}function E0(){op()}function op(){ga=kr=!1;var e=0;On!==0&&D0()&&(e=On);for(var n=vt(),l=null,s=ma;s!==null;){var d=s.next,h=lp(s,n);h===0?(s.next=null,l===null?ma=d:l.next=d,d===null&&(to=l)):(l=s,(e!==0||(h&3)!==0)&&(ga=!0)),s=d}Qe!==0&&Qe!==5||Wo(e),On!==0&&(On=0)}function lp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-St(h),C=1<<T,x=d[T];x===-1?((C&l)===0||(C&s)!==0)&&(d[T]=Xg(C,n)):x<=n&&(e.expiredLanes|=C),h&=~C}if(n=He,l=Se,l=Sl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&mo(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||yo(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&mo(s),ts(l)){case 2:case 8:l=Xu;break;case 32:l=gl;break;case 268435456:l=$u;break;default:l=gl}return s=ap.bind(null,e),l=ml(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&mo(s),e.callbackPriority=2,e.callbackNode=null,2}function ap(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ha()&&e.callbackNode!==l)return null;var s=Se;return s=Sl(e,e===He?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Bd(e,s,n),lp(e,vt()),e.callbackNode!=null&&e.callbackNode===l?ap.bind(null,e):null)}function sp(e,n){if(ha())return null;Bd(e,n,!0)}function _0(){L0(function(){(Ne&6)!==0?ml(Ku,E0):op()})}function Br(){if(On===0){var e=Pi;e===0&&(e=yl,yl<<=1,(yl&261888)===0&&(yl=256)),On=e}return On}function rp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Al(""+e)}function up(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function C0(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var h=rp((d[ct]||null).action),T=s.submitter;T&&(n=(n=T[ct]||null)?rp(n.formAction):T.getAttribute("formAction"),n!==null&&(h=n,T=null));var C=new wl("action","action",null,s,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(On!==0){var x=T?up(d,T):new FormData(d);sr(l,{pending:!0,data:x,method:d.method,action:h},null,x)}}else typeof h=="function"&&(C.preventDefault(),x=T?up(d,T):new FormData(d),sr(l,{pending:!0,data:x,method:d.method,action:h},h,x))},currentTarget:d}]})}}for(var zr=0;zr<As.length;zr++){var Or=As[zr],A0=Or.toLowerCase(),x0=Or[0].toUpperCase()+Or.slice(1);Pt(A0,"on"+x0)}Pt(kc,"onAnimationEnd"),Pt(Pc,"onAnimationIteration"),Pt(Bc,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(By,"onTransitionRun"),Pt(zy,"onTransitionStart"),Pt(Oy,"onTransitionCancel"),Pt(zc,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function cp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var T=s.length-1;0<=T;T--){var C=s[T],x=C.instance,D=C.currentTarget;if(C=C.listener,x!==h&&d.isPropagationStopped())break e;h=C,d.currentTarget=D;try{h(d)}catch(B){Il(B)}d.currentTarget=null,h=x}else for(T=0;T<s.length;T++){if(C=s[T],x=C.instance,D=C.currentTarget,C=C.listener,x!==h&&d.isPropagationStopped())break e;h=C,d.currentTarget=D;try{h(d)}catch(B){Il(B)}d.currentTarget=null,h=x}}}}function Te(e,n){var l=n[ns];l===void 0&&(l=n[ns]=new Set);var s=e+"__bubble";l.has(s)||(fp(n,e,2,!1),l.add(s))}function Fr(e,n,l){var s=0;n&&(s|=4),fp(l,e,s,n)}var ya="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[ya]){e[ya]=!0,ic.forEach(function(l){l!=="selectionchange"&&(b0.has(l)||Fr(l,!1,e),Fr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ya]||(n[ya]=!0,Fr("selectionchange",!1,n))}}function fp(e,n,l,s){switch(Pp(n)){case 2:var d=ev;break;case 8:d=tv;break;default:d=au}l=d.bind(null,n,l,e),d=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Jr(e,n,l,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var C=s.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=s.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=Ci(C),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){s=h=T;continue e}C=C.parentNode}}s=s.return}mc(function(){var D=h,B=us(l),F=[];e:{var U=Oc.get(e);if(U!==void 0){var q=wl,ie=e;switch(e){case"keypress":if(bl(l)===0)break e;case"keydown":case"keyup":q=Ty;break;case"focusin":ie="focus",q=ms;break;case"focusout":ie="blur",q=ms;break;case"beforeblur":case"afterblur":q=ms;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=_y;break;case kc:case Pc:case Bc:q=cy;break;case zc:q=Ay;break;case"scroll":case"scrollend":q=ly;break;case"wheel":q=by;break;case"copy":case"cut":case"paste":q=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Sc;break;case"toggle":case"beforetoggle":q=wy}var ue=(n&4)!==0,Ge=!ue&&(e==="scroll"||e==="scrollend"),N=ue?U!==null?U+"Capture":null:U;ue=[];for(var R=D,I;R!==null;){var O=R;if(I=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||I===null||N===null||(O=Eo(R,N),O!=null&&ue.push(el(R,O,I))),Ge)break;R=R.return}0<ue.length&&(U=new q(U,ie,null,l,B),F.push({event:U,listeners:ue}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",U&&l!==rs&&(ie=l.relatedTarget||l.fromElement)&&(Ci(ie)||ie[_i]))break e;if((q||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,q?(ie=l.relatedTarget||l.toElement,q=D,ie=ie?Ci(ie):null,ie!==null&&(Ge=c(ie),ue=ie.tag,ie!==Ge||ue!==5&&ue!==27&&ue!==6)&&(ie=null)):(q=null,ie=D),q!==ie)){if(ue=vc,O="onMouseLeave",N="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Sc,O="onPointerLeave",N="onPointerEnter",R="pointer"),Ge=q==null?U:So(q),I=ie==null?U:So(ie),U=new ue(O,R+"leave",q,l,B),U.target=Ge,U.relatedTarget=I,O=null,Ci(B)===D&&(ue=new ue(N,R+"enter",ie,l,B),ue.target=I,ue.relatedTarget=Ge,O=ue),Ge=O,q&&ie)t:{for(ue=R0,N=q,R=ie,I=0,O=N;O;O=ue(O))I++;O=0;for(var ae=R;ae;ae=ue(ae))O++;for(;0<I-O;)N=ue(N),I--;for(;0<O-I;)R=ue(R),O--;for(;I--;){if(N===R||R!==null&&N===R.alternate){ue=N;break t}N=ue(N),R=ue(R)}ue=null}else ue=null;q!==null&&dp(F,U,q,ue,!1),ie!==null&&Ge!==null&&dp(F,Ge,ie,ue,!0)}}e:{if(U=D?So(D):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var be=wc;else if(bc(U))if(Nc)be=Vy;else{be=Hy;var oe=Gy}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&ss(D.elementType)&&(be=wc):be=qy;if(be&&(be=be(e,D))){Rc(F,be,l,B);break e}oe&&oe(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&as(U,"number",U.value)}switch(oe=D?So(D):window,e){case"focusin":(bc(oe)||oe.contentEditable==="true")&&(Di=oe,Es=D,No=null);break;case"focusout":No=Es=Di=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,qc(F,l,B);break;case"selectionchange":if(Py)break;case"keydown":case"keyup":qc(F,l,B)}var ge;if(ys)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ii?Ac(e,l)&&(Ee="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ec&&l.locale!=="ko"&&(Ii||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ii&&(ge=gc()):(Rn=B,ds="value"in Rn?Rn.value:Rn.textContent,Ii=!0)),oe=va(D,Ee),0<oe.length&&(Ee=new Tc(Ee,e,null,l,B),F.push({event:Ee,listeners:oe}),ge?Ee.data=ge:(ge=xc(l),ge!==null&&(Ee.data=ge)))),(ge=My?Iy(e,l):Dy(e,l))&&(Ee=va(D,"onBeforeInput"),0<Ee.length&&(oe=new Tc("onBeforeInput","beforeinput",null,l,B),F.push({event:oe,listeners:Ee}),oe.data=ge)),C0(F,e,D,l,B)}cp(F,n)})}function el(e,n,l){return{instance:e,listener:n,currentTarget:l}}function va(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Eo(e,l),d!=null&&s.unshift(el(e,d,h)),d=Eo(e,n),d!=null&&s.push(el(e,d,h))),e.tag===3)return s;e=e.return}return[]}function R0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dp(e,n,l,s,d){for(var h=n._reactName,T=[];l!==null&&l!==s;){var C=l,x=C.alternate,D=C.stateNode;if(C=C.tag,x!==null&&x===s)break;C!==5&&C!==26&&C!==27||D===null||(x=D,d?(D=Eo(l,h),D!=null&&T.unshift(el(l,D,x))):d||(D=Eo(l,h),D!=null&&T.push(el(l,D,x)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var w0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(w0,`
`).replace(N0,"")}function hp(e,n){return n=pp(n),pp(e)===n}function Le(e,n,l,s,d,h){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||wi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&wi(e,""+s);break;case"className":_l(e,"class",s);break;case"tabIndex":_l(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":_l(e,l,s);break;case"style":pc(e,s,h);break;case"data":if(n!=="object"){_l(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Al(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&Le(e,n,"name",d.name,d,null),Le(e,n,"formEncType",d.formEncType,d,null),Le(e,n,"formMethod",d.formMethod,d,null),Le(e,n,"formTarget",d.formTarget,d,null)):(Le(e,n,"encType",d.encType,d,null),Le(e,n,"method",d.method,d,null),Le(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Al(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=on);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Al(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),El(e,"popover",s);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":El(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=iy.get(l)||l,El(e,l,s))}}function Kr(e,n,l,s,d,h){switch(l){case"style":pc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?wi(e,s):(typeof s=="number"||typeof s=="bigint")&&wi(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),h=e[ct]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):El(e,l,s)}}}function ot(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,d=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,h,T,l,null)}}d&&Le(e,n,"srcSet",l.srcSet,l,null),s&&Le(e,n,"src",l.src,l,null);return;case"input":Te("invalid",e);var C=h=T=d=null,x=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var B=l[s];if(B!=null)switch(s){case"name":d=B;break;case"type":T=B;break;case"checked":x=B;break;case"defaultChecked":D=B;break;case"value":h=B;break;case"defaultValue":C=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Le(e,n,s,B,l,null)}}uc(e,h,C,x,D,T,d,!1);return;case"select":Te("invalid",e),s=T=h=null;for(d in l)if(l.hasOwnProperty(d)&&(C=l[d],C!=null))switch(d){case"value":h=C;break;case"defaultValue":T=C;break;case"multiple":s=C;default:Le(e,n,d,C,l,null)}n=h,l=T,e.multiple=!!s,n!=null?Ri(e,!!s,n,!1):l!=null&&Ri(e,!!s,l,!0);return;case"textarea":Te("invalid",e),h=d=s=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":s=C;break;case"defaultValue":d=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Le(e,n,T,C,l,null)}fc(e,s,d,h);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(s=l[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,n,x,s,l,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<jo.length;s++)Te(jo[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,D,s,l,null)}return;default:if(ss(n)){for(B in l)l.hasOwnProperty(B)&&(s=l[B],s!==void 0&&Kr(e,n,B,s,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(s=l[C],s!=null&&Le(e,n,C,s,l,null))}function M0(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,C=null,x=null,D=null,B=null;for(q in l){var F=l[q];if(l.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=F;default:s.hasOwnProperty(q)||Le(e,n,q,null,s,F)}}for(var U in s){var q=s[U];if(F=l[U],s.hasOwnProperty(U)&&(q!=null||F!=null))switch(U){case"type":h=q;break;case"name":d=q;break;case"checked":D=q;break;case"defaultChecked":B=q;break;case"value":T=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Le(e,n,U,q,s,F)}}ls(e,T,C,x,D,B,h,d);return;case"select":q=T=C=U=null;for(h in l)if(x=l[h],l.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":q=x;default:s.hasOwnProperty(h)||Le(e,n,h,null,s,x)}for(d in s)if(h=s[d],x=l[d],s.hasOwnProperty(d)&&(h!=null||x!=null))switch(d){case"value":U=h;break;case"defaultValue":C=h;break;case"multiple":T=h;default:h!==x&&Le(e,n,d,h,s,x)}n=C,l=T,s=q,U!=null?Ri(e,!!l,U,!1):!!s!=!!l&&(n!=null?Ri(e,!!l,n,!0):Ri(e,!!l,l?[]:"",!1));return;case"textarea":q=U=null;for(C in l)if(d=l[C],l.hasOwnProperty(C)&&d!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Le(e,n,C,null,s,d)}for(T in s)if(d=s[T],h=l[T],s.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":U=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&Le(e,n,T,d,s,h)}cc(e,U,q);return;case"option":for(var ie in l)if(U=l[ie],l.hasOwnProperty(ie)&&U!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:Le(e,n,ie,null,s,U)}for(x in s)if(U=s[x],q=l[x],s.hasOwnProperty(x)&&U!==q&&(U!=null||q!=null))switch(x){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Le(e,n,x,U,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in l)U=l[ue],l.hasOwnProperty(ue)&&U!=null&&!s.hasOwnProperty(ue)&&Le(e,n,ue,null,s,U);for(D in s)if(U=s[D],q=l[D],s.hasOwnProperty(D)&&U!==q&&(U!=null||q!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Le(e,n,D,U,s,q)}return;default:if(ss(n)){for(var Ge in l)U=l[Ge],l.hasOwnProperty(Ge)&&U!==void 0&&!s.hasOwnProperty(Ge)&&Kr(e,n,Ge,void 0,s,U);for(B in s)U=s[B],q=l[B],!s.hasOwnProperty(B)||U===q||U===void 0&&q===void 0||Kr(e,n,B,U,s,q);return}}for(var N in l)U=l[N],l.hasOwnProperty(N)&&U!=null&&!s.hasOwnProperty(N)&&Le(e,n,N,null,s,U);for(F in s)U=s[F],q=l[F],!s.hasOwnProperty(F)||U===q||U==null&&q==null||Le(e,n,F,U,s,q)}function mp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],h=d.transferSize,T=d.initiatorType,C=d.duration;if(h&&C&&mp(T)){for(T=0,C=d.responseEnd,s+=1;s<l.length;s++){var x=l[s],D=x.startTime;if(D>C)break;var B=x.transferSize,F=x.initiatorType;B&&mp(F)&&(x=x.responseEnd,T+=B*(x<C?1:(C-D)/(x-D)))}if(--s,n+=8*(h+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xr=null,$r=null;function Ta(e){return e.nodeType===9?e:e.ownerDocument}function gp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zr=null;function D0(){var e=window.event;return e&&e.type==="popstate"?e===Zr?!1:(Zr=e,!0):(Zr=null,!1)}var vp=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(e){return Tp.resolve(null).then(e).catch(G0)}:vp;function G0(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Sp(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),lo(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")tl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,tl(l);for(var h=l.firstChild;h;){var T=h.nextSibling,C=h.nodeName;h[To]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=T}}else l==="body"&&tl(e.ownerDocument.body);l=d}while(l);lo(n)}function Ep(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Wr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wr(l),is(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function H0(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[To])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function q0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function _p(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function jr(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var tu=null;function Cp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Ap(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function xp(e,n,l){switch(n=Ta(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var qt=new Map,bp=new Set;function Sa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=Q.d;Q.d={f:k0,r:P0,D:B0,C:z0,L:O0,m:F0,X:J0,S:Y0,M:K0};function k0(){var e=Sn.f(),n=fa();return e||n}function P0(e){var n=Ai(e);n!==null&&n.tag===5&&n.type==="form"?Of(n):Sn.r(e)}var no=typeof document>"u"?null:document;function Rp(e,n,l){var s=no;if(s&&typeof n=="string"&&n){var d=Nt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),bp.has(d)||(bp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),ot(n,"link",e),Ze(n),s.head.appendChild(n)))}}function B0(e){Sn.D(e),Rp("dns-prefetch",e,null)}function z0(e,n){Sn.C(e,n),Rp("preconnect",e,n)}function O0(e,n,l){Sn.L(e,n,l);var s=no;if(s&&e&&n){var d='link[rel="preload"][as="'+Nt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Nt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Nt(l.imageSizes)+'"]')):d+='[href="'+Nt(e)+'"]';var h=d;switch(n){case"style":h=io(e);break;case"script":h=oo(e)}qt.has(h)||(e=E({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),qt.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(nl(h))||n==="script"&&s.querySelector(il(h))||(n=s.createElement("link"),ot(n,"link",e),Ze(n),s.head.appendChild(n)))}}function F0(e,n){Sn.m(e,n);var l=no;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Nt(s)+'"][href="'+Nt(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=oo(e)}if(!qt.has(h)&&(e=E({rel:"modulepreload",href:e},n),qt.set(h,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(il(h)))return}s=l.createElement("link"),ot(s,"link",e),Ze(s),l.head.appendChild(s)}}}function Y0(e,n,l){Sn.S(e,n,l);var s=no;if(s&&e){var d=xi(s).hoistableStyles,h=io(e);n=n||"default";var T=d.get(h);if(!T){var C={loading:0,preload:null};if(T=s.querySelector(nl(h)))C.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},l),(l=qt.get(h))&&nu(e,l);var x=T=s.createElement("link");Ze(x),ot(x,"link",e),x._p=new Promise(function(D,B){x.onload=D,x.onerror=B}),x.addEventListener("load",function(){C.loading|=1}),x.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ea(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(h,T)}}}function J0(e,n){Sn.X(e,n);var l=no;if(l&&e){var s=xi(l).hoistableScripts,d=oo(e),h=s.get(d);h||(h=l.querySelector(il(d)),h||(e=E({src:e,async:!0},n),(n=qt.get(d))&&iu(e,n),h=l.createElement("script"),Ze(h),ot(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function K0(e,n){Sn.M(e,n);var l=no;if(l&&e){var s=xi(l).hoistableScripts,d=oo(e),h=s.get(d);h||(h=l.querySelector(il(d)),h||(e=E({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&iu(e,n),h=l.createElement("script"),Ze(h),ot(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function wp(e,n,l,s){var d=(d=de.current)?Sa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=io(l.href),l=xi(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=io(l.href);var h=xi(d).hoistableStyles,T=h.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=d.querySelector(nl(e)))&&!h._p&&(T.instance=h,T.state.loading=5),qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(e,l),h||X0(d,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oo(l),l=xi(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function io(e){return'href="'+Nt(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function Np(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function X0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ot(n,"link",l),Ze(n),e.head.appendChild(n))}function oo(e){return'[src="'+Nt(e)+'"]'}function il(e){return"script[async]"+e}function Mp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Nt(l.href)+'"]');if(s)return n.instance=s,Ze(s),s;var d=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),ot(s,"style",d),Ea(s,l.precedence,e),n.instance=s;case"stylesheet":d=io(l.href);var h=e.querySelector(nl(d));if(h)return n.state.loading|=4,n.instance=h,Ze(h),h;s=Np(l),(d=qt.get(d))&&nu(s,d),h=(e.ownerDocument||e).createElement("link"),Ze(h);var T=h;return T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),ot(h,"link",s),n.state.loading|=4,Ea(h,l.precedence,e),n.instance=h;case"script":return h=oo(l.src),(d=e.querySelector(il(h)))?(n.instance=d,Ze(d),d):(s=l,(d=qt.get(h))&&(s=E({},l),iu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ze(d),ot(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ea(s,l.precedence,e));return n.instance}function Ea(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,T=0;T<s.length;T++){var C=s[T];if(C.dataset.precedence===n)h=C;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _a=null;function Ip(e,n,l){if(_a===null){var s=new Map,d=_a=new Map;d.set(l,s)}else d=_a,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var h=l[d];if(!(h[To]||h[et]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(n)||"";T=e+T;var C=s.get(T);C?C.push(h):s.set(T,[h])}}return s}function Dp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function $0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Up(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Q0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=io(s.href),h=n.querySelector(nl(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ca.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=h,Ze(h);return}h=n.ownerDocument||n,s=Np(s),(d=qt.get(d))&&nu(s,d),h=h.createElement("link"),Ze(h);var T=h;T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),ot(h,"link",s),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ca.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var ou=0;function Z0(e,n){return e.stylesheets&&e.count===0&&xa(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&xa(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&ou===0&&(ou=62500*I0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xa(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>ou?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Ca(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Aa=null;function xa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Aa=new Map,n.forEach(W0,e),Aa=null,Ca.call(e))}function W0(e,n){if(!(n.state.loading&4)){var l=Aa.get(e);if(l)var s=l.get(null);else{l=new Map,Aa.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),h=l.get(T)||s,h===s&&l.set(null,d),l.set(T,d),this.count++,s=Ca.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:X,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function j0(e,n,l,s,d,h,T,C,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Lp(e,n,l,s,d,h,T,C,x,D,B,F){return e=new j0(e,n,l,T,x,D,B,F,C),n=1,h===!0&&(n|=24),h=_t(3,null,null,n),e.current=h,h.stateNode=e,n=qs(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:l,cache:n},Bs(h),e}function Gp(e){return e?(e=Gi,e):Gi}function Hp(e,n,l,s,d,h){d=Gp(d),s.context===null?s.context=d:s.pendingContext=d,s=Un(n),s.payload={element:l},h=h===void 0?null:h,h!==null&&(s.callback=h),l=Ln(e,s,n),l!==null&&(gt(l,e,n),Ho(l,e,n))}function qp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function lu(e,n){qp(e,n),(e=e.alternate)&&qp(e,n)}function Vp(e){if(e.tag===13||e.tag===31){var n=ai(e,67108864);n!==null&&gt(n,e,67108864),lu(e,67108864)}}function kp(e){if(e.tag===13||e.tag===31){var n=Rt();n=es(n);var l=ai(e,n);l!==null&&gt(l,e,n),lu(e,n)}}var ba=!0;function ev(e,n,l,s){var d=k.T;k.T=null;var h=Q.p;try{Q.p=2,au(e,n,l,s)}finally{Q.p=h,k.T=d}}function tv(e,n,l,s){var d=k.T;k.T=null;var h=Q.p;try{Q.p=8,au(e,n,l,s)}finally{Q.p=h,k.T=d}}function au(e,n,l,s){if(ba){var d=su(s);if(d===null)Jr(e,n,s,Ra,l),Bp(e,s);else if(iv(d,e,n,l,s))s.stopPropagation();else if(Bp(e,s),n&4&&-1<nv.indexOf(e)){for(;d!==null;){var h=Ai(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=ti(h.pendingLanes);if(T!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var x=1<<31-St(T);C.entanglements[1]|=x,T&=~x}Zt(h),(Ne&6)===0&&(ua=vt()+500,Wo(0))}}break;case 31:case 13:C=ai(h,2),C!==null&&gt(C,h,2),fa(),lu(h,2)}if(h=su(s),h===null&&Jr(e,n,s,Ra,l),h===d)break;d=h}d!==null&&s.stopPropagation()}else Jr(e,n,s,null,l)}}function su(e){return e=us(e),ru(e)}var Ra=null;function ru(e){if(Ra=null,e=Ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ra=e,null}function Pp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bg()){case Ku:return 2;case Xu:return 8;case gl:case zg:return 32;case $u:return 268435456;default:return 32}default:return 32}}var uu=!1,Yn=null,Jn=null,Kn=null,ll=new Map,al=new Map,Xn=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(e,n){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function sl(e,n,l,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Ai(n),n!==null&&Vp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function iv(e,n,l,s,d){switch(n){case"focusin":return Yn=sl(Yn,e,n,l,s,d),!0;case"dragenter":return Jn=sl(Jn,e,n,l,s,d),!0;case"mouseover":return Kn=sl(Kn,e,n,l,s,d),!0;case"pointerover":var h=d.pointerId;return ll.set(h,sl(ll.get(h)||null,e,n,l,s,d)),!0;case"gotpointercapture":return h=d.pointerId,al.set(h,sl(al.get(h)||null,e,n,l,s,d)),!0}return!1}function zp(e){var n=Ci(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,tc(e.priority,function(){kp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,tc(e.priority,function(){kp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=su(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);rs=s,l.target.dispatchEvent(s),rs=null}else return n=Ai(l),n!==null&&Vp(n),e.blockedOn=l,!1;n.shift()}return!0}function Op(e,n,l){wa(e)&&l.delete(n)}function ov(){uu=!1,Yn!==null&&wa(Yn)&&(Yn=null),Jn!==null&&wa(Jn)&&(Jn=null),Kn!==null&&wa(Kn)&&(Kn=null),ll.forEach(Op),al.forEach(Op)}function Na(e,n){e.blockedOn===n&&(e.blockedOn=null,uu||(uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ov)))}var Ma=null;function Fp(e){Ma!==e&&(Ma=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ma===e&&(Ma=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(ru(s||l)===null)continue;break}var h=Ai(l);h!==null&&(e.splice(n,3),n-=3,sr(h,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function lo(e){function n(x){return Na(x,e)}Yn!==null&&Na(Yn,e),Jn!==null&&Na(Jn,e),Kn!==null&&Na(Kn,e),ll.forEach(n),al.forEach(n);for(var l=0;l<Xn.length;l++){var s=Xn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xn.length&&(l=Xn[0],l.blockedOn===null);)zp(l),l.blockedOn===null&&Xn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],h=l[s+1],T=d[ct]||null;if(typeof h=="function")T||Fp(l);else if(T){var C=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[ct]||null)C=T.formAction;else if(ru(d)!==null)continue}else C=T.action;typeof C=="function"?l[s+1]=C:(l.splice(s,3),s-=3),Fp(l)}}}function Yp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function cu(e){this._internalRoot=e}Ia.prototype.render=cu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Rt();Hp(l,s,e,n,null,null)},Ia.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hp(e.current,2,null,e,null,null),fa(),n[_i]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=ec();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Xn.length&&n!==0&&n<Xn[l].priority;l++);Xn.splice(l,0,e),l===0&&zp(e)}};var Jp=t.version;if(Jp!=="19.2.4")throw Error(a(527,Jp,"19.2.4"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var lv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{go=Da.inject(lv),Tt=Da}catch{}}return ul.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=jf,h=ed,T=td;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Lp(e,1,!1,null,null,l,s,null,d,h,T,Yp),e[_i]=n.current,Yr(e),new cu(n)},ul.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",h=jf,T=ed,C=td,x=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),n=Lp(e,1,!0,n,l??null,s,d,x,h,T,C,Yp),n.context=Gp(null),l=n.current,s=Rt(),s=es(s),d=Un(s),d.callback=null,Ln(l,d,s),l=s,n.current.lanes=l,vo(n,l),Zt(n),e[_i]=n.current,Yr(e),new Ia(n)},ul.version="19.2.4",ul}var nh;function mv(){if(nh)return pu.exports;nh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=hv(),pu.exports}var gv=mv();const yv=qm(gv),vv=({currentView:i,onNavigate:t})=>_.jsx("header",{className:"w-full border-b border-gray-800 bg-brand-dark/90 backdrop-blur-md sticky top-0 z-50 print:hidden",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-8",children:[_.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("plaque"),children:[_.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-brand-accent to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:"P"}),_.jsxs("span",{className:"text-xl font-bold tracking-tight text-white",children:["plaques",_.jsx("span",{className:"text-brand-accent",children:".ai"})]})]}),_.jsxs("nav",{className:"hidden md:flex gap-1 bg-white/5 p-1 rounded-lg border border-white/5",children:[_.jsx("button",{onClick:()=>t("plaque"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="plaque"?"bg-brand-accent text-brand-dark shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Plaque Designer"}),_.jsx("button",{onClick:()=>t("vector"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${i==="vector"?"bg-brand-accent text-brand-dark shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Vector Studio"})]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("button",{className:"text-gray-400 hover:text-white",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),_.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-white group",children:[_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),_.jsx("span",{className:"absolute top-1 right-0 w-2 h-2 bg-brand-accent rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})});var Pe=(i=>(i.Rect="rect",i.Oval="oval",i.Circle="circle",i))(Pe||{}),yt=(i=>(i.BrushedBrass="brushed-brass",i.PolishedBrass="polished-brass",i.AgedBrass="aged-brass",i.BrushedSteel="brushed-stainless",i.PolishedSteel="polished-stainless",i))(yt||{}),Ot=(i=>(i.VHB="vhb",i.Screws="screws",i.Caps="caps",i))(Ot||{});const Tv={width:300,height:200,shape:"rect",material:"brushed-brass",fixing:"caps",capSize:10,cornerRadius:0,border:!0,wood:!1,woodTone:"light",woodEdge:"square",ageIntensity:.5,generatedSvgContent:null,aiReasoning:null},Sv=["Cinzel","Playfair Display","EB Garamond","Merriweather","Lora","Montserrat","Lato","Open Sans","Oswald","Raleway","Bebas Neue","Roboto Slab","Bitter","Abril Fatface","Dancing Script","Pacifico","Satisfy","Caveat","Pinyon Script","Allura","Alex Brush","Great Vibes"];function Ev(i,t,o){const a=t*t-i*i,r=2*i*i*i,c=i*i*o*o-i*i*i*i-i*i*t*t;if(Math.abs(a)<1e-9)return-c/r;const p=r*r-4*a*c;if(p<0)return i-o;const g=(-r+Math.sqrt(p))/(2*a),y=(-r-Math.sqrt(p))/(2*a),m=i-o;return Math.abs(g-m)<Math.abs(y-m)?g:y}const km=Me.forwardRef(({state:i},t)=>{const o=i.wood?25:0,a=i.width+o,r=i.height+o,c=o/2,p=i.shape===Pe.Rect?i.cornerRadius:0,y=i.material.includes("brass")?"url(#brass)":"url(#steel)",m=10+(i.capSize===15?2:0),v=i.capSize/2,E=i.fixing===Ot.Caps;let S=[];const A=c+i.width/2,w=c+i.height/2;if(i.fixing!==Ot.VHB)if(i.shape===Pe.Rect){const V=c+m,K=c+i.width-m,G=c+m,J=c+i.height-m;S=[{x:V,y:G},{x:K,y:G},{x:K,y:J},{x:V,y:J}]}else{const K=i.width/2-m;S=[{x:A-K,y:w},{x:A+K,y:w}]}const H=Me.useRef(null),[M,Y]=Me.useState("");Me.useLayoutEffect(()=>{if(H.current)try{const V=H.current.getBBox();if(V.width>0&&V.height>0){const K=i.shape===Pe.Rect?30:50,G=Math.max(10,i.width-K*2),J=Math.max(10,i.height-K*2),P=G/V.width,$=J/V.height,le=Math.min(P,$,1.5)*.9,ne=-(V.x+V.width/2),me=-(V.y+V.height/2);Y(`scale(${le}) translate(${ne}, ${me})`)}}catch(V){console.warn("Text scaling failed",V)}},[i.generatedSvgContent,i.width,i.height,i.shape]);const W=()=>{if(!i.border)return null;const V="rgba(0,0,0,0.75)",K=m,G=v+3;if(E&&S.length>0){if(i.shape===Pe.Rect&&S.length===4){const[J,P,$,le]=S,ne=G,me=`
          M ${J.x+ne} ${J.y}
          L ${P.x-ne} ${P.y} A ${ne} ${ne} 0 0 0 ${P.x} ${P.y+ne}
          L ${$.x} ${$.y-ne} A ${ne} ${ne} 0 0 0 ${$.x-ne} ${$.y}
          L ${le.x+ne} ${le.y} A ${ne} ${ne} 0 0 0 ${le.x} ${le.y-ne}
          L ${J.x} ${J.y+ne} A ${ne} ${ne} 0 0 0 ${J.x+ne} ${J.y} Z
        `;return _.jsx("path",{d:me,fill:"none",stroke:V,strokeWidth:1,className:"engraved-border"})}else if(i.shape!==Pe.Rect&&S.length===2){const J=i.width/2-K,P=i.height/2-K,$=Ev(J,P,G),le=P*Math.sqrt(1-$*$/(J*J)),ne=A+$,me=A-$,xe=w-le,_e=w+le;let ye=`M ${ne} ${xe}`;return ye+=` A ${J} ${P} 0 0 0 ${me} ${xe}`,ye+=` A ${G} ${G} 0 1 1 ${me} ${_e}`,ye+=` A ${J} ${P} 0 0 0 ${ne} ${_e}`,ye+=` A ${G} ${G} 0 1 1 ${ne} ${xe}`,ye+=" Z",_.jsx("path",{d:ye,fill:"none",stroke:V,strokeWidth:1,className:"engraved-border"})}}return i.shape===Pe.Rect?_.jsx("rect",{x:c+K,y:c+K,width:i.width-K*2,height:i.height-K*2,rx:Math.max(0,p-2),fill:"none",stroke:V,strokeWidth:1,className:"engraved-border"}):_.jsx("ellipse",{cx:A,cy:w,rx:i.width/2-K,ry:i.height/2-K,fill:"none",stroke:V,strokeWidth:1,className:"engraved-border"})};return _.jsxs("div",{className:"print-content w-full aspect-video flex items-center justify-center p-4 md:p-10 relative overflow-hidden bg-gradient-radial from-[#262a38] to-[#090a0e] rounded-2xl border border-white/5",children:[_.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(#888 1px, transparent 1px)",backgroundSize:"20px 20px"}}),_.jsxs("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${a} ${r}`,className:"w-full h-full max-w-[90%] max-h-[90%] drop-shadow-2xl transition-all duration-300",children:[_.jsxs("defs",{children:[_.jsxs("linearGradient",{id:"brass",x1:"0",y1:"0",x2:"1",y2:"1",children:[_.jsx("stop",{offset:"0",stopColor:"#d6b25a"}),_.jsx("stop",{offset:"0.3",stopColor:"#fff1b0"}),_.jsx("stop",{offset:"0.6",stopColor:"#b48832"}),_.jsx("stop",{offset:"1",stopColor:"#8a5e23"})]}),_.jsxs("linearGradient",{id:"steel",x1:"0",y1:"0",x2:"1",y2:"1",children:[_.jsx("stop",{offset:"0",stopColor:"#bcc7d3"}),_.jsx("stop",{offset:"0.3",stopColor:"#ffffff"}),_.jsx("stop",{offset:"0.6",stopColor:"#9aa4b2"}),_.jsx("stop",{offset:"1",stopColor:"#7c8594"})]}),_.jsxs("linearGradient",{id:"screwMetal",x1:"0",y1:"0",x2:"1",y2:"1",children:[_.jsx("stop",{offset:"0",stopColor:"#e5e7eb"}),_.jsx("stop",{offset:"0.5",stopColor:"#9ca3af"}),_.jsx("stop",{offset:"1",stopColor:"#4b5563"})]}),_.jsxs("linearGradient",{id:"woodDark",x1:"0",y1:"0",x2:"1",y2:"0",children:[_.jsx("stop",{offset:"0",stopColor:"#5c3a1e"}),_.jsx("stop",{offset:"0.5",stopColor:"#6b4323"}),_.jsx("stop",{offset:"1",stopColor:"#2c180b"})]}),_.jsxs("linearGradient",{id:"woodLight",x1:"0",y1:"0",x2:"1",y2:"0",children:[_.jsx("stop",{offset:"0",stopColor:"#d4a373"}),_.jsx("stop",{offset:"0.5",stopColor:"#faedcd"}),_.jsx("stop",{offset:"1",stopColor:"#a98467"})]}),_.jsxs("filter",{id:"dropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[_.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),_.jsx("feOffset",{dx:"0",dy:"4",result:"offsetblur"}),_.jsx("feComponentTransfer",{children:_.jsx("feFuncA",{type:"linear",slope:"0.4"})}),_.jsxs("feMerge",{children:[_.jsx("feMergeNode",{in:"offsetblur"}),_.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),_.jsxs("filter",{id:"noise",children:[_.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.6",numOctaves:"3",stitchTiles:"stitch"}),_.jsx("feColorMatrix",{type:"saturate",values:"0"}),_.jsx("feComponentTransfer",{children:_.jsx("feFuncA",{type:"linear",slope:"0.1"})})]})]}),i.wood&&_.jsx("g",{filter:"url(#dropShadow)",className:"wood-backing",children:i.shape===Pe.Rect?_.jsxs(_.Fragment,{children:[_.jsx("rect",{x:0,y:0,width:a,height:r,rx:0,ry:0,fill:i.woodTone==="dark"?"url(#woodDark)":"url(#woodLight)"}),i.woodEdge==="bevel"&&_.jsx("rect",{x:4,y:4,width:a-8,height:r-8,rx:0,ry:0,fill:"none",stroke:"rgba(0,0,0,0.2)",strokeWidth:2})]}):_.jsxs(_.Fragment,{children:[_.jsx("ellipse",{cx:a/2,cy:r/2,rx:a/2,ry:r/2,fill:i.woodTone==="dark"?"url(#woodDark)":"url(#woodLight)"}),i.woodEdge==="bevel"&&_.jsx("ellipse",{cx:a/2,cy:r/2,rx:a/2-4,ry:r/2-4,fill:"none",stroke:"rgba(0,0,0,0.2)",strokeWidth:2})]})}),_.jsxs("g",{id:"plate-group",filter:"url(#dropShadow)",children:[i.shape===Pe.Rect?_.jsx("rect",{x:c,y:c,width:i.width,height:i.height,rx:p,fill:y,stroke:"rgba(255,255,255,0.4)",strokeWidth:.5,className:"cut-line"}):_.jsx("ellipse",{cx:A,cy:w,rx:i.width/2,ry:i.height/2,fill:y,stroke:"rgba(255,255,255,0.4)",strokeWidth:.5,className:"cut-line"}),(i.material.includes("brushed")||i.material.includes("aged"))&&(i.shape===Pe.Rect?_.jsx("rect",{x:c,y:c,width:i.width,height:i.height,rx:p,fill:"transparent",filter:"url(#noise)",className:"visual-effect"}):_.jsx("ellipse",{cx:A,cy:w,rx:i.width/2,ry:i.height/2,fill:"transparent",filter:"url(#noise)",className:"visual-effect"})),i.material===yt.AgedBrass&&(i.shape===Pe.Rect?_.jsx("rect",{x:c,y:c,width:i.width,height:i.height,rx:p,fill:"#2b1d0e",opacity:i.ageIntensity*.9,style:{mixBlendMode:"multiply"},className:"visual-effect"}):_.jsx("ellipse",{cx:A,cy:w,rx:i.width/2,ry:i.height/2,fill:"#2b1d0e",opacity:i.ageIntensity*.9,style:{mixBlendMode:"multiply"},className:"visual-effect"})),_.jsx("g",{id:"border-layer",children:W()}),_.jsx("g",{transform:`translate(${A}, ${w})`,children:_.jsx("g",{id:"ai-text-layer",ref:H,transform:M,dangerouslySetInnerHTML:{__html:i.generatedSvgContent||`
    <g>
      <text y="-25" text-anchor="middle" font-family="Cinzel" font-weight="700" font-size="28" fill="#332211">YOUR TEXT HERE</text>
      <path d="M -50 -10 L 50 -10" stroke="#332211" stroke-width="0.5" opacity="0.5"/>
      <text y="15" text-anchor="middle" font-family="Lato" font-size="12" fill="#443322">
        Type in the box to design
      </text>
    </g>
  `}})})]}),_.jsx("g",{id:"fixings-layer",children:S.map((V,K)=>_.jsx("g",{children:i.fixing===Ot.Caps?_.jsxs("g",{className:"fixing cap",children:[_.jsx("circle",{cx:V.x,cy:V.y,r:v,fill:y,stroke:"rgba(0,0,0,0.5)",strokeWidth:.5}),i.material===yt.AgedBrass&&_.jsx("circle",{cx:V.x,cy:V.y,r:v,fill:"#2b1d0e",opacity:i.ageIntensity*.9,style:{mixBlendMode:"multiply"},className:"visual-effect"}),_.jsx("circle",{cx:V.x,cy:V.y,r:v*.8,fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:1,className:"visual-effect"})]}):_.jsxs("g",{className:"fixing hole",children:[_.jsx("circle",{cx:V.x,cy:V.y,r:4.5,fill:"url(#screwMetal)",stroke:"#555",strokeWidth:.5}),_.jsx("path",{d:`M${V.x-2},${V.y} L${V.x+2},${V.y} M${V.x},${V.y-2} L${V.x},${V.y+2}`,stroke:"#333",strokeWidth:1.5,strokeLinecap:"round"}),_.jsx("circle",{cx:V.x,cy:V.y,r:4.5,fill:"url(#noise)",opacity:.3,style:{mixBlendMode:"multiply"}})]})},K))})]})]})});km.displayName="PlaquePreview";const _v=({state:i,onChange:t,onGenerate:o,onClear:a,isGenerating:r})=>{const[c,p]=Me.useState(""),g=!!i.generatedSvgContent,y=()=>{c.trim()&&(o(c),p(""))},m=(S,A)=>{S==="width"&&i.shape===Pe.Circle?t({width:A,height:A}):S==="shape"&&A===Pe.Circle?t({shape:A,height:i.width}):t({[S]:A})},v=i.cornerRadius>0,E=()=>{v?m("cornerRadius",0):m("cornerRadius",2)};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:`glass-panel p-5 rounded-2xl border-brand-accent/20 bg-gradient-to-br ${g?"from-emerald-900/10":"from-purple-900/10"} to-transparent transition-colors duration-500`,children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsx("label",{className:`text-xs font-bold tracking-widest uppercase flex items-center gap-2 ${g?"text-emerald-400":"text-purple-400"}`,children:_.jsx("span",{children:g?" AI Design Assistant":" AI Designer"})}),g&&_.jsxs("button",{onClick:a,className:"text-[10px] text-gray-500 hover:text-red-400 transition-colors flex items-center gap-1",children:[_.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Start Over"]})]}),_.jsx("textarea",{value:c,onChange:S=>p(S.target.value),placeholder:g?"Refine the design... e.g. 'Make the date larger' or 'Change the font to something more modern'":"Describe your plaque... e.g. 'Opening of the new Science Wing, 2024. Clean modern serif font.'",className:"w-full bg-brand-dark border border-gray-700 rounded-lg p-3 text-sm text-gray-200 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none resize-none h-24 mb-3 transition-all"}),_.jsx("button",{onClick:y,disabled:r||!c,className:`w-full py-3 rounded-lg text-white font-bold text-sm shadow-lg hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2
            ${g?"bg-gradient-to-r from-emerald-600 to-teal-600 shadow-emerald-500/20 hover:shadow-emerald-500/40":"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 shadow-purple-500/20 hover:shadow-purple-500/40"}`,children:r?_.jsxs("span",{className:"animate-pulse flex items-center gap-2",children:[_.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce"}),"Thinking..."]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{children:g?"":""}),g?"Update Design":"Generate Design"]})}),i.aiReasoning&&_.jsxs("div",{className:"mt-3 text-xs text-gray-400 italic border-l-2 border-gray-600 pl-3 animate-fade-in",children:[_.jsx("span",{className:"font-semibold text-gray-500 not-italic mr-1",children:"AI:"}),'"',i.aiReasoning,'"']})]}),_.jsxs("div",{className:"glass-panel p-5 rounded-2xl",children:[_.jsx("label",{className:"text-xs font-bold tracking-widest text-gray-500 uppercase mb-4 block",children:"Dimensions & Shape"}),_.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-1 block",children:"Shape"}),_.jsxs("select",{value:i.shape,onChange:S=>m("shape",S.target.value),className:"w-full bg-brand-dark border border-gray-700 rounded-md py-2 px-2 text-sm focus:border-brand-accent outline-none",children:[_.jsx("option",{value:Pe.Rect,children:"Rectangle"}),_.jsx("option",{value:Pe.Oval,children:"Oval"}),_.jsx("option",{value:Pe.Circle,children:"Circle"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-1 block",children:"Width (mm)"}),_.jsx("input",{type:"number",value:i.width,onChange:S=>m("width",Number(S.target.value)),className:"w-full bg-brand-dark border border-gray-700 rounded-md py-2 px-3 text-sm focus:border-brand-accent outline-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-1 block",children:"Height (mm)"}),_.jsx("input",{type:"number",value:i.height,disabled:i.shape===Pe.Circle,onChange:S=>m("height",Number(S.target.value)),className:`w-full bg-brand-dark border border-gray-700 rounded-md py-2 px-3 text-sm focus:border-brand-accent outline-none ${i.shape===Pe.Circle?"opacity-50":""}`})]})]}),i.shape===Pe.Rect&&_.jsxs("div",{className:"mt-4 pt-2 border-t border-white/5",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:"Rounded Corners"}),_.jsx("button",{onClick:E,className:`w-9 h-5 rounded-full relative transition-colors ${v?"bg-brand-accent":"bg-gray-700"}`,children:_.jsx("span",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform ${v?"translate-x-4":"translate-x-0"}`})})]}),v&&_.jsxs("div",{className:"animate-fade-in",children:[_.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-1",children:[_.jsx("span",{children:"Radius"}),_.jsxs("span",{children:[i.cornerRadius,"mm"]})]}),_.jsx("input",{type:"range",min:"1",max:"12",value:i.cornerRadius,onChange:S=>m("cornerRadius",Number(S.target.value)),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-accent"})]})]})]}),_.jsxs("div",{className:"glass-panel p-5 rounded-2xl",children:[_.jsx("label",{className:"text-xs font-bold tracking-widest text-gray-500 uppercase mb-4 block",children:"Material & Finish"}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-1 block",children:"Material"}),_.jsxs("select",{value:i.material,onChange:S=>m("material",S.target.value),className:"w-full bg-brand-dark border border-gray-700 rounded-md py-2 px-2 text-sm focus:border-brand-accent outline-none",children:[_.jsx("option",{value:yt.BrushedBrass,children:"Brushed Brass"}),_.jsx("option",{value:yt.PolishedBrass,children:"Polished Brass"}),_.jsx("option",{value:yt.AgedBrass,children:"Aged Brass"}),_.jsx("option",{value:yt.BrushedSteel,children:"Brushed Steel"}),_.jsx("option",{value:yt.PolishedSteel,children:"Polished Steel"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-1 block",children:"Fixing"}),_.jsxs("select",{value:i.fixing,onChange:S=>m("fixing",S.target.value),className:"w-full bg-brand-dark border border-gray-700 rounded-md py-2 px-2 text-sm focus:border-brand-accent outline-none",children:[_.jsx("option",{value:Ot.Caps,children:"Caps"}),_.jsx("option",{value:Ot.Screws,children:"Screws"}),_.jsx("option",{value:Ot.VHB,children:"Adhesive (No Holes)"})]})]})]}),i.fixing===Ot.Caps&&_.jsxs("div",{className:"mt-2 mb-4 pt-2 border-t border-white/5",children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-2 block",children:"Cap Size"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>m("capSize",10),className:`flex-1 py-1.5 text-xs rounded border transition-colors ${i.capSize===10?"border-brand-accent text-brand-accent bg-brand-accent/10":"border-gray-700 text-gray-400 bg-gray-800"}`,children:"10mm"}),_.jsx("button",{onClick:()=>m("capSize",15),className:`flex-1 py-1.5 text-xs rounded border transition-colors ${i.capSize===15?"border-brand-accent text-brand-accent bg-brand-accent/10":"border-gray-700 text-gray-400 bg-gray-800"}`,children:"15mm"})]})]}),i.material===yt.AgedBrass&&_.jsxs("div",{className:"mt-2 pt-2 border-t border-white/5",children:[_.jsxs("div",{className:"flex justify-between text-[10px] text-brand-accent mb-1",children:[_.jsx("span",{children:"Patina Intensity"}),_.jsxs("span",{children:[Math.round(i.ageIntensity*100),"%"]})]}),_.jsx("input",{type:"range",min:"0",max:"100",value:i.ageIntensity*100,onChange:S=>m("ageIntensity",Number(S.target.value)/100),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-brand-accent"})]}),_.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[_.jsx("span",{className:"text-sm text-gray-300",children:"Engraved Border"}),_.jsx("button",{onClick:()=>m("border",!i.border),className:`w-11 h-6 rounded-full relative transition-colors ${i.border?"bg-brand-accent":"bg-gray-700"}`,children:_.jsx("span",{className:`absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform ${i.border?"translate-x-5":"translate-x-0"}`})})]})]}),_.jsxs("div",{className:"glass-panel p-5 rounded-2xl",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("label",{className:"text-xs font-bold tracking-widest text-gray-500 uppercase block",children:"Wood Backing"}),_.jsx("button",{onClick:()=>m("wood",!i.wood),className:`w-11 h-6 rounded-full relative transition-colors ${i.wood?"bg-brand-accent":"bg-gray-700"}`,children:_.jsx("span",{className:`absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform ${i.wood?"translate-x-5":"translate-x-0"}`})})]}),i.wood&&_.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-1 block",children:"Tone"}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx("button",{onClick:()=>m("woodTone","light"),className:`py-2 text-xs rounded border transition-colors ${i.woodTone==="light"?"border-brand-accent text-brand-accent bg-brand-accent/10":"border-gray-700 text-gray-400"}`,children:"Light Oak"}),_.jsx("button",{onClick:()=>m("woodTone","dark"),className:`py-2 text-xs rounded border transition-colors ${i.woodTone==="dark"?"border-brand-accent text-brand-accent bg-brand-accent/10":"border-gray-700 text-gray-400"}`,children:"Dark Mahogany"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-400 font-medium mb-1 block",children:"Edge Profile"}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx("button",{onClick:()=>m("woodEdge","square"),className:`py-2 text-xs rounded border transition-colors ${i.woodEdge==="square"?"border-brand-accent text-brand-accent bg-brand-accent/10":"border-gray-700 text-gray-400"}`,children:"Square"}),_.jsx("button",{onClick:()=>m("woodEdge","bevel"),className:`py-2 text-xs rounded border transition-colors ${i.woodEdge==="bevel"?"border-brand-accent text-brand-accent bg-brand-accent/10":"border-gray-700 text-gray-400"}`,children:"Bevel"})]})]})]})]})]})},Cv=({isOpen:i,onClose:t,imageUrl:o,isLoading:a})=>i?_.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),_.jsxs("div",{className:"relative bg-[#1a1c24] border border-gray-700 rounded-2xl w-full max-w-3xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-[#15161c]",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h3",{className:"text-white font-bold text-lg",children:"Realistic Preview"}),_.jsx("span",{className:"text-[10px] bg-blue-900 text-blue-200 px-2 py-0.5 rounded border border-blue-700",children:"Gemini Vision"})]}),_.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsx("div",{className:"p-8 flex-1 flex items-center justify-center bg-[#0b0c11] min-h-[400px]",children:a?_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 border-4 border-brand-accent border-t-transparent rounded-full animate-spin"}),_.jsx("p",{className:"text-gray-400 animate-pulse",children:"Rendering photorealistic metal physics..."})]}):o?_.jsx("img",{src:`data:image/png;base64,${o}`,alt:"Realistic Plaque",className:"max-w-full max-h-full rounded-lg shadow-lg object-contain"}):_.jsx("p",{className:"text-red-400",children:"Failed to generate image. Please try again."})}),_.jsx("div",{className:"p-4 bg-[#15161c] border-t border-gray-800 text-center",children:_.jsx("p",{className:"text-xs text-gray-500",children:"AI generated visualization. Actual product finish may vary slightly due to lighting conditions."})})]})]}):null,Av=Object.prototype.toString,xv=i=>Av.call(i)==="[object Error]",bv=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Rv(i){if(!(i&&xv(i)&&i.name==="TypeError"&&typeof i.message=="string"))return!1;const{message:o,stack:a}=i;return o==="Load failed"?a===void 0||"__sentry_captured__"in i:o.startsWith("error sending request for url")?!0:bv.has(o)}function wv(i){if(typeof i=="number"){if(i<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(i))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(i!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Ua(i,t,{min:o=0,allowInfinity:a=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${i}\` to be a number${a?" or Infinity":""}.`);if(!a&&!Number.isFinite(t))throw new TypeError(`Expected \`${i}\` to be a finite number.`);if(t<o)throw new TypeError(`Expected \`${i}\` to be  ${o}.`)}}class Pm extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}function Nv(i,t){const o=Math.max(1,i+1),a=t.randomize?Math.random()+1:1;let r=Math.round(a*t.minTimeout*t.factor**(o-1));return r=Math.min(r,t.maxTimeout),r}function ih(i,t){return Number.isFinite(t)?t-(performance.now()-i):t}async function Mv({error:i,attemptNumber:t,retriesConsumed:o,startTime:a,options:r}){var A,w,H,M;const c=i instanceof Error?i:new TypeError(`Non-error was thrown: "${i}". You should only throw errors.`);if(c instanceof Pm)throw c.originalError;const p=Number.isFinite(r.retries)?Math.max(0,r.retries-o):r.retries,g=r.maxRetryTime??Number.POSITIVE_INFINITY,y=Object.freeze({error:c,attemptNumber:t,retriesLeft:p,retriesConsumed:o});if(await r.onFailedAttempt(y),ih(a,g)<=0)throw c;const m=await r.shouldConsumeRetry(y),v=ih(a,g);if(v<=0||p<=0)throw c;if(c instanceof TypeError&&!Rv(c)){if(m)throw c;return(A=r.signal)==null||A.throwIfAborted(),!1}if(!await r.shouldRetry(y))throw c;if(!m)return(w=r.signal)==null||w.throwIfAborted(),!1;const E=Nv(o,r),S=Math.min(E,v);return(H=r.signal)==null||H.throwIfAborted(),S>0&&await new Promise((Y,W)=>{var K,G;const X=()=>{var J;clearTimeout(V),(J=r.signal)==null||J.removeEventListener("abort",X),W(r.signal.reason)},V=setTimeout(()=>{var J;(J=r.signal)==null||J.removeEventListener("abort",X),Y()},S);r.unref&&((K=V.unref)==null||K.call(V)),(G=r.signal)==null||G.addEventListener("abort",X,{once:!0})}),(M=r.signal)==null||M.throwIfAborted(),!0}async function Iv(i,t={}){var c,p,g;if(t={...t},wv(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),Ua("factor",t.factor,{min:0,allowInfinity:!1}),Ua("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Ua("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Ua("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(c=t.signal)==null||c.throwIfAborted();let o=0,a=0;const r=performance.now();for(;!Number.isFinite(t.retries)||a<=t.retries;){o++;try{(p=t.signal)==null||p.throwIfAborted();const y=await i(o);return(g=t.signal)==null||g.throwIfAborted(),y}catch(y){await Mv({error:y,attemptNumber:o,retriesConsumed:a,startTime:r,options:t})&&a++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Dv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Uv,Lv;function Gv(){return{geminiUrl:Uv,vertexUrl:Lv}}function Hv(i,t,o,a){var r,c;if(!(i!=null&&i.baseUrl)){const p=Gv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(c=p.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n{}function j(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,o){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,t.slice(c+1),o[m])}else for(const m of y)f(m,t.slice(c+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],t.slice(c+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function qv(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),c=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Su(i,r,c,0,p)}}function Su(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const p=c.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Su(y,t,o,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,v]of Object.entries(y)){const E=[];for(const S of o.slice(a))S==="*"?E.push(m):E.push(S);f(p,E,v)}for(const m of g)delete p[m]}}else{const p=i;c in p&&Su(p[c],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vv(i){const t={},o=u(i,["operationName"]);o!=null&&f(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function kv(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],Bv(p)),t}function Pv(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],zv(p)),t}function Bv(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>Ov(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function zv(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>Fv(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Ov(i){const t={},o=u(i,["video"]);return o!=null&&f(t,["video"],Qv(o)),t}function Fv(i){const t={},o=u(i,["_self"]);return o!=null&&f(t,["video"],Zv(o)),t}function Yv(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function Jv(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function Kv(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],Xv(p)),t}function Xv(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Bm(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],$v(p)),t}function $v(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Qv(i){const t={},o=u(i,["uri"]);o!=null&&f(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Hu(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Zv(i){const t={},o=u(i,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Hu(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oh||(oh={}));var lh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(lh||(lh={}));var ah;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(ah||(ah={}));var Qn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Qn||(Qn={}));var sh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(sh||(sh={}));var rh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(rh||(rh={}));var uh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(uh||(uh={}));var ch;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ch||(ch={}));var fh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(fh||(fh={}));var dh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(dh||(dh={}));var ph;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(ph||(ph={}));var hh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(hh||(hh={}));var mh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mh||(mh={}));var gh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(gh||(gh={}));var yh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(yh||(yh={}));var vh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(vh||(vh={}));var Th;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Th||(Th={}));var Sh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Sh||(Sh={}));var Eh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Eh||(Eh={}));var _h;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(_h||(_h={}));var Ch;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ch||(Ch={}));var Ba;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ba||(Ba={}));var Ah;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ah||(Ah={}));var xh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xh||(xh={}));var bh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bh||(bh={}));var Eu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Eu||(Eu={}));var Rh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rh||(Rh={}));var wh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(wh||(wh={}));var _u;(function(i){i.COLLECTION="COLLECTION"})(_u||(_u={}));var Nh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Nh||(Nh={}));var Mh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Mh||(Mh={}));var Ih;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Ih||(Ih={}));var Dh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Dh||(Dh={}));var Uh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Uh||(Uh={}));var Lh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Lh||(Lh={}));var Gh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gh||(Gh={}));var Hh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hh||(Hh={}));var qh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qh||(qh={}));var Vh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Vh||(Vh={}));var kh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(kh||(kh={}));var Ph;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Ph||(Ph={}));var Bh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Bh||(Bh={}));var zh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(zh||(zh={}));var Oh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Oh||(Oh={}));var Fh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Fh||(Fh={}));var Yh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Yh||(Yh={}));var Jh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Jh||(Jh={}));var Kh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Kh||(Kh={}));var Xh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Xh||(Xh={}));var $h;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})($h||($h={}));var Qh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qh||(Qh={}));var Zh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zh||(Zh={}));var Wh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Wh||(Wh={}));var jh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jh||(jh={}));var em;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(em||(em={}));var tm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(tm||(tm={}));var so;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(so||(so={}));class Cu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class cl{get text(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const E=[];for(const S of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,w]of Object.entries(S))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(w!==null||w!==void 0)&&E.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const E of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,A]of Object.entries(E))S!=="inlineData"&&(A!==null||A!==void 0)&&v.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,a,r,c,p,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,a,r,c,p,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class nm{}class im{}class Wv{}class jv{}class eT{}class tT{}class om{}class lm{}class am{}class nT{}class za{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new za;let r;const c=t;return o?r=Pv(c):r=kv(c),Object.assign(a,r),a}}class sm{}class rm{}class um{}class cm{}class iT{}class oT{}class lT{}class qu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new qu,c=Kv(t);return Object.assign(a,c),a}}class aT{}class sT{}class rT{}class uT{}class fm{}class cT{get text(){var t,o,a;let r="",c=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,a;let r="";const c=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&c.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class fT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Vu,c=Bm(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function zm(i,t){const o=we(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Om(i){return Array.isArray(i)?i.map(t=>Oa(t)):[Oa(i)]}function Oa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Fm(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ym(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function dm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Jm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>dm(t)):[dm(i)]}function Au(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function pm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function hm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function at(i){if(i==null)throw new Error("ContentUnion is required");return Au(i)?i:{role:"user",parts:Jm(i)}}function ku(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=at(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=at(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>at(o)):[at(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(pm(i)||hm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[at(i)]}const t=[],o=[],a=Au(i[0]);for(const r of i){const c=Au(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(pm(r)||hm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Jm(o)}),t}function dT(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Qn).includes(o[0].toUpperCase())?o[0].toUpperCase():Qn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Qn).includes(a.toUpperCase())?a.toUpperCase():Qn.TYPE_UNSPECIFIED})}}function uo(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&dT(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Qn).includes(g.toUpperCase())?g.toUpperCase():Qn.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=uo(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(uo(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,v]of Object.entries(g))y[m]=uo(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Pu(i){return uo(i)}function Bu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function zu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function fo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=uo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=uo(t.response));return i}function po(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function pT(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Cn(i,t){if(typeof t!="string")throw new Error("name must be a string");return pT(i,t,"cachedContents")}function Km(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Zn(i){return Hu(i)}function hT(i){return i!=null&&typeof i=="object"&&"name"in i}function mT(i){return i!=null&&typeof i=="object"&&"video"in i}function gT(i){return i!=null&&typeof i=="object"&&"uri"in i}function Xm(i){var t;let o;if(hT(i)&&(o=i.name),!(gT(i)&&(o=i.uri,o===void 0))&&!(mT(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function $m(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Qm(i){for(const t of["models","tunedModels","publisherModels"])if(yT(i,t))return i[t];return[]}function yT(i,t){return i!==null&&typeof i=="object"&&t in i}function vT(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function TT(i,t={}){const o=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const p=vT(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Zm(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function ST(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Wm(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ho(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function jm(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(i){const t={},o=u(i,["responsesFile"]);o!=null&&f(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>tS(p))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["inlinedEmbedContentResponses"],c)}return t}function _T(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function CT(i){const t={},o=u(i,["format"]);o!=null&&f(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function ka(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],jm(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const p=u(i,["metadata","endTime"]);p!=null&&f(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&f(t,["dest"],ET(Wm(m))),t}function xu(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],jm(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["createTime"]);p!=null&&f(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const E=u(i,["inputConfig"]);E!=null&&f(t,["src"],AT(E));const S=u(i,["outputConfig"]);S!=null&&f(t,["dest"],_T(Wm(S)));const A=u(i,["completionStats"]);return A!=null&&f(t,["completionStats"],A),t}function AT(i){const t={},o=u(i,["instancesFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function xT(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>eS(i,p))),f(o,["requests","requests"],c)}return o}function bT(i){const t={},o=u(i,["format"]);o!=null&&f(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function RT(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function wT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],ho(i,a)),o}function NT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],ho(i,a)),o}function MT(i){const t={},o=u(i,["content"]);o!=null&&f(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],IT(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),f(t,["safetyRatings"],S)}const E=u(i,["urlContextMetadata"]);return E!=null&&f(t,["urlContextMetadata"],E),t}function IT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function eg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>rS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function DT(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function UT(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],CT(ST(r))),o}function mm(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],we(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],xT(i,Zm(i,r)));const c=u(t,["config"]);return c!=null&&DT(c,o),o}function LT(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],we(i,a));const r=u(t,["src"]);r!=null&&f(o,["inputConfig"],bT(Zm(i,r)));const c=u(t,["config"]);return c!=null&&UT(c,o),o}function GT(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),o}function HT(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],we(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],OT(i,r));const c=u(t,["config"]);return c!=null&&GT(c,o),o}function qT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],ho(i,a)),o}function VT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],ho(i,a)),o}function kT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function PT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function BT(i,t){const o={},a=u(t,["contents"]);if(a!=null){let c=ku(i,a);Array.isArray(c)&&(c=c.map(p=>p)),f(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(o,["_self"],zT(r,o)),qv(o,{"requests[].*":"requests[].request.*"})),o}function zT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function OT(i,t){const o={},a=u(t,["fileName"]);a!=null&&f(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(o,["requests"],BT(i,r)),o}function FT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function YT(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JT(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function KT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],eg(at(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&f(a,["responseLogprobs"],E);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const A=u(t,["presencePenalty"]);A!=null&&f(a,["presencePenalty"],A);const w=u(t,["frequencyPenalty"]);w!=null&&f(a,["frequencyPenalty"],w);const H=u(t,["seed"]);H!=null&&f(a,["seed"],H);const M=u(t,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const Y=u(t,["responseSchema"]);Y!=null&&f(a,["responseSchema"],Pu(Y));const W=u(t,["responseJsonSchema"]);if(W!=null&&f(a,["responseJsonSchema"],W),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=u(t,["safetySettings"]);if(o!==void 0&&X!=null){let xe=X;Array.isArray(xe)&&(xe=xe.map(_e=>uS(_e))),f(o,["safetySettings"],xe)}const V=u(t,["tools"]);if(o!==void 0&&V!=null){let xe=po(V);Array.isArray(xe)&&(xe=xe.map(_e=>fS(fo(_e)))),f(o,["tools"],xe)}const K=u(t,["toolConfig"]);if(o!==void 0&&K!=null&&f(o,["toolConfig"],cS(K)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=u(t,["cachedContent"]);o!==void 0&&G!=null&&f(o,["cachedContent"],Cn(i,G));const J=u(t,["responseModalities"]);J!=null&&f(a,["responseModalities"],J);const P=u(t,["mediaResolution"]);P!=null&&f(a,["mediaResolution"],P);const $=u(t,["speechConfig"]);if($!=null&&f(a,["speechConfig"],Bu($)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(t,["thinkingConfig"]);le!=null&&f(a,["thinkingConfig"],le);const ne=u(t,["imageConfig"]);ne!=null&&f(a,["imageConfig"],jT(ne));const me=u(t,["enableEnhancedCivicAnswers"]);if(me!=null&&f(a,["enableEnhancedCivicAnswers"],me),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function XT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>MT(m))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function $T(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],ho(i,a)),o}function QT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],ho(i,a)),o}function ZT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function WT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function jT(i){const t={},o=u(i,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function eS(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["request","model"],we(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>eg(y))),f(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(t,["config"]);return p!=null&&f(o,["request","generationConfig"],KT(i,p,u(o,["request"],{}))),o}function tS(i){const t={},o=u(i,["response"]);o!=null&&f(t,["response"],XT(o));const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["error"]);return r!=null&&f(t,["error"],r),t}function nS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function iS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),o}function oS(i){const t={},o=u(i,["config"]);return o!=null&&nS(o,t),t}function lS(i){const t={},o=u(i,["config"]);return o!=null&&iS(o,t),t}function aS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ka(p))),f(t,["batchJobs"],c)}return t}function sS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>xu(p))),f(t,["batchJobs"],c)}return t}function rS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],FT(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],YT(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],RT(y));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function uS(i){const t={},o=u(i,["category"]);if(o!=null&&f(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function cS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],JT(a)),t}function fS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],ZT(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],WT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var En;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(En||(En={}));class Si{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dS extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(En.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=mm(this.apiClient,t),a=o._url,r=j("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const S=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=S,E.request=A}m.push(E)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=LT(this.apiClient,t);return g=j("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}else{const m=mm(this.apiClient,t);return g=j("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>ka(v))}}async createEmbeddingsInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HT(this.apiClient,t);return c=j("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>ka(y))}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=QT(this.apiClient,t);return g=j("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}else{const m=$T(this.apiClient,t);return g=j("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>ka(v))}}async cancel(t){var o,a,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=NT(this.apiClient,t);p=j("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=wT(this.apiClient,t);p=j("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=lS(t);return g=j("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=sS(v),S=new fm;return Object.assign(S,E),S})}else{const m=oS(t);return g=j("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=aS(v),S=new fm;return Object.assign(S,E),S})}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=VT(this.apiClient,t);return g=j("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>PT(v))}else{const m=qT(this.apiClient,t);return g=j("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>kT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function gm(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>HS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function hS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Vt(p);Array.isArray(v)&&(v=v.map(E=>gm(E))),f(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],gm(at(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>VS(E))),f(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],qS(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function mS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let E=Vt(p);Array.isArray(E)&&(E=E.map(S=>S)),f(t,["contents"],E)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],at(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>kS(S))),f(t,["tools"],E)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function gS(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],zm(i,a));const r=u(t,["config"]);return r!=null&&hS(r,o),o}function yS(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],zm(i,a));const r=u(t,["config"]);return r!=null&&mS(r,o),o}function vS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Cn(i,a)),o}function TS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Cn(i,a)),o}function SS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function ES(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function _S(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function CS(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function xS(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function bS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Cn(i,a)),o}function RS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],Cn(i,a)),o}function wS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function NS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function MS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function IS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function DS(i){const t={},o=u(i,["config"]);return o!=null&&MS(o,t),t}function US(i){const t={},o=u(i,["config"]);return o!=null&&IS(o,t),t}function LS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function GS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function HS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],_S(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],CS(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],pS(y));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function qS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],AS(a)),t}function VS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],wS(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],NS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function kS(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(S=>xS(S))),f(t,["functionDeclarations"],E)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function PS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function BS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function zS(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],Cn(i,a));const r=u(t,["config"]);return r!=null&&PS(r,o),o}function OS(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],Cn(i,a));const r=u(t,["config"]);return r!=null&&BS(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(En.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=yS(this.apiClient,t);return g=j("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=gS(this.apiClient,t);return g=j("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=RS(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=bS(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=TS(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=ES(v),S=new um;return Object.assign(S,E),S})}else{const m=vS(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=SS(v),S=new um;return Object.assign(S,E),S})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=OS(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=zS(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=US(t);return g=j("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=GS(v),S=new cm;return Object.assign(S,E),S})}else{const m=DS(t);return g=j("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=LS(v),S=new cm;return Object.assign(S,E),S})}}}function Fa(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function ym(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(i){return this instanceof ce?(this.v=i,this):new ce(i)}function Ft(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(w){return Promise.resolve(w).then(A,E)}}function g(A,w){a[A]&&(r[A]=function(H){return new Promise(function(M,Y){c.push([A,H,M,Y])>1||y(A,H)})},w&&(r[A]=w(r[A])))}function y(A,w){try{m(a[A](w))}catch(H){S(c[0][3],H)}}function m(A){A.value instanceof ce?Promise.resolve(A.value.v).then(v,E):S(c[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function S(A,w){A(w),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Yt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof ym=="function"?ym(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=i[c]&&function(p){return new Promise(function(g,y){p=i[c](p),r(g,y,p.done,p.value)})}}function r(c,p,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:tg(o)}function tg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function JS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function vm(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),c&&!tg(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class KS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new XS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class XS{constructor(t,o,a,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),JS(c)}async sendMessage(t){var o;await this.sendPromise;const a=at(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,p,g;const y=await r,m=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(E))!==null&&g!==void 0?g:[]);const A=m?[m]:[];this.recordHistory(a,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=at(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const o=t?vm(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Ft(this,arguments,function*(){var r,c,p,g,y,m;const v=[];try{for(var E=!0,S=Yt(t),A;A=yield ce(S.next()),r=A.done,!r;E=!0){g=A.value,E=!1;const w=g;if(YS(w)){const H=(m=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;H!==void 0&&v.push(H)}yield yield ce(w)}}catch(w){c={error:w}}finally{try{!E&&!r&&(p=S.return)&&(yield ce(p.call(S)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...vm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,hl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $S(i){const t={},o=u(i,["file"]);return o!=null&&f(t,["file"],o),t}function QS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function ZS(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Xm(o)),t}function WS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function jS(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Xm(o)),t}function eE(i){const t={},o=u(i,["uris"]);return o!=null&&f(t,["uris"],o),t}function tE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function nE(i){const t={},o=u(i,["config"]);return o!=null&&tE(o,t),t}function iE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["files"],c)}return t}function oE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lE extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(En.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nE(t);return c=j("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=iE(y),v=new aT;return Object.assign(v,m),v})}}async createInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$S(t);return c=j("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=QS(y),v=new sT;return Object.assign(v,m),v})}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jS(t);return c=j("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZS(t);return c=j("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=WS(y),v=new rT;return Object.assign(v,m),v})}}async registerFilesInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eE(t);return c=j("files:register",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=oE(y),v=new uT;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pa(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function aE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>_E(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function sE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function rE(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uE(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function cE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&f(t,["presencePenalty"],E);const S=u(i,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const A=u(i,["responseMimeType"]);A!=null&&f(t,["responseMimeType"],A);const w=u(i,["responseModalities"]);w!=null&&f(t,["responseModalities"],w);const H=u(i,["responseSchema"]);H!=null&&f(t,["responseSchema"],H);const M=u(i,["routingConfig"]);M!=null&&f(t,["routingConfig"],M);const Y=u(i,["seed"]);Y!=null&&f(t,["seed"],Y);const W=u(i,["speechConfig"]);W!=null&&f(t,["speechConfig"],W);const X=u(i,["stopSequences"]);X!=null&&f(t,["stopSequences"],X);const V=u(i,["temperature"]);V!=null&&f(t,["temperature"],V);const K=u(i,["thinkingConfig"]);K!=null&&f(t,["thinkingConfig"],K);const G=u(i,["topK"]);G!=null&&f(t,["topK"],G);const J=u(i,["topP"]);if(J!=null&&f(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function fE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function dE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function pE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","speechConfig"],zu(E));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],aE(at(w)));const H=u(i,["tools"]);if(t!==void 0&&H!=null){let G=po(H);Array.isArray(G)&&(G=G.map(J=>AE(fo(J)))),f(t,["setup","tools"],G)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],CE(M));const Y=u(i,["inputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","inputAudioTranscription"],Y);const W=u(i,["outputAudioTranscription"]);t!==void 0&&W!=null&&f(t,["setup","outputAudioTranscription"],W);const X=u(i,["realtimeInputConfig"]);t!==void 0&&X!=null&&f(t,["setup","realtimeInputConfig"],X);const V=u(i,["contextWindowCompression"]);t!==void 0&&V!=null&&f(t,["setup","contextWindowCompression"],V);const K=u(i,["proactivity"]);if(t!==void 0&&K!=null&&f(t,["setup","proactivity"],K),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function hE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],cE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","speechConfig"],zu(E));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],at(w));const H=u(i,["tools"]);if(t!==void 0&&H!=null){let J=po(H);Array.isArray(J)&&(J=J.map(P=>xE(fo(P)))),f(t,["setup","tools"],J)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],M);const Y=u(i,["inputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","inputAudioTranscription"],Y);const W=u(i,["outputAudioTranscription"]);t!==void 0&&W!=null&&f(t,["setup","outputAudioTranscription"],W);const X=u(i,["realtimeInputConfig"]);t!==void 0&&X!=null&&f(t,["setup","realtimeInputConfig"],X);const V=u(i,["contextWindowCompression"]);t!==void 0&&V!=null&&f(t,["setup","contextWindowCompression"],V);const K=u(i,["proactivity"]);t!==void 0&&K!=null&&f(t,["setup","proactivity"],K);const G=u(i,["explicitVadSignal"]);return t!==void 0&&G!=null&&f(t,["setup","explicitVadSignal"],G),o}function mE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],we(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],pE(r,o)),o}function gE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],we(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],hE(r,o)),o}function yE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function vE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function TE(i){const t={},o=u(i,["media"]);if(o!=null){let m=Om(o);Array.isArray(m)&&(m=m.map(v=>Pa(v))),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Pa(Ym(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Pa(Fm(c)));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function SE(i){const t={},o=u(i,["media"]);if(o!=null){let m=Om(o);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Ym(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Fm(c));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function EE(i){const t={},o=u(i,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const p=u(i,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],bE(p));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);m!=null&&f(t,["voiceActivityDetectionSignal"],m);const v=u(i,["voiceActivity"]);return v!=null&&f(t,["voiceActivity"],RE(v)),t}function _E(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],sE(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],rE(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],Pa(y));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function CE(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function AE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],fE(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],dE(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function xE(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(S=>uE(S))),f(t,["functionDeclarations"],E)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function bE(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const p=u(i,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(w=>w)),f(t,["promptTokensDetails"],A)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(w=>w)),f(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(w=>w)),f(t,["responseTokensDetails"],A)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(w=>w)),f(t,["toolUsePromptTokensDetails"],A)}const S=u(i,["trafficType"]);return S!=null&&f(t,["trafficType"],S),t}function RE(i){const t={},o=u(i,["type"]);return o!=null&&f(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wE(i,t){const o={},a=u(i,["data"]);if(a!=null&&f(o,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function NE(i,t){const o={},a=u(i,["content"]);a!=null&&f(o,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&f(o,["citationMetadata"],ME(r));const c=u(i,["tokenCount"]);c!=null&&f(o,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&f(o,["finishReason"],p);const g=u(i,["avgLogprobs"]);g!=null&&f(o,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&f(o,["groundingMetadata"],y);const m=u(i,["index"]);m!=null&&f(o,["index"],m);const v=u(i,["logprobsResult"]);v!=null&&f(o,["logprobsResult"],v);const E=u(i,["safetyRatings"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(w=>w)),f(o,["safetyRatings"],A)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(o,["urlContextMetadata"],S),o}function ME(i,t){const o={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["citations"],r)}return o}function IE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["contents"]);if(c!=null){let p=Vt(c);Array.isArray(p)&&(p=p.map(g=>g)),f(a,["contents"],p)}return a}function DE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["tokensInfo"],c)}return o}function UE(i,t){const o={},a=u(i,["values"]);a!=null&&f(o,["values"],a);const r=u(i,["statistics"]);return r!=null&&f(o,["statistics"],LE(r)),o}function LE(i,t){const o={},a=u(i,["truncated"]);a!=null&&f(o,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&f(o,["tokenCount"],r),o}function Ka(i,t){const o={},a=u(i,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>O_(p))),f(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&f(o,["role"],r),o}function GE(i,t){const o={},a=u(i,["controlType"]);a!=null&&f(o,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&f(o,["computeControl"],r),o}function HE(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function qE(i,t,o){const a={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],at(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>lg(y))),f(t,["tools"],g)}const p=u(i,["generationConfig"]);return t!==void 0&&p!=null&&f(t,["generationConfig"],w_(p)),a}function VE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>Ka(y))),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&HE(p),a}function kE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&qE(p,a),a}function PE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&f(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(o,["cachedContentTokenCount"],c),o}function BE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&f(o,["totalTokens"],r),o}function zE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],we(i,r)),a}function OE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],we(i,r)),a}function FE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function YE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function JE(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const m=u(i,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&f(t,["parameters","personGeneration"],E);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const A=u(i,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const w=u(i,["language"]);t!==void 0&&w!=null&&f(t,["parameters","language"],w);const H=u(i,["outputMimeType"]);t!==void 0&&H!=null&&f(t,["parameters","outputOptions","mimeType"],H);const M=u(i,["outputCompressionQuality"]);t!==void 0&&M!=null&&f(t,["parameters","outputOptions","compressionQuality"],M);const Y=u(i,["addWatermark"]);t!==void 0&&Y!=null&&f(t,["parameters","addWatermark"],Y);const W=u(i,["labels"]);t!==void 0&&W!=null&&f(t,["labels"],W);const X=u(i,["editMode"]);t!==void 0&&X!=null&&f(t,["parameters","editMode"],X);const V=u(i,["baseSteps"]);return t!==void 0&&V!=null&&f(t,["parameters","editConfig","baseSteps"],V),a}function KE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["referenceImages"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(m=>$_(m))),f(a,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&JE(g,a),a}function XE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Xa(p))),f(o,["generatedImages"],c)}return o}function $E(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(t!==void 0&&p!=null&&f(t,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function QE(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["instances[]","task_type"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["instances[]","title"],c);const p=u(i,["outputDimensionality"]);t!==void 0&&p!=null&&f(t,["parameters","outputDimensionality"],p);const g=u(i,["mimeType"]);t!==void 0&&g!=null&&f(t,["instances[]","mimeType"],g);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),a}function ZE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["contents"]);if(c!=null){let y=ku(i,c);Array.isArray(y)&&(y=y.map(m=>m)),f(a,["requests[]","content"],y)}const p=u(t,["config"]);p!=null&&$E(p,a);const g=u(t,["model"]);return g!==void 0&&f(a,["requests[]","model"],we(i,g)),a}function WE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["contents"]);if(c!=null){let g=ku(i,c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["instances[]","content"],g)}const p=u(t,["config"]);return p!=null&&QE(p,a),a}function jE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>g)),f(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function e_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>UE(g))),f(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function t_(i,t){const o={},a=u(i,["endpoint"]);a!=null&&f(o,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&f(o,["deployedModelId"],r),o}function n_(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&f(o,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function i_(i,t){const o={},a=u(i,["id"]);a!=null&&f(o,["id"],a);const r=u(i,["args"]);r!=null&&f(o,["args"],r);const c=u(i,["name"]);if(c!=null&&f(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function o_(i,t){const o={},a=u(i,["allowedFunctionNames"]);a!=null&&f(o,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&f(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function l_(i,t){const o={},a=u(i,["description"]);a!=null&&f(o,["description"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["parameters"]);c!=null&&f(o,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&f(o,["parametersJsonSchema"],p);const g=u(i,["response"]);g!=null&&f(o,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function a_(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],Ka(at(c)));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&f(r,["candidateCount"],m);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const E=u(t,["stopSequences"]);E!=null&&f(r,["stopSequences"],E);const S=u(t,["responseLogprobs"]);S!=null&&f(r,["responseLogprobs"],S);const A=u(t,["logprobs"]);A!=null&&f(r,["logprobs"],A);const w=u(t,["presencePenalty"]);w!=null&&f(r,["presencePenalty"],w);const H=u(t,["frequencyPenalty"]);H!=null&&f(r,["frequencyPenalty"],H);const M=u(t,["seed"]);M!=null&&f(r,["seed"],M);const Y=u(t,["responseMimeType"]);Y!=null&&f(r,["responseMimeType"],Y);const W=u(t,["responseSchema"]);W!=null&&f(r,["responseSchema"],Pu(W));const X=u(t,["responseJsonSchema"]);if(X!=null&&f(r,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(t,["safetySettings"]);if(o!==void 0&&V!=null){let _e=V;Array.isArray(_e)&&(_e=_e.map(ye=>Q_(ye))),f(o,["safetySettings"],_e)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let _e=po(K);Array.isArray(_e)&&(_e=_e.map(ye=>iC(fo(ye)))),f(o,["tools"],_e)}const G=u(t,["toolConfig"]);if(o!==void 0&&G!=null&&f(o,["toolConfig"],nC(G)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=u(t,["cachedContent"]);o!==void 0&&J!=null&&f(o,["cachedContent"],Cn(i,J));const P=u(t,["responseModalities"]);P!=null&&f(r,["responseModalities"],P);const $=u(t,["mediaResolution"]);$!=null&&f(r,["mediaResolution"],$);const le=u(t,["speechConfig"]);if(le!=null&&f(r,["speechConfig"],Bu(le)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=u(t,["thinkingConfig"]);ne!=null&&f(r,["thinkingConfig"],ne);const me=u(t,["imageConfig"]);me!=null&&f(r,["imageConfig"],U_(me));const xe=u(t,["enableEnhancedCivicAnswers"]);if(xe!=null&&f(r,["enableEnhancedCivicAnswers"],xe),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function s_(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],at(c));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&f(r,["candidateCount"],m);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const E=u(t,["stopSequences"]);E!=null&&f(r,["stopSequences"],E);const S=u(t,["responseLogprobs"]);S!=null&&f(r,["responseLogprobs"],S);const A=u(t,["logprobs"]);A!=null&&f(r,["logprobs"],A);const w=u(t,["presencePenalty"]);w!=null&&f(r,["presencePenalty"],w);const H=u(t,["frequencyPenalty"]);H!=null&&f(r,["frequencyPenalty"],H);const M=u(t,["seed"]);M!=null&&f(r,["seed"],M);const Y=u(t,["responseMimeType"]);Y!=null&&f(r,["responseMimeType"],Y);const W=u(t,["responseSchema"]);W!=null&&f(r,["responseSchema"],Pu(W));const X=u(t,["responseJsonSchema"]);X!=null&&f(r,["responseJsonSchema"],X);const V=u(t,["routingConfig"]);V!=null&&f(r,["routingConfig"],V);const K=u(t,["modelSelectionConfig"]);K!=null&&f(r,["modelConfig"],K);const G=u(t,["safetySettings"]);if(o!==void 0&&G!=null){let L=G;Array.isArray(L)&&(L=L.map(te=>te)),f(o,["safetySettings"],L)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let L=po(J);Array.isArray(L)&&(L=L.map(te=>lg(fo(te)))),f(o,["tools"],L)}const P=u(t,["toolConfig"]);o!==void 0&&P!=null&&f(o,["toolConfig"],P);const $=u(t,["labels"]);o!==void 0&&$!=null&&f(o,["labels"],$);const le=u(t,["cachedContent"]);o!==void 0&&le!=null&&f(o,["cachedContent"],Cn(i,le));const ne=u(t,["responseModalities"]);ne!=null&&f(r,["responseModalities"],ne);const me=u(t,["mediaResolution"]);me!=null&&f(r,["mediaResolution"],me);const xe=u(t,["speechConfig"]);xe!=null&&f(r,["speechConfig"],Bu(xe));const _e=u(t,["audioTimestamp"]);_e!=null&&f(r,["audioTimestamp"],_e);const ye=u(t,["thinkingConfig"]);ye!=null&&f(r,["thinkingConfig"],ye);const k=u(t,["imageConfig"]);if(k!=null&&f(r,["imageConfig"],L_(k)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Q=u(t,["modelArmorConfig"]);return o!==void 0&&Q!=null&&f(o,["modelArmorConfig"],Q),r}function Tm(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>Ka(y))),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],a_(i,p,a)),a}function Sm(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],s_(i,p,a)),a}function Em(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(v=>NE(v))),f(o,["candidates"],m)}const c=u(i,["modelVersion"]);c!=null&&f(o,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&f(o,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&f(o,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(o,["usageMetadata"],y),o}function _m(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),f(o,["candidates"],v)}const c=u(i,["createTime"]);c!=null&&f(o,["createTime"],c);const p=u(i,["modelVersion"]);p!=null&&f(o,["modelVersion"],p);const g=u(i,["promptFeedback"]);g!=null&&f(o,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&f(o,["responseId"],y);const m=u(i,["usageMetadata"]);return m!=null&&f(o,["usageMetadata"],m),o}function r_(i,t,o){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const p=u(i,["guidanceScale"]);if(t!==void 0&&p!=null&&f(t,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const m=u(i,["includeSafetyAttributes"]);t!==void 0&&m!=null&&f(t,["parameters","includeSafetyAttributes"],m);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const E=u(i,["language"]);t!==void 0&&E!=null&&f(t,["parameters","language"],E);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const A=u(i,["outputCompressionQuality"]);if(t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=u(i,["imageSize"]);if(t!==void 0&&w!=null&&f(t,["parameters","sampleImageSize"],w),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function u_(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const m=u(i,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&f(t,["parameters","personGeneration"],E);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const A=u(i,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const w=u(i,["language"]);t!==void 0&&w!=null&&f(t,["parameters","language"],w);const H=u(i,["outputMimeType"]);t!==void 0&&H!=null&&f(t,["parameters","outputOptions","mimeType"],H);const M=u(i,["outputCompressionQuality"]);t!==void 0&&M!=null&&f(t,["parameters","outputOptions","compressionQuality"],M);const Y=u(i,["addWatermark"]);t!==void 0&&Y!=null&&f(t,["parameters","addWatermark"],Y);const W=u(i,["labels"]);t!==void 0&&W!=null&&f(t,["labels"],W);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&f(t,["parameters","sampleImageSize"],X);const V=u(i,["enhancePrompt"]);return t!==void 0&&V!=null&&f(t,["parameters","enhancePrompt"],V),a}function c_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&r_(p,a),a}function f_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&u_(p,a),a}function d_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>A_(g))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],ig(c)),o}function p_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Xa(g))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],og(c)),o}function h_(i,t,o){const a={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=u(i,["negativePrompt"]);t!==void 0&&m!=null&&f(t,["parameters","negativePrompt"],m);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&f(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const E=u(i,["lastFrame"]);t!==void 0&&E!=null&&f(t,["instances[0]","lastFrame"],$a(E));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let A=S;Array.isArray(A)&&(A=A.map(w=>gC(w))),f(t,["instances[0]","referenceImages"],A)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function m_(i,t,o){const a={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const p=u(i,["fps"]);t!==void 0&&p!=null&&f(t,["parameters","fps"],p);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&f(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const v=u(i,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const E=u(i,["personGeneration"]);t!==void 0&&E!=null&&f(t,["parameters","personGeneration"],E);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&f(t,["parameters","pubsubTopic"],S);const A=u(i,["negativePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","negativePrompt"],A);const w=u(i,["enhancePrompt"]);t!==void 0&&w!=null&&f(t,["parameters","enhancePrompt"],w);const H=u(i,["generateAudio"]);t!==void 0&&H!=null&&f(t,["parameters","generateAudio"],H);const M=u(i,["lastFrame"]);t!==void 0&&M!=null&&f(t,["instances[0]","lastFrame"],Jt(M));const Y=u(i,["referenceImages"]);if(t!==void 0&&Y!=null){let V=Y;Array.isArray(V)&&(V=V.map(K=>yC(K))),f(t,["instances[0]","referenceImages"],V)}const W=u(i,["mask"]);t!==void 0&&W!=null&&f(t,["instances[0]","mask"],mC(W));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&f(t,["parameters","compressionQuality"],X),a}function g_(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const g=u(i,["response","generateVideoResponse"]);return g!=null&&f(o,["response"],S_(g)),o}function y_(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const g=u(i,["response"]);return g!=null&&f(o,["response"],E_(g)),o}function v_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],$a(p));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],ag(g));const y=u(t,["source"]);y!=null&&__(y,a);const m=u(t,["config"]);return m!=null&&h_(m,a),a}function T_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],Jt(p));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],sg(g));const y=u(t,["source"]);y!=null&&C_(y,a);const m=u(t,["config"]);return m!=null&&m_(m,a),a}function S_(i,t){const o={},a=u(i,["generatedSamples"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>b_(g))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function E_(i,t){const o={},a=u(i,["videos"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>R_(g))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function __(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],$a(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],ag(p)),a}function C_(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Jt(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],sg(p)),a}function A_(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],G_(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&f(o,["safetyAttributes"],ig(c)),o}function Xa(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],ng(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&f(o,["safetyAttributes"],og(c));const p=u(i,["prompt"]);return p!=null&&f(o,["enhancedPrompt"],p),o}function x_(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["mask"],ng(a));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["labels"],c)}return o}function b_(i,t){const o={},a=u(i,["video"]);return a!=null&&f(o,["video"],pC(a)),o}function R_(i,t){const o={},a=u(i,["_self"]);return a!=null&&f(o,["video"],hC(a)),o}function w_(i,t){const o={},a=u(i,["modelSelectionConfig"]);a!=null&&f(o,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&f(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&f(o,["audioTimestamp"],c);const p=u(i,["candidateCount"]);p!=null&&f(o,["candidateCount"],p);const g=u(i,["enableAffectiveDialog"]);g!=null&&f(o,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&f(o,["frequencyPenalty"],y);const m=u(i,["logprobs"]);m!=null&&f(o,["logprobs"],m);const v=u(i,["maxOutputTokens"]);v!=null&&f(o,["maxOutputTokens"],v);const E=u(i,["mediaResolution"]);E!=null&&f(o,["mediaResolution"],E);const S=u(i,["presencePenalty"]);S!=null&&f(o,["presencePenalty"],S);const A=u(i,["responseLogprobs"]);A!=null&&f(o,["responseLogprobs"],A);const w=u(i,["responseMimeType"]);w!=null&&f(o,["responseMimeType"],w);const H=u(i,["responseModalities"]);H!=null&&f(o,["responseModalities"],H);const M=u(i,["responseSchema"]);M!=null&&f(o,["responseSchema"],M);const Y=u(i,["routingConfig"]);Y!=null&&f(o,["routingConfig"],Y);const W=u(i,["seed"]);W!=null&&f(o,["seed"],W);const X=u(i,["speechConfig"]);X!=null&&f(o,["speechConfig"],X);const V=u(i,["stopSequences"]);V!=null&&f(o,["stopSequences"],V);const K=u(i,["temperature"]);K!=null&&f(o,["temperature"],K);const G=u(i,["thinkingConfig"]);G!=null&&f(o,["thinkingConfig"],G);const J=u(i,["topK"]);J!=null&&f(o,["topK"],J);const P=u(i,["topP"]);if(P!=null&&f(o,["topP"],P),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function N_(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],we(i,r)),a}function M_(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],we(i,r)),a}function I_(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&f(o,["enableWidget"],a),o}function D_(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&f(o,["timeRangeFilter"],a),o}function U_(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&f(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function L_(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&f(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&f(o,["personGeneration"],c);const p=u(i,["outputMimeType"]);p!=null&&f(o,["imageOutputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);return g!=null&&f(o,["imageOutputOptions","compressionQuality"],g),o}function G_(i,t){const o={},a=u(i,["bytesBase64Encoded"]);a!=null&&f(o,["imageBytes"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function ng(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["imageBytes"],Zn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function $a(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&f(o,["bytesBase64Encoded"],Zn(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function Jt(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Zn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function H_(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],$m(i,y)),r}function q_(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],$m(i,y)),r}function V_(i,t,o){const a={},r=u(t,["config"]);return r!=null&&H_(i,r,a),a}function k_(i,t,o){const a={},r=u(t,["config"]);return r!=null&&q_(i,r,a),a}function P_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Qm(c);Array.isArray(p)&&(p=p.map(g=>bu(g))),f(o,["models"],p)}return o}function B_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Qm(c);Array.isArray(p)&&(p=p.map(g=>Ru(g))),f(o,["models"],p)}return o}function z_(i,t){const o={},a=u(i,["maskMode"]);a!=null&&f(o,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&f(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&f(o,["dilation"],c),o}function bu(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["version"]);p!=null&&f(o,["version"],p);const g=u(i,["_self"]);g!=null&&f(o,["tunedModelInfo"],oC(g));const y=u(i,["inputTokenLimit"]);y!=null&&f(o,["inputTokenLimit"],y);const m=u(i,["outputTokenLimit"]);m!=null&&f(o,["outputTokenLimit"],m);const v=u(i,["supportedGenerationMethods"]);v!=null&&f(o,["supportedActions"],v);const E=u(i,["temperature"]);E!=null&&f(o,["temperature"],E);const S=u(i,["maxTemperature"]);S!=null&&f(o,["maxTemperature"],S);const A=u(i,["topP"]);A!=null&&f(o,["topP"],A);const w=u(i,["topK"]);w!=null&&f(o,["topK"],w);const H=u(i,["thinking"]);return H!=null&&f(o,["thinking"],H),o}function Ru(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["versionId"]);p!=null&&f(o,["version"],p);const g=u(i,["deployedModels"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(A=>t_(A))),f(o,["endpoints"],S)}const y=u(i,["labels"]);y!=null&&f(o,["labels"],y);const m=u(i,["_self"]);m!=null&&f(o,["tunedModelInfo"],lC(m));const v=u(i,["defaultCheckpointId"]);v!=null&&f(o,["defaultCheckpointId"],v);const E=u(i,["checkpoints"]);if(E!=null){let S=E;Array.isArray(S)&&(S=S.map(A=>A)),f(o,["checkpoints"],S)}return o}function O_(i,t){const o={},a=u(i,["mediaResolution"]);a!=null&&f(o,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&f(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&f(o,["executableCode"],c);const p=u(i,["fileData"]);p!=null&&f(o,["fileData"],n_(p));const g=u(i,["functionCall"]);g!=null&&f(o,["functionCall"],i_(g));const y=u(i,["functionResponse"]);y!=null&&f(o,["functionResponse"],y);const m=u(i,["inlineData"]);m!=null&&f(o,["inlineData"],wE(m));const v=u(i,["text"]);v!=null&&f(o,["text"],v);const E=u(i,["thought"]);E!=null&&f(o,["thought"],E);const S=u(i,["thoughtSignature"]);S!=null&&f(o,["thoughtSignature"],S);const A=u(i,["videoMetadata"]);return A!=null&&f(o,["videoMetadata"],A),o}function F_(i,t){const o={},a=u(i,["productImage"]);return a!=null&&f(o,["image"],Jt(a)),o}function Y_(i,t,o){const a={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const p=u(i,["outputGcsUri"]);t!==void 0&&p!=null&&f(t,["parameters","storageUri"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const m=u(i,["personGeneration"]);t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&f(t,["parameters","addWatermark"],v);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","mimeType"],E);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","enhancePrompt"],A);const w=u(i,["labels"]);return t!==void 0&&w!=null&&f(t,["labels"],w),a}function J_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["source"]);c!=null&&X_(c,a);const p=u(t,["config"]);return p!=null&&Y_(p,a),a}function K_(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Xa(c))),f(o,["generatedImages"],r)}return o}function X_(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],Jt(c));const p=u(i,["productImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>F_(y))),f(t,["instances[0]","productImages"],g)}return a}function $_(i,t){const o={},a=u(i,["referenceImage"]);a!=null&&f(o,["referenceImage"],Jt(a));const r=u(i,["referenceId"]);r!=null&&f(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&f(o,["referenceType"],c);const p=u(i,["maskImageConfig"]);p!=null&&f(o,["maskImageConfig"],z_(p));const g=u(i,["controlImageConfig"]);g!=null&&f(o,["controlImageConfig"],GE(g));const y=u(i,["styleImageConfig"]);y!=null&&f(o,["styleImageConfig"],y);const m=u(i,["subjectImageConfig"]);return m!=null&&f(o,["subjectImageConfig"],m),o}function ig(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function og(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function Q_(i,t){const o={},a=u(i,["category"]);if(a!=null&&f(o,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&f(o,["threshold"],r),o}function Z_(i,t){const o={},a=u(i,["image"]);return a!=null&&f(o,["image"],Jt(a)),o}function W_(i,t,o){const a={},r=u(i,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const p=u(i,["confidenceThreshold"]);t!==void 0&&p!=null&&f(t,["parameters","confidenceThreshold"],p);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&f(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const m=u(i,["labels"]);return t!==void 0&&m!=null&&f(t,["labels"],m),a}function j_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["source"]);c!=null&&tC(c,a);const p=u(t,["config"]);return p!=null&&W_(p,a),a}function eC(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>x_(c))),f(o,["generatedMasks"],r)}return o}function tC(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Jt(c));const p=u(i,["scribbleImage"]);return t!==void 0&&p!=null&&f(t,["instances[0]","scribble"],Z_(p)),a}function nC(i,t){const o={},a=u(i,["retrievalConfig"]);a!=null&&f(o,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&f(o,["functionCallingConfig"],o_(r)),o}function iC(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&f(o,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&f(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&f(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(S=>S)),f(o,["functionDeclarations"],E)}const g=u(i,["googleMaps"]);g!=null&&f(o,["googleMaps"],I_(g));const y=u(i,["googleSearch"]);y!=null&&f(o,["googleSearch"],D_(y));const m=u(i,["googleSearchRetrieval"]);m!=null&&f(o,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&f(o,["urlContext"],v),o}function lg(i,t){const o={},a=u(i,["retrieval"]);a!=null&&f(o,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&f(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&f(o,["codeExecution"],c);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(o,["enterpriseWebSearch"],p);const g=u(i,["functionDeclarations"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(A=>l_(A))),f(o,["functionDeclarations"],S)}const y=u(i,["googleMaps"]);y!=null&&f(o,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&f(o,["googleSearch"],m);const v=u(i,["googleSearchRetrieval"]);v!=null&&f(o,["googleSearchRetrieval"],v);const E=u(i,["urlContext"]);return E!=null&&f(o,["urlContext"],E),o}function oC(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function lC(i,t){const o={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function aC(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function sC(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function rC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","name"],we(i,r));const c=u(t,["config"]);return c!=null&&aC(c,a),a}function uC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["config"]);return c!=null&&sC(c,a),a}function cC(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&f(t,["parameters","personGeneration"],p);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const m=u(i,["outputCompressionQuality"]);t!==void 0&&m!=null&&f(t,["parameters","outputOptions","compressionQuality"],m);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],v);const E=u(i,["imagePreservationFactor"]);t!==void 0&&E!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],E);const S=u(i,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const A=u(i,["numberOfImages"]);t!==void 0&&A!=null&&f(t,["parameters","sampleCount"],A);const w=u(i,["mode"]);return t!==void 0&&w!=null&&f(t,["parameters","mode"],w),a}function fC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],we(i,r));const c=u(t,["image"]);c!=null&&f(a,["instances[0]","image"],Jt(c));const p=u(t,["upscaleFactor"]);p!=null&&f(a,["parameters","upscaleConfig","upscaleFactor"],p);const g=u(t,["config"]);return g!=null&&cC(g,a),a}function dC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Xa(p))),f(o,["generatedImages"],c)}return o}function pC(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&f(o,["videoBytes"],Zn(r));const c=u(i,["encoding"]);return c!=null&&f(o,["mimeType"],c),o}function hC(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["videoBytes"],Zn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function mC(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["_self"],Jt(a));const r=u(i,["maskMode"]);return r!=null&&f(o,["maskMode"],r),o}function gC(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],$a(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function yC(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],Jt(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function ag(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["encodedVideo"],Zn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["encoding"],c),o}function sg(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Zn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),o}function TC(i){const t={},o=u(i,["config"]);return o!=null&&vC(o,t),t}function SC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function EC(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&SC(a,t),t}function _C(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function CC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),o}function AC(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],bC(p)),t}function xC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&CC(r,t),t}function bC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function RC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function wC(i){const t={},o=u(i,["config"]);return o!=null&&RC(o,t),t}function NC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["fileSearchStores"],c)}return t}function rg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&f(t,["chunkingConfig"],p),o}function MC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&rg(a,t),t}function IC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DC="Content-Type",UC="X-Server-Timeout",LC="User-Agent",wu="x-goog-api-client",GC="1.41.0",HC=`google-genai-sdk/${GC}`,qC="v1beta1",VC="v1beta",kC=5,PC=[408,429,500,502,503,504];class BC{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:qC}else{if(!this.clientOptions.apiKey)throw new hl({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:VC,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===_u.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const c=new AbortController,p=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return o&&o.extraBody!==null&&zC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Cm(r),new Cu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Cm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ft(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield ce(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=c.decode(v,{stream:!0});try{const w=JSON.parse(E);if("error"in w){const H=JSON.parse(JSON.stringify(w.error)),M=H.status,Y=H.code,W=`got status: ${M}. ${JSON.stringify(w)}`;if(Y>=400&&Y<600)throw new hl({message:W,status:Y})}}catch(w){if(w.name==="ApiError")throw w}p+=E;let S=-1,A=0;for(;;){S=-1,A=0;for(const M of y){const Y=p.indexOf(M);Y!==-1&&(S===-1||Y<S)&&(S=Y,A=M.length)}if(S===-1)break;const w=p.substring(0,S);p=p.substring(S+A);const H=w.trim();if(H.startsWith(g)){const M=H.substring(g.length).trim();try{const Y=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ce(new Cu(Y))}catch(Y){throw new Error(`exception parsing stream chunk ${M}. ${Y}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){var a;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,o);const r=this.clientOptions.httpOptions.retryOptions;return Iv(async()=>{const p=await fetch(t,o);if(p.ok)return p;throw PC.includes(p.status)?new Error(`Retryable HTTP Error: ${p.statusText}`):new Pm(`Non-retryable exception ${p.statusText} sending request`)},{retries:((a=r.attempts)!==null&&a!==void 0?a:kC)-1})}getDefaultHeaders(){const t={},o=HC+" "+this.clientOptions.userAgentExtra;return t[LC]=o,t[wu]=o,t[DC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(UC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=j("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,o==null?void 0:o.httpOptions);return c.upload(t,E,this)}async uploadFileToFileSearchStore(t,o,a){var r;const c=this.clientOptions.uploader,p=await c.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),E={};a!=null&&rg(a,E);const S=await this.fetchUploadUrl(m,g,y,v,E,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(o,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,c,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Cm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new hl({message:r,status:o}):new Error(r)}}function zC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,p){const g=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OC="mcp_used/unknown";let FC=!1;function ug(i){for(const t of i)if(YC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return FC}function cg(i){var t;const o=(t=i[wu])!==null&&t!==void 0?t:"";i[wu]=(o+` ${OC}`).trimStart()}function YC(i){return i!==null&&typeof i=="object"&&i instanceof Ou}function JC(i){return Ft(this,arguments,function*(o,a=100){let r,c=0;for(;c<a;){const p=yield ce(o.listTools({cursor:r}));for(const g of p.tools)yield yield ce(g),c++;if(!p.nextCursor)break;r=p.nextCursor}})}class Ou{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Ou(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Yt(JC(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const E=r;p.push(E);const S=E.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(E){o={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),TT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,c);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function KC(i,t,o){const a=new fT;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class XC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=ZC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(X=>{m=X}),E=t.callbacks,S=function(){m({})},A=this.apiClient,w={onopen:S,onmessage:X=>{KC(A,E.onmessage,X)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(X){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(X){}},H=this.webSocketFactory.create(y,QC(p),w);H.connect(),await v;const W={setup:{model:we(this.apiClient,t.model)}};return H.send(JSON.stringify(W)),new $C(H,this.apiClient)}}class $C{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=vE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=yE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(so.PLAY)}pause(){this.sendPlaybackControl(so.PAUSE)}stop(){this.sendPlaybackControl(so.STOP)}resetContext(){this.sendPlaybackControl(so.RESET_CONTEXT)}close(){this.conn.close()}}function QC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function ZC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jC(i,t,o){const a=new cT;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const p=EE(c);Object.assign(a,p)}else Object.assign(a,c);t(a)}class eA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new XC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,c,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&ug(t.config.tools)&&cg(E);const S=oA(E);if(this.apiClient.isVertexAI()){const $=this.apiClient.getProject(),le=this.apiClient.getLocation(),ne=this.apiClient.getApiKey(),me=!!$&&!!le||!!ne;this.apiClient.getCustomBaseUrl()&&!me?v=y:(v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v))}else{const $=this.apiClient.getApiKey();let le="BidiGenerateContent",ne="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",ne="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${le}?${ne}=${$}`}let A=()=>{};const w=new Promise($=>{A=$}),H=t.callbacks,M=function(){var $;($=H==null?void 0:H.onopen)===null||$===void 0||$.call(H),A({})},Y=this.apiClient,W={onopen:M,onmessage:$=>{jC(Y,H.onmessage,$)},onerror:(o=H==null?void 0:H.onerror)!==null&&o!==void 0?o:function($){},onclose:(a=H==null?void 0:H.onclose)!==null&&a!==void 0?a:function($){}},X=this.webSocketFactory.create(v,iA(S),W);X.connect(),await w;let V=we(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const $=this.apiClient.getProject(),le=this.apiClient.getLocation();$&&le&&(V=`projects/${$}/locations/${le}/`+V)}let K={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ba.AUDIO]}:t.config.responseModalities=[Ba.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],J=[];for(const $ of G)if(this.isCallableTool($)){const le=$;J.push(await le.tool())}else J.push($);J.length>0&&(t.config.tools=J);const P={model:V,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?K=gE(this.apiClient,P):K=mE(this.apiClient,P),delete K.config,X.send(JSON.stringify(K)),new nA(X,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const tA={turnComplete:!0};class nA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Vt(o.turns),t.isVertexAI()||(a=a.map(r=>Ka(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(WC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},tA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:SE(t)}:o={realtimeInput:TE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function iA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function oA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Am=10;function xm(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(co(p)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function co(i){return"callTool"in i&&typeof i.callTool=="function"}function lA(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>co(r)))!==null&&a!==void 0?a:!1}function bm(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(co(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function Rm(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aA extends _n{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,c,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!lA(o)||xm(o.config))return await this.generateContentInternal(y);const m=bm(o);if(m.length>0){const H=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${H}.`)}let v,E;const S=Vt(y.contents),A=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Am;let w=0;for(;w<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const H=v.candidates[0].content,M=[];for(const Y of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(co(Y)){const X=await Y.callTool(v.functionCalls);M.push(...X)}w++,E={role:"user",parts:M},y.contents=Vt(y.contents),y.contents.push(H),y.contents.push(E),Rm(y.config)&&(S.push(H),S.push(E))}return Rm(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var a,r,c,p,g;if(this.maybeMoveToResponseJsonSchem(o),xm(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=bm(o);if(y.length>0){const E=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let c;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:p.push(y);let g;return c?g={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Si(En.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,c,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(c=o.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>co(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&ug(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),cg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,a,r;const c=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(co(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(t){var o,a,r;const c=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Am;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,E){return Ft(this,arguments,function*(){for(var S,A,w,H,M,Y;g<c;){p&&(g++,p=!1);const K=yield ce(m.processParamsMaybeAddMcpUsage(E)),G=yield ce(m.generateContentStreamInternal(K)),J=[],P=[];try{for(var W=!0,X=(A=void 0,Yt(G)),V;V=yield ce(X.next()),S=V.done,!S;W=!0){H=V.value,W=!1;const $=H;if(yield yield ce($),$.candidates&&(!((M=$.candidates[0])===null||M===void 0)&&M.content)){P.push($.candidates[0].content);for(const le of(Y=$.candidates[0].content.parts)!==null&&Y!==void 0?Y:[])if(g<c&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(le.functionCall.name)){const ne=yield ce(v.get(le.functionCall.name).callTool([le.functionCall]));J.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch($){A={error:$}}finally{try{!W&&!S&&(w=X.return)&&(yield ce(w.call(X)))}finally{if(A)throw A.error}}if(J.length>0){p=!0;const $=new cl;$.candidates=[{content:{role:"user",parts:J}}],yield yield ce($);const le=[];le.push(...P),le.push({role:"user",parts:J});const ne=Vt(E.contents).concat(le);E.contents=ne}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Sm(this.apiClient,t);return g=j("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=_m(v),S=new cl;return Object.assign(S,E),S})}else{const m=Tm(this.apiClient,t);return g=j("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=Em(v),S=new cl;return Object.assign(S,E),S})}}async generateContentStreamInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Sm(this.apiClient,t);return g=j("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(E){return Ft(this,arguments,function*(){var S,A,w,H;try{for(var M=!0,Y=Yt(E),W;W=yield ce(Y.next()),S=W.done,!S;M=!0){H=W.value,M=!1;const X=H,V=_m(yield ce(X.json()),t);V.sdkHttpResponse={headers:X.headers};const K=new cl;Object.assign(K,V),yield yield ce(K)}}catch(X){A={error:X}}finally{try{!M&&!S&&(w=Y.return)&&(yield ce(w.call(Y)))}finally{if(A)throw A.error}}})})}else{const m=Tm(this.apiClient,t);return g=j("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(E){return Ft(this,arguments,function*(){var S,A,w,H;try{for(var M=!0,Y=Yt(E),W;W=yield ce(Y.next()),S=W.done,!S;M=!0){H=W.value,M=!1;const X=H,V=Em(yield ce(X.json()),t);V.sdkHttpResponse={headers:X.headers};const K=new cl;Object.assign(K,V),yield yield ce(K)}}catch(X){A={error:X}}finally{try{!M&&!S&&(w=Y.return)&&(yield ce(w.call(Y)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=WE(this.apiClient,t);return g=j("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=e_(v),S=new nm;return Object.assign(S,E),S})}else{const m=ZE(this.apiClient,t);return g=j("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=jE(v),S=new nm;return Object.assign(S,E),S})}}async generateImagesInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=f_(this.apiClient,t);return g=j("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=p_(v),S=new im;return Object.assign(S,E),S})}else{const m=c_(this.apiClient,t);return g=j("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=d_(v),S=new im;return Object.assign(S,E),S})}}async editImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=KE(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=XE(y),v=new Wv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=fC(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=dC(y),v=new jv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=J_(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=K_(y),v=new eT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=j_(this.apiClient,t);return c=j("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=eC(y),v=new tT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=M_(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const m=N_(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=k_(this.apiClient,t);return g=j("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=B_(v),S=new om;return Object.assign(S,E),S})}else{const m=V_(this.apiClient,t);return g=j("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=P_(v),S=new om;return Object.assign(S,E),S})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=uC(this.apiClient,t);return g=j("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const m=rC(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=OE(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=YE(v),S=new lm;return Object.assign(S,E),S})}else{const m=zE(this.apiClient,t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=FE(v),S=new lm;return Object.assign(S,E),S})}}async countTokens(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=kE(this.apiClient,t);return g=j("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=BE(v),S=new am;return Object.assign(S,E),S})}else{const m=VE(this.apiClient,t);return g=j("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=PE(v),S=new am;return Object.assign(S,E),S})}}async computeTokens(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=IE(this.apiClient,t);return c=j("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=DE(y),v=new nT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=T_(this.apiClient,t);return g=j("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const E=y_(v),S=new za;return Object.assign(S,E),S})}else{const m=v_(this.apiClient,t);return g=j("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>{const E=g_(v),S=new za;return Object.assign(S,E),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sA extends _n{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Jv(t);return g=j("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const m=Yv(t);return g=j("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=Vv(t);return c=j("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rA(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function uA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>vA(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function cA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&f(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const p=u(t,["uses"]);o!==void 0&&p!=null&&f(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],yA(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function fA(i,t){const o={},a=u(t,["config"]);return a!=null&&f(o,["config"],cA(i,a,o)),o}function dA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function pA(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function mA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function gA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","speechConfig"],zu(E));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],uA(at(w)));const H=u(i,["tools"]);if(t!==void 0&&H!=null){let G=po(H);Array.isArray(G)&&(G=G.map(J=>SA(fo(J)))),f(t,["setup","tools"],G)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&f(t,["setup","sessionResumption"],TA(M));const Y=u(i,["inputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","inputAudioTranscription"],Y);const W=u(i,["outputAudioTranscription"]);t!==void 0&&W!=null&&f(t,["setup","outputAudioTranscription"],W);const X=u(i,["realtimeInputConfig"]);t!==void 0&&X!=null&&f(t,["setup","realtimeInputConfig"],X);const V=u(i,["contextWindowCompression"]);t!==void 0&&V!=null&&f(t,["setup","contextWindowCompression"],V);const K=u(i,["proactivity"]);if(t!==void 0&&K!=null&&f(t,["setup","proactivity"],K),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function yA(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],we(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],gA(r,o)),o}function vA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],dA(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],pA(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],rA(y));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function TA(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function SA(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],hA(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],mA(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function _A(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=EA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class CA extends _n{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=fA(this.apiClient,t);c=j("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=_A(g,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function xA(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&AA(a,t),t}function bA(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function RA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function wA(i){const t={},o=u(i,["parent"]);o!=null&&f(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&RA(a,t),t}function NA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends _n{constructor(t){super(),this.apiClient=t,this.list=async o=>new Si(En.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bA(t);return c=j("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xA(t);r=j("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wA(t);return c=j("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=NA(y),v=new iT;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IA extends _n{constructor(t,o=new MA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Si(En.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TC(t);return c=j("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_C(t);return c=j("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=EC(t);r=j("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wC(t);return c=j("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=NC(y),v=new oT;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MC(t);return c=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=IC(y),v=new lT;return Object.assign(v,m),v})}}async importFile(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xC(t);return c=j("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=AC(y),v=new qu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let fg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return fg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const DA=()=>fg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Mu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kt extends Error{}class ut extends kt{constructor(t,o,a,r){super(`${ut.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Qa({message:a,cause:Mu(o)});const c=o;return t===400?new pg(t,c,a,r):t===401?new hg(t,c,a,r):t===403?new mg(t,c,a,r):t===404?new gg(t,c,a,r):t===409?new yg(t,c,a,r):t===422?new vg(t,c,a,r):t===429?new Tg(t,c,a,r):t>=500?new Sg(t,c,a,r):new ut(t,c,a,r)}}class Iu extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Qa extends ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class dg extends Qa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class pg extends ut{}class hg extends ut{}class mg extends ut{}class gg extends ut{}class yg extends ut{}class vg extends ut{}class Tg extends ut{}class Sg extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA=/^[a-z][a-z0-9+.-]*:/i,LA=i=>UA.test(i);let Du=i=>(Du=Array.isArray,Du(i));const GA=Du;let HA=GA;const wm=HA;function qA(i){if(!i)return!0;for(const t in i)return!1;return!0}function VA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const kA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new kt(`${i} must be an integer`);if(t<0)throw new kt(`${i} must be a positive integer`);return t},PA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ao="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const OA=()=>{var i,t,o,a,r;const c=zA();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ao,"X-Stainless-OS":Mm(Deno.build.os),"X-Stainless-Arch":Nm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ao,"X-Stainless-OS":Mm((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Nm((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=FA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ao,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${c}.${p}`}}}return null}const Nm=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Mm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let La;const YA=()=>La??(La=OA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Eg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function KA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Eg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function _g(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function XA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $A=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yu(i,t,o){return Cg(),new File(i,t??"unknown_file",o)}function QA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const ZA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ag=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",WA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ag(i),jA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function ex(i,t,o){if(Cg(),i=await i,WA(i))return i instanceof File?i:yu([await i.arrayBuffer()],i.name);if(jA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),yu(await Uu(r),t,o)}const a=await Uu(i);if(t||(t=QA(i)),!(o!=null&&o.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return yu(a,t,o)}async function Uu(i){var t,o,a,r,c;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Ag(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(ZA(i))try{for(var g=!0,y=Yt(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;p.push(...await Uu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${tx(i)}`)}return p}function tx(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xg{constructor(t){this._client=t}}xg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Im=Object.freeze(Object.create(null)),nx=(i=bg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const c=[],p=o.reduce((v,E,S)=>{var A,w,H;/[?#]/.test(E)&&(r=!0);const M=a[S];let Y=(r?encodeURIComponent:i)(""+M);return S!==a.length&&(M==null||typeof M=="object"&&M.toString===((H=Object.getPrototypeOf((w=Object.getPrototypeOf((A=M.hasOwnProperty)!==null&&A!==void 0?A:Im))!==null&&w!==void 0?w:Im))===null||H===void 0?void 0:H.toString))&&(Y=M+"",c.push({start:v.length+E.length,length:Y.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),v+E+(S===a.length?"":Y)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((v,E)=>v.start-E.start),c.length>0){let v=0;const E=c.reduce((S,A)=>{const w=" ".repeat(A.start-v),H="^".repeat(A.length);return v=A.start+A.length,S+w+H},"");throw new kt(`Path parameters result in path with invalid segments:
${c.map(S=>S.error).join(`
`)}
${p}
${E}`)}return p}),Ga=nx(bg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rg extends xg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,c=Fa(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ga`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ga`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ga`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const c=o??{},{api_version:p=this._client.apiVersion}=c,g=Fa(c,["api_version"]);return this._client.get(Ga`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Rg._key=Object.freeze(["interactions"]);class wg extends Rg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ix(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ha;function Fu(i){let t;return(Ha??(t=new globalThis.TextEncoder,Ha=t.encode.bind(t)))(i)}let qa;function Dm(i){let t;return(qa??(t=new globalThis.TextDecoder,qa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fu(t):t;this.buffer=ix([this.buffer,o]);const a=[];let r;for(;(r=ox(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Dm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Dm(this.buffer.subarray(0,c));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Za.NEWLINE_CHARS=new Set([`
`,"\r"]);Za.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ox(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function lx(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ya={off:0,error:200,warn:300,info:400,debug:500},Um=(i,t,o)=>{if(i){if(VA(Ya,i))return i;rt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ya))}`)}};function pl(){}function Va(i,t,o){return!t||Ya[i]>Ya[o]?pl:t[i].bind(t)}const ax={error:pl,warn:pl,info:pl,debug:pl};let Lm=new WeakMap;function rt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return ax;const r=Lm.get(o);if(r&&r[0]===a)return r[1];const c={error:Va("error",o,a),warn:Va("warn",o,a),info:Va("info",o,a),debug:Va("debug",o,a)};return Lm.set(o,[a,c]),c}const Ti=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ro{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const c=a?rt(a):console;function p(){return Ft(this,arguments,function*(){var y,m,v,E;if(r)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var A=!0,w=Yt(sx(t,o)),H;H=yield ce(w.next()),y=H.done,!y;A=!0){E=H.value,A=!1;const M=E;if(!S)if(M.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ce(JSON.parse(M.data))}catch(Y){throw c.error("Could not parse message into JSON:",M.data),c.error("From chunk:",M.raw),Y}}}catch(M){m={error:M}}finally{try{!A&&!y&&(v=w.return)&&(yield ce(v.call(w)))}finally{if(m)throw m.error}}S=!0}catch(M){if(Nu(M))return yield ce(void 0);throw M}finally{S||o.abort()}})}return new ro(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function c(){return Ft(this,arguments,function*(){var y,m,v,E;const S=new Za,A=_g(t);try{for(var w=!0,H=Yt(A),M;M=yield ce(H.next()),y=M.done,!y;w=!0){E=M.value,w=!1;const Y=E;for(const W of S.decode(Y))yield yield ce(W)}}catch(Y){m={error:Y}}finally{try{!w&&!y&&(v=H.return)&&(yield ce(v.call(H)))}finally{if(m)throw m.error}}for(const Y of S.flush())yield yield ce(Y)})}function p(){return Ft(this,arguments,function*(){var y,m,v,E;if(r)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var A=!0,w=Yt(c()),H;H=yield ce(w.next()),y=H.done,!y;A=!0){E=H.value,A=!1;const M=E;S||M&&(yield yield ce(JSON.parse(M)))}}catch(M){m={error:M}}finally{try{!A&&!y&&(v=w.return)&&(yield ce(v.call(w)))}finally{if(m)throw m.error}}S=!0}catch(M){if(Nu(M))return yield ce(void 0);throw M}finally{S||o.abort()}})}return new ro(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const p=a.next();t.push(p),o.push(p)}return c.shift()}});return[new ro(()=>r(t),this.controller,this.client),new ro(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Eg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await o.next();if(c)return a.close();const p=Fu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function sx(i,t){return Ft(this,arguments,function*(){var a,r,c,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kt("Attempted to iterate over a response with no body");const g=new ux,y=new Za,m=_g(i.body);try{for(var v=!0,E=Yt(rx(m)),S;S=yield ce(E.next()),a=S.done,!a;v=!0){p=S.value,v=!1;const A=p;for(const w of y.decode(A)){const H=g.decode(w);H&&(yield yield ce(H))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(c=E.return)&&(yield ce(c.call(E)))}finally{if(r)throw r.error}}for(const A of y.flush()){const w=g.decode(A);w&&(yield yield ce(w))}})}function rx(i){return Ft(this,arguments,function*(){var o,a,r,c;let p=new Uint8Array;try{for(var g=!0,y=Yt(i),m;m=yield ce(y.next()),o=m.done,!o;g=!0){c=m.value,g=!1;const v=c;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Fu(v):v;let S=new Uint8Array(p.length+E.length);S.set(p),S.set(E,p.length),p=S;let A;for(;(A=lx(p))!==-1;)yield yield ce(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield ce(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ce(p))})}class ux{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=cx(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function cx(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fx(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,p=await(async()=>{var g;if(t.options.stream)return rt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):ro.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return rt(i).debug(`[${a}] response parsed`,Ti({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-c})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yu extends Promise{constructor(t,o,a=fx){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Yu(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ng=Symbol("brand.privateNullableHeaders");function*dx(i){if(!i)return;if(Ng in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():wm(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=wm(a[1])?a[1]:[a[1]];let p=!1;for(const g of c)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const fl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[c,p]of dx(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),p===null?(t.delete(c),o.add(g)):(t.append(c,p),o.delete(g))}}return{[Ng]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vu=i=>{var t,o,a,r,c,p;if(typeof globalThis.process<"u")return(a=(o=(t=Dv)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mg;class Wa{constructor(t){var o,a,r,c,p,g,y,{baseURL:m=vu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=vu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=t,S=Fa(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:E},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:Wa.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(p=(c=Um(A.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Um(vu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:w,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:JA(),this.encoder=$A,this._options=A,this.apiKey=v,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=fl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return fl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return fl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new kt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ao}`}defaultIdempotencyKey(){return`stainless-node-retry-${DA()}`}makeStatusError(t,o,a,r){return ut.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=LA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return qA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Yu(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,c,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:m,url:v,timeout:E}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:g});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,w=Date.now();if(rt(this).debug(`[${S}] sending request`,Ti({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Iu;const H=new AbortController,M=await this.fetchWithTimeout(v,m,E,H).catch(Mu),Y=Date.now();if(M instanceof globalThis.Error){const X=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Iu;const V=Nu(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(o)return rt(this).info(`[${S}] connection ${V?"timed out":"failed"} - ${X}`),rt(this).debug(`[${S}] connection ${V?"timed out":"failed"} (${X})`,Ti({retryOfRequestLogID:a,url:v,durationMs:Y-w,message:M.message})),this.retryRequest(g,o,a??S);throw rt(this).info(`[${S}] connection ${V?"timed out":"failed"} - error; no more retries left`),rt(this).debug(`[${S}] connection ${V?"timed out":"failed"} (error; no more retries left)`,Ti({retryOfRequestLogID:a,url:v,durationMs:Y-w,message:M.message})),V?new dg:new Qa({cause:M})}const W=`[${S}${A}] ${m.method} ${v} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${Y-w}ms`;if(!M.ok){const X=await this.shouldRetry(M);if(o&&X){const $=`retrying, ${o} attempts remaining`;return await XA(M.body),rt(this).info(`${W} - ${$}`),rt(this).debug(`[${S}] response error (${$})`,Ti({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:Y-w})),this.retryRequest(g,o,a??S,M.headers)}const V=X?"error; no more retries left":"error; not retryable";rt(this).info(`${W} - ${V}`);const K=await M.text().catch($=>Mu($).message),G=PA(K),J=G?void 0:K;throw rt(this).debug(`[${S}] response error (${V})`,Ti({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,message:J,durationMs:Date.now()-w})),this.makeStatusError(M.status,G,J,M.headers)}return rt(this).info(W),rt(this).debug(`[${S}] response start`,Ti({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:Y-w})),{response:M,options:g,controller:H,requestLogID:S,retryOfRequestLogID:a,startTime:w}}async fetchWithTimeout(t,o,a,r){const c=o||{},{signal:p,method:g}=c,y=Fa(c,["signal","method"]),m=this._makeAbort(r);p&&p.addEventListener("abort",m,{once:!0});const v=setTimeout(m,a),E=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},E?{duplex:"half"}:{}),{method:"GET"}),y);g&&(S.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var c;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,m)}return await BA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,p=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,c;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=p,E=this.buildURL(y,m,v);"timeout"in p&&kA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:S,body:A}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=p.fetchOptions)!==null&&c!==void 0?c:{}),url:E,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=fl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),YA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=fl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:KA(t)}:this.encoder({body:t,headers:a})}}Wa.DEFAULT_TIMEOUT=6e4;class je extends Wa{constructor(){super(...arguments),this.interactions=new wg(this)}}Mg=je;je.GeminiNextGenAPIClient=Mg;je.GeminiNextGenAPIClientError=kt;je.APIError=ut;je.APIConnectionError=Qa;je.APIConnectionTimeoutError=dg;je.APIUserAbortError=Iu;je.NotFoundError=gg;je.ConflictError=yg;je.RateLimitError=Tg;je.BadRequestError=pg;je.AuthenticationError=hg;je.InternalServerError=Sg;je.PermissionDeniedError=mg;je.UnprocessableEntityError=vg;je.toFile=ex;je.Interactions=wg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function px(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function hx(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function mx(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function gx(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function yx(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(u(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return a}function vx(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const G=u(i,["validationDataset"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec"],Tu(G))}else if(r==="PREFERENCE_TUNING"){const G=u(i,["validationDataset"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec"],Tu(G))}else if(r==="DISTILLATION"){const G=u(i,["validationDataset"]);t!==void 0&&G!=null&&f(t,["distillationSpec"],Tu(G))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const p=u(i,["description"]);t!==void 0&&p!=null&&f(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const G=u(i,["epochCount"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(g==="PREFERENCE_TUNING"){const G=u(i,["epochCount"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(g==="DISTILLATION"){const G=u(i,["epochCount"]);t!==void 0&&G!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],G)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const G=u(i,["learningRateMultiplier"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(y==="PREFERENCE_TUNING"){const G=u(i,["learningRateMultiplier"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(y==="DISTILLATION"){const G=u(i,["learningRateMultiplier"]);t!==void 0&&G!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const G=u(i,["exportLastCheckpointOnly"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(m==="PREFERENCE_TUNING"){const G=u(i,["exportLastCheckpointOnly"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(m==="DISTILLATION"){const G=u(i,["exportLastCheckpointOnly"]);t!==void 0&&G!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],G)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const G=u(i,["adapterSize"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(v==="PREFERENCE_TUNING"){const G=u(i,["adapterSize"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(v==="DISTILLATION"){const G=u(i,["adapterSize"]);t!==void 0&&G!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],G)}let E=u(o,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const G=u(i,["tuningMode"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","tuningMode"],G)}const S=u(i,["customBaseModel"]);t!==void 0&&S!=null&&f(t,["customBaseModel"],S);let A=u(o,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const G=u(i,["batchSize"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let w=u(o,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const G=u(i,["learningRate"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const H=u(i,["labels"]);t!==void 0&&H!=null&&f(t,["labels"],H);const M=u(i,["beta"]);t!==void 0&&M!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],M);const Y=u(i,["baseTeacherModel"]);t!==void 0&&Y!=null&&f(t,["distillationSpec","baseTeacherModel"],Y);const W=u(i,["tunedTeacherModelSource"]);t!==void 0&&W!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],W);const X=u(i,["sftLossWeightMultiplier"]);t!==void 0&&X!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],X);const V=u(i,["outputUri"]);t!==void 0&&V!=null&&f(t,["outputUri"],V);const K=u(i,["encryptionSpec"]);return t!==void 0&&K!=null&&f(t,["encryptionSpec"],K),a}function Tx(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&Mx(c);const p=u(i,["config"]);return p!=null&&yx(p,o),o}function Sx(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&Ix(c,o,t);const p=u(i,["config"]);return p!=null&&vx(p,o,t),o}function Ex(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function _x(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function Cx(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function Ax(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function xx(i,t){const o={},a=u(i,["config"]);return a!=null&&Cx(a,o),o}function bx(i,t){const o={},a=u(i,["config"]);return a!=null&&Ax(a,o),o}function Rx(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Ig(g))),f(o,["tuningJobs"],p)}return o}function wx(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Lu(g))),f(o,["tuningJobs"],p)}return o}function Nx(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["model"],a);const r=u(i,["name"]);return r!=null&&f(o,["endpoint"],r),o}function Mx(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["examples","examples"],r)}return o}function Ix(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(c==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ig(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Km(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(i,["description"]);v!=null&&f(o,["description"],v);const E=u(i,["baseModel"]);E!=null&&f(o,["baseModel"],E);const S=u(i,["_self"]);return S!=null&&f(o,["tunedModel"],Nx(S)),o}function Lu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Km(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(i,["error"]);v!=null&&f(o,["error"],v);const E=u(i,["description"]);E!=null&&f(o,["description"],E);const S=u(i,["baseModel"]);S!=null&&f(o,["baseModel"],S);const A=u(i,["tunedModel"]);A!=null&&f(o,["tunedModel"],A);const w=u(i,["preTunedModel"]);w!=null&&f(o,["preTunedModel"],w);const H=u(i,["supervisedTuningSpec"]);H!=null&&f(o,["supervisedTuningSpec"],H);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&f(o,["preferenceOptimizationSpec"],M);const Y=u(i,["distillationSpec"]);Y!=null&&f(o,["distillationSpec"],Y);const W=u(i,["tuningDataStats"]);W!=null&&f(o,["tuningDataStats"],W);const X=u(i,["encryptionSpec"]);X!=null&&f(o,["encryptionSpec"],X);const V=u(i,["partnerModelTuningSpec"]);V!=null&&f(o,["partnerModelTuningSpec"],V);const K=u(i,["customBaseModel"]);K!=null&&f(o,["customBaseModel"],K);const G=u(i,["experiment"]);G!=null&&f(o,["experiment"],G);const J=u(i,["labels"]);J!=null&&f(o,["labels"],J);const P=u(i,["outputUri"]);P!=null&&f(o,["outputUri"],P);const $=u(i,["pipelineJob"]);$!=null&&f(o,["pipelineJob"],$);const le=u(i,["serviceAccount"]);le!=null&&f(o,["serviceAccount"],le);const ne=u(i,["tunedModelDisplayName"]);ne!=null&&f(o,["tunedModelDisplayName"],ne);const me=u(i,["veoTuningSpec"]);return me!=null&&f(o,["veoTuningSpec"],me),o}function Dx(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(i,["done"]);p!=null&&f(o,["done"],p);const g=u(i,["error"]);return g!=null&&f(o,["error"],g),o}function Tu(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ux extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(En.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:Eu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=_x(t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>Lu(v))}else{const m=Ex(t);return g=j("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>Ig(v))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=bx(t);return g=j("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=wx(v),S=new sm;return Object.assign(S,E),S})}else{const m=xx(t);return g=j("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=Rx(v),S=new sm;return Object.assign(S,E),S})}}async cancel(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=hx(t);return g=j("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=gx(v),S=new rm;return Object.assign(S,E),S})}else{const m=px(t);return g=j("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const E=mx(v),S=new rm;return Object.assign(S,E),S})}}async tuneInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=Sx(t,t);return c=j("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Lu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Tx(t);return c=j("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Dx(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lx{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Gx=1024*1024*8,Hx=3,qx=1e3,Vx=2,Ja="x-goog-upload-status";async function kx(i,t,o){var a;const r=await Dg(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function Px(i,t,o){var a;const r=await Dg(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Bm(c),g=new Vu;return Object.assign(g,p),g}async function Dg(i,t,o){var a,r;let c=0,p=0,g=new Cu(new Response),y="upload";for(c=i.size;p<c;){const m=Math.min(Gx,c-p),v=i.slice(p,p+m);p+m>=c&&(y+=", finalize");let E=0,S=qx;for(;E<Hx&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ja]));)E++,await zx(S),S=S*Vx;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ja])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function Bx(i){return{size:i.size,type:i.type}}function zx(i){return new Promise(t=>setTimeout(t,i))}class Ox{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kx(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Px(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Bx(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fx{create(t,o,a){return new Yx(t,o,a)}}class Yx{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gm="x-goog-api-key";class Jx{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Gm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Gm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kx="gl-node/";class Xx{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const o=this.httpOptions;o!=null&&o.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const a=new je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:o==null?void 0:o.timeout,maxRetries:(t=o==null?void 0:o.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=a.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=Hv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new Jx(this.apiKey);this.apiClient=new BC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Kx+"web",uploader:new Ox,downloader:new Lx}),this.models=new aA(this.apiClient),this.live=new eA(this.apiClient,r,new Fx),this.batches=new dS(this.apiClient),this.chats=new KS(this.models,this.apiClient),this.caches=new FS(this.apiClient),this.files=new lE(this.apiClient),this.operations=new sA(this.apiClient),this.authTokens=new CA(this.apiClient),this.tunings=new Ux(this.apiClient),this.fileSearchStores=new IA(this.apiClient)}}var Hm={};const dl={"line-art":{name:"Line Art",prompt:"A detailed black and white line art illustration, featuring clean, bold outlines and intricate details, with no solid shading  instead using crosshatched lines for any shadows. The style is monochromatic, high-contrast, with the simple, classic look of pen-and-ink line art on white paper."},halftone:{name:"Halftone",prompt:"A halftone-style black and white image, composed of thousands of tiny ink dots  larger and denser in the shadows, and fine and sparse in the highlights. The overall look is high-contrast and monochrome, with a classic printed texture that captures the retro halftone feel."},woodcut:{name:"Woodcut",prompt:"An intricate woodcut-style illustration, depicted with bold, carved outlines and dense hatched textures where shadows fall, while highlights are the paper showing through. The image has the slightly rough, organic line quality of a traditional woodblock print, with high-contrast blacks and whites."},"pen-ink":{name:"Pen & Ink",prompt:"An intricate pen-and-ink drawing in black and white. Every texture is rendered with fine ink lines  using cross-hatching for shaded sides and stippling to imply depth. The style emphasizes precise, thin outlines and meticulous detail, with no solid washes of gray."},engraving:{name:"Engraving",prompt:"An engraving-style black and white illustration. The image is composed of fine, meticulous line work, with features rendered with hundreds of tiny engraved lines and cross-hatches to show dark areas. The overall style mimics an 18th-century intaglio print  extremely detailed and line-heavy."},stippling:{name:"Stippling",prompt:"A stippling-style black and white illustration. The entire image is composed of tiny black ink dots on white  the highest concentration of dots forms the darkest parts, while the lightest areas have only a few speckled dots. There are no drawn lines; instead, shape emerges from the patterns of dots."},"vector-logo":{name:"Vector Logo",prompt:"A high-contrast, minimalist vector logo in pure black and white. The design must be composed entirely of solid black shapes with sharp, clean edges against a white background. There should be absolutely no gradients, shading, textures, or fine details. The style is bold, graphic, and modern."},"noir-comic":{name:"Noir Comic",prompt:"A comic-book noir style illustration, in pure black and white. The scene uses heavy shadows and high contrast. The inking is strong and graphic  thick outlines on figures, and deep black ink used for shadows. No gray tones; all shading is achieved through stark black shapes."}},$x=i=>i>=90?"The final image must be a highly faithful and accurate reproduction of the subject and composition.":i>=70?"Adhere closely to the subject and composition, allowing for minor stylistic interpretation.":i>=40?"Maintain the general subject and composition, but feel free to take some artistic liberties with the details and mood.":i>=20?"Use the provided input as inspiration for a more creative and varied interpretation.":"Take significant creative freedom. Use the input merely as a starting point for a loose, artistic, and imaginative reinterpretation.",Qx=i=>new Promise((t,o)=>{const a=new FileReader;a.onload=()=>t(a.result.split(",")[1]),a.onerror=o,a.readAsDataURL(i)}),Zx=()=>{const[i,t]=Me.useState("sketch"),[o,a]=Me.useState(null),[r,c]=Me.useState(!1),[p,g]=Me.useState(null),[y,m]=Me.useState(null),[v,E]=Me.useState(null),[S,A]=Me.useState(""),[w,H]=Me.useState("line-art"),[M,Y]=Me.useState(50),[W,X]=Me.useState(!0),[V,K]=Me.useState(null),[G,J]=Me.useState(null),[P,$]=Me.useState({prescale:4,brightness:0,contrast:0,binMode:"off",threshold:128,adaptiveBlock:11,adaptiveC:2,canny1:50,canny2:100,blur:!1,blurK:3,unsharp:!1,unsharpR:1.5,unsharpA:1,median:!1,medianK:3,morphOp:"none",morphK:3,tiled:!0,tileSize:512,overlap:256,ltres:.5,qtres:.5,pathomit:1,colorsampling:2,numberofcolors:2,mincolorratio:0,colorquantcycles:3,blurradius:0,blurdelta:20,strokewidth:0,smoothTolerance:1,union:!1}),le=Me.useRef(null),ne=Me.useRef(null);Me.useEffect(()=>{let L=!0;const te=["https://cdn.jsdelivr.net/npm/imagetracerjs@1.2.6/imagetracer_v1.2.6.js","https://docs.opencv.org/4.8.0/opencv.js","https://cdn.jsdelivr.net/npm/paper@0.12.17/dist/paper-full.min.js","https://cdn.jsdelivr.net/npm/clipper-lib@6.4.2/clipper.js"],re=b=>new Promise((z,Z)=>{if(document.querySelector(`script[src="${b}"]`))return z();const ee=document.createElement("script");ee.src=b,ee.async=!0,ee.onload=()=>z(),ee.onerror=Z,document.body.appendChild(ee)});return Promise.all(te.map(re)).then(()=>{const b=setInterval(()=>{window.cv&&window.cv.Mat&&L&&(clearInterval(b),c(!0))},100)}).catch(b=>console.error("Lib load error",b)),()=>{L=!1}},[]);const me=()=>new Xx({apiKey:Hm.API_KEY}),xe=async()=>{var L,te,re,b,z,Z,ee,se,de,pe,Ce,qe,An,Wn,Ei;if(!Hm.API_KEY){alert("Connect API Key first.");return}a("AI is thinking..."),J(null);try{const Wt=me(),Kt=dl[w],jn=$x(M);let jt;if(i==="sketch"){if(!p)throw new Error("Upload an image.");let en=`Transform this image into a black and white sketch. Style: ${Kt.prompt}.`;W&&(en+=" Isolate the main subject on a pure white background."),S&&(en+=` Additional instructions: ${S}.`),en+=` ${jn}`,jt=(Z=(z=(b=(re=(te=(L=(await Wt.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:en},{inlineData:{mimeType:p.mime,data:p.data}}]}})).candidates)==null?void 0:L[0])==null?void 0:te.content)==null?void 0:re.parts)==null?void 0:b.find(tn=>tn.inlineData))==null?void 0:z.inlineData)==null?void 0:Z.data}else if(i==="style"){if(!y||!v)throw new Error("Upload base and style images.");a("Analyzing style...");const ei=(await Wt.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:"Describe the artistic style of this image in detail (medium, texture, linework, mood)."},{inlineData:{mimeType:v.mime,data:v.data}}]}})).text();if(!ei)throw new Error("Could not analyze style.");a("Applying style...");let tn=`Transform this base image into a black and white sketch. The style must strictly follow this description: "${ei}".`;S&&(tn+=` Refinement: ${S}.`),tn+=` ${jn}`,jt=(qe=(Ce=(pe=(de=(se=(ee=(await Wt.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:tn},{inlineData:{mimeType:y.mime,data:y.data}}]}})).candidates)==null?void 0:ee[0])==null?void 0:se.content)==null?void 0:de.parts)==null?void 0:pe.find(mo=>mo.inlineData))==null?void 0:Ce.inlineData)==null?void 0:qe.data}else if(i==="prompt"){if(!S)throw new Error("Enter a prompt.");const en=`${S}. ${jn} Style: ${Kt.prompt} Black and white vector style.`;jt=(Ei=(Wn=(An=(await Wt.models.generateImages({model:"imagen-3.0-generate-002",prompt:en,config:{numberOfImages:1,aspectRatio:"1:1"}})).generatedImages)==null?void 0:An[0])==null?void 0:Wn.image)==null?void 0:Ei.imageBytes}if(jt)K(`data:image/png;base64,${jt}`),t("vectorize");else throw new Error("No image returned.")}catch(Wt){alert(Wt.message)}finally{a(null)}};Me.useEffect(()=>{if(i==="vectorize"&&V&&le.current){const L=new Image;L.onload=()=>{const te=le.current;te.width=L.width,te.height=L.height;const re=te.getContext("2d");re==null||re.drawImage(L,0,0),_e()},L.src=V}},[i,V]);const _e=()=>{if(!(!window.cv||!le.current||!ne.current))try{const L=window.cv.imread(le.current),te=new window.cv.Mat;let re=new window.cv.Size(L.cols*P.prescale,L.rows*P.prescale);if(window.cv.resize(L,te,re,0,0,window.cv.INTER_LINEAR),window.cv.cvtColor(te,te,window.cv.COLOR_RGBA2GRAY,0),P.brightness!==0||P.contrast!==0){const b=(P.contrast+100)/100;te.convertTo(te,-1,b,P.brightness)}if(P.blur){let b=P.blurK%2===0?P.blurK+1:P.blurK;window.cv.GaussianBlur(te,te,new window.cv.Size(b,b),0,0,window.cv.BORDER_DEFAULT)}if(P.median){let b=P.medianK%2===0?P.medianK+1:P.medianK;window.cv.medianBlur(te,te,b)}if(P.unsharp){let b=new window.cv.Mat;window.cv.GaussianBlur(te,b,new window.cv.Size(0,0),P.unsharpR),window.cv.addWeighted(te,1+P.unsharpA,b,-P.unsharpA,0,te),b.delete()}if(P.morphOp!=="none"){let b=P.morphK,z=window.cv.getStructuringElement(window.cv.MORPH_RECT,new window.cv.Size(b,b)),Z=P.morphOp==="open"?window.cv.MORPH_OPEN:window.cv.MORPH_CLOSE;window.cv.morphologyEx(te,te,Z,z),z.delete()}P.binMode==="global"?window.cv.threshold(te,te,P.threshold,255,window.cv.THRESH_BINARY):P.binMode==="adaptive"?window.cv.adaptiveThreshold(te,te,255,window.cv.ADAPTIVE_THRESH_MEAN_C,window.cv.THRESH_BINARY,P.adaptiveBlock,P.adaptiveC):P.binMode==="canny"&&window.cv.Canny(te,te,P.canny1,P.canny2),window.cv.imshow(ne.current,te),L.delete(),te.delete()}catch(L){console.error("CV Error",L)}},ye=async()=>{if(!(!ne.current||!window.ImageTracer)){a("Tracing..."),await new Promise(L=>setTimeout(L,50));try{const te=ne.current.getContext("2d").getImageData(0,0,ne.current.width,ne.current.height),re={ltres:P.ltres,qtres:P.qtres,pathomit:P.pathomit,colorsampling:P.colorsampling,numberofcolors:P.numberofcolors,mincolorratio:P.mincolorratio,colorquantcycles:P.colorquantcycles,blurradius:P.blurradius,blurdelta:P.blurdelta,strokewidth:P.strokewidth,linefilter:!0,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]};let b=window.ImageTracer.imagedataToSVG(te,re);if(P.union||P.smoothTolerance>0){if(!window.paper)throw new Error("Paper.js not loaded");const z=document.createElement("canvas"),Z=new window.paper.PaperScope;Z.setup(z);const ee=Z.project.importSVG(b,{expandShapes:!0}),se=[],de=Ce=>{(Ce instanceof Z.Path||Ce instanceof Z.CompoundPath)&&Ce.fillColor&&Ce.fillColor.gray<.5&&se.push(Ce),Ce.children&&Ce.children.forEach(de)};de(ee);let pe=null;if(P.union&&se.length>0){pe=se[0];for(let Ce=1;Ce<se.length;Ce++){const qe=pe.unite(se[Ce]);pe.remove(),se[Ce].remove(),pe=qe}}P.smoothTolerance>0&&(pe?pe.simplify(P.smoothTolerance):se.forEach(Ce=>Ce.simplify(P.smoothTolerance))),Z.project.activeLayer.removeChildren(),pe?(pe.fillColor="black",Z.project.activeLayer.addChild(pe)):se.forEach(Ce=>Z.project.activeLayer.addChild(Ce)),b=Z.project.exportSVG({asString:!0})}J(b)}catch(L){alert("Trace error: "+L.message)}finally{a(null)}}},k=(L,te)=>{var b;const re=(b=L.target.files)==null?void 0:b[0];re&&Qx(re).then(z=>te({data:z,mime:re.type}))},Q=()=>{if(!G)return;const L=new Blob([G],{type:"image/svg+xml"}),te=URL.createObjectURL(L),re=document.createElement("a");re.href=te,re.download=`vector_${Date.now()}.svg`,document.body.appendChild(re),re.click(),document.body.removeChild(re)};return _.jsxs("div",{className:"w-full flex flex-col gap-6 font-sans text-gray-200",children:[_.jsx("div",{className:"flex justify-center mb-4",children:_.jsx("div",{className:"glass-panel p-1 rounded-xl flex gap-1 bg-black/40",children:[{id:"sketch",label:"Sketch Photo",icon:""},{id:"style",label:"Style Transfer",icon:""},{id:"prompt",label:"Prompt Sketch",icon:""},{id:"vectorize",label:"Vector Engine",icon:"",disabled:!V}].map(L=>_.jsxs("button",{onClick:()=>!L.disabled&&t(L.id),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i===L.id?"bg-indigo-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"} ${L.disabled?"opacity-50 cursor-not-allowed":""}`,children:[_.jsx("span",{children:L.icon})," ",L.label]},L.id))})}),_.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[_.jsxs("div",{className:"glass-panel p-6 rounded-2xl space-y-6 bg-[#14161a] border-gray-800",children:[i==="sketch"&&_.jsxs("div",{className:"space-y-5 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white border-b border-gray-700 pb-2",children:"Photo to Sketch"}),p?_.jsxs("div",{className:"relative h-40 rounded-xl overflow-hidden border border-gray-700 group",children:[_.jsx("img",{src:`data:${p.mime};base64,${p.data}`,className:"w-full h-full object-cover opacity-60"}),_.jsx("button",{onClick:()=>g(null),className:"absolute inset-0 m-auto w-max h-max px-4 py-2 bg-red-600 text-white rounded font-bold shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:"Remove"})]}):_.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-600 rounded-xl hover:border-indigo-500 hover:bg-gray-800 cursor-pointer transition-all",children:[_.jsx("span",{className:"text-gray-400 text-sm",children:"Click to Upload Image"}),_.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:L=>k(L,g)})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg bg-black/20 border border-gray-700",children:[_.jsx("input",{type:"checkbox",checked:W,onChange:L=>X(L.target.checked),className:"accent-indigo-500 w-5 h-5"}),_.jsx("span",{className:"text-gray-300 text-sm",children:"Isolate Subject (Remove Background)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-2 block",children:"Style"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(dl).map(L=>_.jsx("button",{onClick:()=>H(L),className:`text-xs py-2 px-3 rounded border transition-colors ${w===L?"bg-indigo-600 border-indigo-500 text-white":"border-gray-700 text-gray-400 hover:bg-gray-800"}`,children:dl[L].name},L))})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[_.jsx("span",{children:"Creative Freedom"}),_.jsxs("span",{children:[M,"%"]})]}),_.jsx("input",{type:"range",min:"0",max:"100",value:M,onChange:L=>Y(Number(L.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 mt-1",children:[_.jsx("span",{children:"Creative"}),_.jsx("span",{children:"Faithful"})]})]}),_.jsx("textarea",{value:S,onChange:L=>A(L.target.value),placeholder:"Additional instructions...",className:"w-full bg-black/30 border border-gray-700 rounded-lg p-3 text-sm text-white focus:border-indigo-500 outline-none",rows:2})]})]}),i==="style"&&_.jsxs("div",{className:"space-y-5 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white border-b border-gray-700 pb-2",children:"Style Transfer"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase",children:"1. Base Image"}),y?_.jsxs("div",{className:"relative h-24 rounded-lg overflow-hidden border border-gray-700",children:[_.jsx("img",{src:`data:${y.mime};base64,${y.data}`,className:"w-full h-full object-cover"}),_.jsx("button",{onClick:()=>m(null),className:"absolute top-1 right-1 bg-black/50 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:""})]}):_.jsxs("label",{className:"flex items-center justify-center h-24 border-2 border-dashed border-gray-600 rounded-lg cursor-pointer hover:border-indigo-500",children:[_.jsx("input",{type:"file",className:"hidden",onChange:L=>k(L,m)}),_.jsx("span",{className:"text-2xl text-gray-500",children:"+"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase",children:"2. Style Ref"}),v?_.jsxs("div",{className:"relative h-24 rounded-lg overflow-hidden border border-gray-700",children:[_.jsx("img",{src:`data:${v.mime};base64,${v.data}`,className:"w-full h-full object-cover"}),_.jsx("button",{onClick:()=>E(null),className:"absolute top-1 right-1 bg-black/50 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:""})]}):_.jsxs("label",{className:"flex items-center justify-center h-24 border-2 border-dashed border-gray-600 rounded-lg cursor-pointer hover:border-indigo-500",children:[_.jsx("input",{type:"file",className:"hidden",onChange:L=>k(L,E)}),_.jsx("span",{className:"text-2xl text-gray-500",children:"+"})]})]})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[_.jsx("span",{children:"Creative Freedom"}),_.jsxs("span",{children:[M,"%"]})]}),_.jsx("input",{type:"range",min:"0",max:"100",value:M,onChange:L=>Y(Number(L.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),_.jsx("textarea",{value:S,onChange:L=>A(L.target.value),placeholder:"Refinement instructions...",className:"w-full bg-black/30 border border-gray-700 rounded-lg p-3 text-sm text-white focus:border-indigo-500 outline-none",rows:2})]}),i==="prompt"&&_.jsxs("div",{className:"space-y-5 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white border-b border-gray-700 pb-2",children:"Text to Sketch"}),_.jsx("textarea",{value:S,onChange:L=>A(L.target.value),placeholder:"Describe your sketch (e.g. 'A majestic lion in a geometric style')...",className:"w-full bg-black/30 border border-gray-700 rounded-lg p-4 text-white min-h-[120px] focus:border-indigo-500 outline-none"}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-2 block",children:"Style"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(dl).map(L=>_.jsx("button",{onClick:()=>H(L),className:`text-xs py-2 px-3 rounded border transition-colors ${w===L?"bg-indigo-600 border-indigo-500 text-white":"border-gray-700 text-gray-400 hover:bg-gray-800"}`,children:dl[L].name},L))})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[_.jsx("span",{children:"Creative Freedom"}),_.jsxs("span",{children:[M,"%"]})]}),_.jsx("input",{type:"range",min:"0",max:"100",value:M,onChange:L=>Y(Number(L.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]})]}),i==="vectorize"&&_.jsxs("div",{className:"space-y-6 animate-fade-in",children:[_.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2",children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:"UltraTrace Engine"}),_.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-mono border ${r?"border-green-800 bg-green-900/30 text-green-400":"border-red-800 text-red-400"}`,children:r?"CORE READY":"LOADING LIBS..."})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-xs font-bold text-indigo-400 uppercase",children:"1. OpenCV Pre-process"}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-500 uppercase block",children:"Scale"}),_.jsx("input",{type:"number",min:"1",max:"16",value:P.prescale,onChange:L=>$({...P,prescale:Number(L.target.value)}),className:"w-full bg-black/30 border border-gray-700 rounded px-2 py-1 text-sm text-white"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-500 uppercase block",children:"Binarize Mode"}),_.jsxs("select",{value:P.binMode,onChange:L=>$({...P,binMode:L.target.value}),className:"w-full bg-black/30 border border-gray-700 rounded px-2 py-1 text-sm text-white",children:[_.jsx("option",{value:"off",children:"Off (Gray)"}),_.jsx("option",{value:"global",children:"Global Threshold"}),_.jsx("option",{value:"adaptive",children:"Adaptive"}),_.jsx("option",{value:"canny",children:"Canny Edge"})]})]})]}),P.binMode==="global"&&_.jsxs("div",{children:[_.jsxs("label",{className:"text-[10px] text-gray-500 uppercase",children:["Threshold: ",P.threshold]}),_.jsx("input",{type:"range",min:"0",max:"255",value:P.threshold,onChange:L=>$({...P,threshold:Number(L.target.value)}),className:"w-full h-1 bg-gray-700 accent-indigo-500 rounded appearance-none"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx("button",{onClick:()=>$({...P,blur:!P.blur}),className:`py-1 px-2 text-xs border rounded ${P.blur?"bg-indigo-900/50 border-indigo-500 text-indigo-200":"border-gray-700 text-gray-500"}`,children:"Blur"}),_.jsx("button",{onClick:()=>$({...P,unsharp:!P.unsharp}),className:`py-1 px-2 text-xs border rounded ${P.unsharp?"bg-indigo-900/50 border-indigo-500 text-indigo-200":"border-gray-700 text-gray-500"}`,children:"Unsharp Mask"}),_.jsx("button",{onClick:()=>$({...P,median:!P.median}),className:`py-1 px-2 text-xs border rounded ${P.median?"bg-indigo-900/50 border-indigo-500 text-indigo-200":"border-gray-700 text-gray-500"}`,children:"Median"}),_.jsxs("select",{value:P.morphOp,onChange:L=>$({...P,morphOp:L.target.value}),className:"bg-black/30 border border-gray-700 text-xs rounded text-gray-400",children:[_.jsx("option",{value:"none",children:"Morph: None"}),_.jsx("option",{value:"open",children:"Open"}),_.jsx("option",{value:"close",children:"Close"})]})]}),_.jsx("button",{onClick:_e,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded text-xs font-bold text-white transition-colors",children:"Apply Pre-process"})]}),_.jsxs("div",{className:"space-y-4 border-t border-gray-800 pt-4",children:[_.jsx("h3",{className:"text-xs font-bold text-indigo-400 uppercase",children:"2. Trace & Post-process"}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-500 block",children:"Detail"}),_.jsx("input",{type:"number",step:"0.1",value:P.ltres,onChange:L=>$({...P,ltres:Number(L.target.value)}),className:"w-full bg-black/30 border border-gray-700 rounded px-1 py-1 text-xs text-white"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-500 block",children:"Smooth"}),_.jsx("input",{type:"number",step:"0.1",value:P.qtres,onChange:L=>$({...P,qtres:Number(L.target.value)}),className:"w-full bg-black/30 border border-gray-700 rounded px-1 py-1 text-xs text-white"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-[10px] text-gray-500 block",children:"Colors"}),_.jsx("input",{type:"number",value:P.numberofcolors,onChange:L=>$({...P,numberofcolors:Number(L.target.value)}),className:"w-full bg-black/30 border border-gray-700 rounded px-1 py-1 text-xs text-white"})]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-300",children:[_.jsx("input",{type:"checkbox",checked:P.union,onChange:L=>$({...P,union:L.target.checked}),className:"accent-indigo-500"})," Union Shapes"]}),_.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-300",children:["Simplify: ",_.jsx("input",{type:"number",step:"0.1",className:"w-12 bg-black/30 border border-gray-700 rounded px-1 text-xs",value:P.smoothTolerance,onChange:L=>$({...P,smoothTolerance:Number(L.target.value)})})]})]}),_.jsx("button",{onClick:ye,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 rounded-lg text-sm font-bold text-white shadow-lg transition-all",children:"Trace Vector"})]})]}),i!=="vectorize"&&_.jsx("button",{onClick:xe,disabled:!!o,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?_.jsx("span",{className:"animate-pulse",children:o}):"Generate"})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"glass-panel p-2 rounded-2xl min-h-[500px] flex items-center justify-center bg-[#0b0c0f] relative border border-gray-800 overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-[0.05]",style:{backgroundImage:"conic-gradient(#808080 0 90deg, transparent 0 180deg, #808080 0 270deg, transparent 0)",backgroundSize:"20px 20px"}}),V?_.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col items-center justify-center p-4 gap-4",children:[i==="vectorize"&&_.jsxs("div",{className:"w-full grid grid-cols-2 gap-4 mb-4 h-64",children:[_.jsxs("div",{className:"relative border border-gray-700 rounded bg-black/50 flex flex-col",children:[_.jsx("span",{className:"absolute top-2 left-2 bg-black/70 text-[10px] px-2 py-1 rounded text-gray-300",children:"Original / Pre-process"}),_.jsx("canvas",{ref:le,className:"hidden"}),_.jsx("canvas",{ref:ne,className:"w-full h-full object-contain"})]}),_.jsxs("div",{className:"relative border border-gray-700 rounded bg-white flex items-center justify-center overflow-hidden",children:[_.jsx("span",{className:"absolute top-2 left-2 bg-black/10 text-[10px] px-2 py-1 rounded text-black font-bold z-20",children:"Vector Result"}),G?_.jsx("div",{className:"w-full h-full p-2 [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:G}}):_.jsx("span",{className:"text-gray-300 text-xs italic",children:"Waiting to trace..."})]})]}),i!=="vectorize"&&_.jsx("img",{src:V,className:"max-w-full max-h-[500px] shadow-2xl rounded-lg border border-gray-700"})]}):_.jsxs("div",{className:"text-center text-gray-600 z-10",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto flex items-center justify-center mb-4 text-2xl",children:""}),_.jsx("p",{children:"Output Preview"})]})]}),G&&_.jsx("div",{className:"flex gap-4",children:_.jsx("button",{onClick:Q,className:"flex-1 py-3 bg-gray-800 hover:bg-gray-700 text-white font-bold rounded-xl border border-gray-700 transition-colors",children:"Download SVG"})})]})]})]})},Wx="https://wbtpizrlayiedgwrtpwl.functions.supabase.co/gemini-proxy",Ju=async(i,t=4,o=1400)=>{try{return await i()}catch(a){const r=String((a==null?void 0:a.message)||a||"").toLowerCase(),c=(a==null?void 0:a.status)||(a==null?void 0:a.code),p=c===429||c===500||c===502||c===503||r.includes("overloaded")||r.includes("timeout")||r.includes("temporar")||r.includes("503");if(t>0&&p)return await new Promise(g=>setTimeout(g,o)),Ju(i,t-1,Math.round(o*1.6));throw a}};async function Ug(i){const t=await fetch(Wx,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),o=await t.text();let a={};try{a=JSON.parse(o)}catch{}if(!t.ok){const r=new Error((a==null?void 0:a.error)||o||`Proxy failed (${t.status})`);throw r.status=t.status,r}return a}function jx(i){const t=(i||"").trim();try{return JSON.parse(t)}catch{const o=t.match(/```(?:json)?\s*([\s\S]*?)```/i);if(o!=null&&o[1])return JSON.parse(o[1].trim());const a=t.indexOf("{"),r=t.lastIndexOf("}");if(a>=0&&r>a)return JSON.parse(t.slice(a,r+1));throw new Error("AI response was not valid JSON")}}const eb=async(i,t,o,a,r)=>{const c=Sv.join(", ");let p=20;a!==Pe.Rect&&(p=40);const g=t-p*2,y=o-p*2,m=`
Act as a Professional Typesetter and Copy Editor for engraved plaques.
Canvas: ${t}x${o}mm. Safe Zone: ${g}x${y}mm.
Available Fonts: ${c}.

Instructions:
1) Fix spelling/grammar and proper capitalization.
2) Create elegant typographic hierarchy and spacing.
3) Center everything (0,0 is center of text group).
4) Use only <text> and <tspan>.
5) Use fill="#2b1d0e".
6) Return ONLY JSON with keys: reasoning (string), svgContent (string).
7) svgContent must be valid inner SVG group content (no outer <svg> wrapper).
${r?"8) You are modifying an existing design; preserve style unless user asks for major changes.":""}
  `.trim();let v=`REQUEST: "${i}"`;r&&(v=`CURRENT_DESIGN:
${r}

USER_REQUEST: "${i}"

Task: update the design.`);const E=`${m}

${v}`,S=await Ju(async()=>Ug({task:"text",model:"gemini-2.5-flash",prompt:E})),A=jx((S==null?void 0:S.text)||"");if(!(A!=null&&A.svgContent))throw new Error("AI did not return svgContent");return{svgContent:String(A.svgContent),reasoning:String(A.reasoning||"Generated updated layout.")}},tb=async(i,t)=>{const a={[yt.BrushedBrass]:{name:"Brushed Brass",hex:"#D4AF37",texture:"Horizontal brushed metal grain",details:"Satin finish, soft linear reflections, premium gold tone"},[yt.PolishedBrass]:{name:"Polished Brass",hex:"#F5E050",texture:"Mirror-smooth",details:"High-gloss, highly reflective, mirror finish gold"},[yt.AgedBrass]:{name:"Aged Antique Brass",hex:"#8B6F4E",texture:"Weathered patina",details:"Matte finish, uneven oxidation, vintage bronze/brown tones"},[yt.BrushedSteel]:{name:"Brushed Stainless Steel",hex:"#C0C0C0",texture:"Horizontal brushed metal grain",details:"Satin finish, industrial silver tone, sharp highlights"},[yt.PolishedSteel]:{name:"Polished Chrome",hex:"#E0E0E0",texture:"Mirror-smooth",details:"High-gloss, chrome reflectivity, cool silver tone"}}[t.material],r=t.shape===Pe.Rect?t.cornerRadius>0?"Rounded Rectangle":"Sharp Rectangle":t.shape===Pe.Circle?"Circle":"Oval";let c="None (Mounted directly to wall)";if(t.wood){const m=t.woodTone==="dark"?"Dark Walnut":"Light Oak",v=t.woodEdge==="bevel"?"beveled":"square";let E="Rectangular";t.shape===Pe.Circle&&(E="Round/Circular"),t.shape===Pe.Oval&&(E="Oval"),c=`Solid Wood Backing Board. Material: ${m}. Edge: ${v}. Shape: ${E} (following plaque contour with small border).`}let p="Hidden adhesive (VHB) - Floating appearance";if(t.fixing===Ot.Screws||t.fixing===Ot.Caps){const m=t.shape===Pe.Rect,v=m?"4x":"2x",E=m?"in the four corners":"left and right center";t.fixing===Ot.Screws?p=`${v} Countersunk Screws positioned ${E}. Material: ${a.name}.`:p=`${v} Decorative Dome Caps positioned ${E}. Diameter: ${t.capSize}mm. Material: ${a.name}.`}const g=`
Generate a high-definition photorealistic product image.
Use the attached image as a strict engraving stencil mask.
Do NOT alter letterforms, border lines, or geometry.
Engrave visible mask lines deeply with black enamel fill.

Scene: close-up product shot, 15 angle, studio lighting, clean light wall.
Material: ${a.name} (${a.hex}), ${a.texture}, ${a.details}.
Shape: ${r}.
Backing: ${c}.
Hardware: ${p}.
Engraving: deep etch with black enamel.
  `.trim(),y=await Ju(async()=>Ug({task:"image",imageModel:"gemini-3-pro-image-preview",prompt:g,imageBase64:i,imageMimeType:"image/png"}));return(y==null?void 0:y.bytesBase64Encoded)||null},nb={Cinzel:"https://cdn.jsdelivr.net/npm/@fontsource/cinzel@5.0.0/files/cinzel-latin-700-normal.woff","Playfair Display":"https://cdn.jsdelivr.net/npm/@fontsource/playfair-display@5.0.0/files/playfair-display-latin-700-normal.woff","EB Garamond":"https://cdn.jsdelivr.net/npm/@fontsource/eb-garamond@5.0.0/files/eb-garamond-latin-600-normal.woff",Merriweather:"https://cdn.jsdelivr.net/npm/@fontsource/merriweather@5.0.0/files/merriweather-latin-700-normal.woff",Lora:"https://cdn.jsdelivr.net/npm/@fontsource/lora@5.0.0/files/lora-latin-600-normal.woff","Roboto Slab":"https://cdn.jsdelivr.net/npm/@fontsource/roboto-slab@5.0.0/files/roboto-slab-latin-500-normal.woff",Bitter:"https://cdn.jsdelivr.net/npm/@fontsource/bitter@5.0.0/files/bitter-latin-700-normal.woff","Abril Fatface":"https://cdn.jsdelivr.net/npm/@fontsource/abril-fatface@5.0.0/files/abril-fatface-latin-400-normal.woff",Montserrat:"https://cdn.jsdelivr.net/npm/@fontsource/montserrat@5.0.0/files/montserrat-latin-600-normal.woff","Open Sans":"https://cdn.jsdelivr.net/npm/@fontsource/open-sans@5.0.0/files/open-sans-latin-600-normal.woff",Lato:"https://cdn.jsdelivr.net/npm/@fontsource/lato@5.0.0/files/lato-latin-700-normal.woff",Oswald:"https://cdn.jsdelivr.net/npm/@fontsource/oswald@5.0.0/files/oswald-latin-600-normal.woff",Raleway:"https://cdn.jsdelivr.net/npm/@fontsource/raleway@5.0.0/files/raleway-latin-700-normal.woff","Bebas Neue":"https://cdn.jsdelivr.net/npm/@fontsource/bebas-neue@5.0.0/files/bebas-neue-latin-400-normal.woff","Dancing Script":"https://cdn.jsdelivr.net/npm/@fontsource/dancing-script@5.0.0/files/dancing-script-latin-700-normal.woff",Pacifico:"https://cdn.jsdelivr.net/npm/@fontsource/pacifico@5.0.0/files/pacifico-latin-400-normal.woff",Satisfy:"https://cdn.jsdelivr.net/npm/@fontsource/satisfy@5.0.0/files/satisfy-latin-400-normal.woff",Caveat:"https://cdn.jsdelivr.net/npm/@fontsource/caveat@5.0.0/files/caveat-latin-700-normal.woff","Pinyon Script":"https://cdn.jsdelivr.net/npm/@fontsource/pinyon-script@5.0.0/files/pinyon-script-latin-400-normal.woff",Allura:"https://cdn.jsdelivr.net/npm/@fontsource/allura@5.0.0/files/allura-latin-400-normal.woff","Alex Brush":"https://cdn.jsdelivr.net/npm/@fontsource/alex-brush@5.0.0/files/alex-brush-latin-400-normal.woff","Great Vibes":"https://cdn.jsdelivr.net/npm/@fontsource/great-vibes@5.0.0/files/great-vibes-latin-400-normal.woff"},Lg="Open Sans",Gg=i=>i?i.split(",")[0].trim().replace(/^["']|["']$/g,""):"",ib=async i=>{const t=new Set,o=Array.from(i.querySelectorAll("text, tspan"));t.add(Lg),o.forEach(r=>{const c=window.getComputedStyle(r),p=Gg(r.getAttribute("font-family")||c.fontFamily);p&&t.add(p)});const a={};return await Promise.all(Array.from(t).map(async r=>{const c=nb[r];if(c)try{const p=await fetch(c).then(g=>{if(!g.ok)throw new Error(`HTTP ${g.status}`);return g.arrayBuffer()});a[r]=window.opentype.parse(p)}catch(p){console.error(`FAILED to load font "${r}".`,p)}})),a},Hg=async(i,t)=>{var m;const o=i.querySelector("#ai-text-layer"),a=t.querySelector("#ai-text-layer");if(!o||!a)return;const r=a.getAttribute("transform");r&&o.setAttribute("transform",r),await document.fonts.ready;const c=await ib(a),p=c[Lg],g=Array.from(o.querySelectorAll("text")),y=Array.from(a.querySelectorAll("text"));for(let v=0;v<g.length;v++){const E=g[v],S=y[v];if(!S)continue;const A=Array.from(E.querySelectorAll("tspan")),w=Array.from(S.querySelectorAll("tspan")),H=A.length>0,M=H?A:[E],Y=H?w:[S];let W=!0;for(let X=0;X<M.length;X++){const V=M[X],K=Y[X],G=(V.textContent||"").trim();if(!G)continue;const J=window.getComputedStyle(K),P=Gg(K.getAttribute("font-family")||J.fontFamily);let $=c[P]||p;if(!$){console.error(`CRITICAL: No fonts available for "${G}".`),V.setAttribute("fill","#FF0000"),W=!1;continue}let le=12;const ne=K.getAttribute("font-size")||((m=K.parentElement)==null?void 0:m.getAttribute("font-size"));ne?le=parseFloat(ne.replace("px","")):le=parseFloat(J.fontSize)||12;let me=0,xe=0,_e=!1;try{const ye=K.getStartPositionOfChar(0);ye&&(me=ye.x,xe=ye.y,_e=!0)}catch{}if(!_e){const ye=K.getAttribute("text-anchor")||J.textAnchor||"start";let k=V.getAttribute("x"),Q=V.getAttribute("y");!k&&E.getAttribute("x")&&(k=E.getAttribute("x")),!Q&&E.getAttribute("y")&&(Q=E.getAttribute("y"));let L=parseFloat(k||"0"),te=parseFloat(Q||"0");const re=$.getAdvanceWidth(G,le);ye==="middle"&&(L-=re/2),ye==="end"&&(L-=re),me=L,xe=te}try{const k=$.getPath(G,me,xe,le).toPathData(2),Q=document.createElementNS("http://www.w3.org/2000/svg","path");Q.setAttribute("d",k),Q.setAttribute("fill","#000000"),Q.setAttribute("stroke","none");const L=V.getAttribute("transform");L&&Q.setAttribute("transform",L),E.parentNode&&E.parentNode.insertBefore(Q,E)}catch(ye){console.warn(`Could not generate path for text "${G}".`,ye),W=!1}}W&&E.remove()}},qg=async(i,t)=>{const o=i.cloneNode(!0),a=t.wood?25:0,r=t.width+a,c=t.height+a;o.setAttribute("width",`${r}mm`),o.setAttribute("height",`${c}mm`),o.setAttribute("viewBox",`0 0 ${r} ${c}`);const p=document.createElement("div");p.style.position="absolute",p.style.top="-10000px",p.style.left="-10000px",p.style.opacity="0.01",p.style.pointerEvents="none",p.appendChild(o),document.body.appendChild(p);try{await Hg(o,i);const g=o.querySelector(".wood-backing");g&&(g.removeAttribute("filter"),Array.from(g.querySelectorAll("rect, ellipse")).forEach((A,w)=>{w===0?(A.removeAttribute("fill"),A.setAttribute("fill","none"),A.setAttribute("stroke","#0000FF"),A.setAttribute("stroke-width","0.01mm"),A.removeAttribute("filter"),A.removeAttribute("style")):A.remove()})),o.querySelectorAll(".visual-effect").forEach(S=>S.remove());const y=o.querySelector(".cut-line");y&&(y.removeAttribute("fill"),y.setAttribute("fill","none"),y.setAttribute("stroke","#FF0000"),y.setAttribute("stroke-width","0.01mm"),y.removeAttribute("filter"),y.removeAttribute("style"));const m=o.querySelector("#fixings-layer");m&&m.querySelectorAll("g").forEach(A=>{var H;const w=A.querySelector("circle");if(w){const M=document.createElementNS("http://www.w3.org/2000/svg","circle");M.setAttribute("cx",w.getAttribute("cx")||"0"),M.setAttribute("cy",w.getAttribute("cy")||"0"),M.setAttribute("r","2.5"),M.setAttribute("fill","none"),M.setAttribute("stroke","#FF0000"),M.setAttribute("stroke-width","0.01mm"),(H=A.parentNode)==null||H.insertBefore(M,A),A.remove()}else A.remove()}),o.querySelectorAll(".engraved-border").forEach(S=>{S.removeAttribute("fill"),S.setAttribute("fill","none"),S.setAttribute("stroke","#000000"),S.setAttribute("stroke-width","0.25mm"),S.removeAttribute("filter"),S.removeAttribute("style")}),o.querySelectorAll("path").forEach(S=>{S.classList.contains("engraved-border")||S.getAttribute("stroke")==="#FF0000"||S.getAttribute("stroke")==="#0000FF"||(S.setAttribute("fill","#000000"),S.setAttribute("stroke","none"))});const E=o.querySelector("defs");return E&&E.remove(),o.querySelectorAll("filter, style").forEach(S=>S.remove()),o.querySelectorAll("*").forEach(S=>{S.removeAttribute("filter"),S.removeAttribute("style"),S.getAttribute("opacity")&&S.removeAttribute("opacity")}),o}finally{document.body.removeChild(p)}},ob=async(i,t)=>{try{const o=await qg(i,t),a=`<?xml version="1.0" encoding="UTF-8"?>
`+new XMLSerializer().serializeToString(o),r=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),c=URL.createObjectURL(r),p=document.createElement("a");p.href=c,p.download=`plaque_${t.width}x${t.height}_${t.material}.svg`,document.body.appendChild(p),p.click(),document.body.removeChild(p)}catch(o){console.error("Export failed",o),alert("Export failed: "+o)}},lb=async(i,t)=>{try{let o=window.jsPDF;if(!o&&window.jspdf&&window.jspdf.jsPDF&&(o=window.jspdf.jsPDF),!o&&(console.log("Waiting for jsPDF..."),await new Promise(v=>setTimeout(v,1500)),o=window.jsPDF||(window.jspdf?window.jspdf.jsPDF:null),!o))throw new Error("PDF Library (jsPDF) not loaded. Please refresh.");const a=await qg(i,t),r=t.wood?25:0,c=t.width+r,p=t.height+r,g=c>p?"l":"p",y=new o({orientation:g,unit:"mm",format:[c,p]}),m=document.createElement("div");m.style.visibility="hidden",m.style.position="absolute",m.style.top="-9999px",m.appendChild(a),document.body.appendChild(m);try{if(typeof y.svg!="function"&&!window.svg2pdf&&(console.log("Waiting for svg2pdf..."),await new Promise(v=>setTimeout(v,1e3))),typeof y.svg=="function")await y.svg(a,{x:0,y:0,width:c,height:p});else if(window.svg2pdf&&typeof window.svg2pdf=="function")await window.svg2pdf(a,y,{x:0,y:0,width:c,height:p});else if(window.svg2pdf&&window.svg2pdf.default)await window.svg2pdf.default(a,y,{x:0,y:0,width:c,height:p});else throw new Error("PDF Converter (svg2pdf) not loaded.");y.save(`plaque_${c}x${p}_${t.material}.pdf`)}finally{document.body.removeChild(m)}}catch(o){console.error("PDF Export failed",o),alert("PDF Export failed: "+o)}},ab=async i=>{const t=i.cloneNode(!0),o=i.viewBox.baseVal,a=1024/o.width,r=Math.round(o.width*a),c=Math.round(o.height*a);t.setAttribute("width",`${r}px`),t.setAttribute("height",`${c}px`);const p=document.createElement("div");p.style.position="absolute",p.style.top="-9999px",p.style.left="-9999px",p.style.opacity="0",p.appendChild(t),document.body.appendChild(p);try{await Hg(t,i),t.querySelectorAll(".engraved-border").forEach(v=>{v.setAttribute("stroke","#000000"),v.setAttribute("fill","none")}),t.querySelectorAll("filter, defs > filter").forEach(v=>v.remove()),t.querySelectorAll("[filter]").forEach(v=>v.removeAttribute("filter"));const g=new XMLSerializer().serializeToString(t),m=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(g)))}`;return new Promise((v,E)=>{const S=new Image;S.crossOrigin="anonymous",S.onload=()=>{const A=document.createElement("canvas");A.width=r,A.height=c;const w=A.getContext("2d");if(!w)return E("Canvas error");w.fillStyle="#ffffff",w.fillRect(0,0,r,c),w.drawImage(S,0,0),v(A.toDataURL("image/png").split(",")[1])},S.onerror=E,S.src=m})}finally{document.body.removeChild(p)}},sb=()=>{const[i,t]=Me.useState("plaque"),[o,a]=Me.useState(Tv),[r,c]=Me.useState(!1),[p,g]=Me.useState(!1),[y,m]=Me.useState(!1),[v,E]=Me.useState(null),S=Me.useRef(null),A=Vm.useMemo(()=>{const K=o.width*o.height/100,G=40,J=o.material.includes("brass")?1.5:1.2,P=o.wood?25:0;return Math.round(G+K*.2*J+P)},[o.width,o.height,o.material,o.wood]),w=K=>{a(G=>({...G,...K}))},H=()=>{a(K=>({...K,generatedSvgContent:null,aiReasoning:null}))},M=async K=>{c(!0);try{const G=await eb(K,o.width,o.height,o.shape,o.generatedSvgContent);G&&a(J=>({...J,generatedSvgContent:G.svgContent,aiReasoning:G.reasoning}))}catch(G){alert(`AI layout generation failed: ${(G==null?void 0:G.message)||"Unknown error"}`)}finally{c(!1)}},Y=async()=>{if(S.current){m(!0),E(null),g(!0);try{const K=await ab(S.current),G=await tb(K,o);E(G)}catch(K){alert(`Realistic preview failed: ${(K==null?void 0:K.message)||"Unknown error"}`),m(!1)}finally{g(!1)}}},W=async()=>{S.current&&await ob(S.current,o)},X=async()=>{S.current&&await lb(S.current,o)},V=()=>{window.print()};return _.jsxs("div",{className:"min-h-screen bg-brand-dark flex flex-col",children:[_.jsx(vv,{currentView:i,onNavigate:t}),_.jsx("main",{className:"flex-1 max-w-7xl mx-auto w-full p-4 md:p-8 flex flex-col lg:flex-row gap-8",children:i==="vector"?_.jsx(Zx,{}):_.jsxs(_.Fragment,{children:[_.jsx("section",{className:"flex-1 lg:flex-[1.5] relative",children:_.jsxs("div",{className:"lg:sticky lg:top-24 space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between no-print",children:[_.jsx("h2",{className:"text-2xl font-serif text-white",children:"Design Studio"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-bold rounded-lg shadow-lg shadow-emerald-900/50 transition-all flex items-center gap-2",children:[_.jsx("span",{children:""})," Realistic View"]}),_.jsxs("div",{className:"flex rounded-lg bg-[#2a2d3a] border border-gray-700 p-0.5",children:[_.jsx("button",{onClick:W,className:"px-3 py-1.5 hover:bg-[#333644] text-gray-200 text-sm font-medium rounded-md transition-all border-r border-gray-600",children:"SVG"}),_.jsx("button",{onClick:X,className:"px-3 py-1.5 hover:bg-[#333644] text-gray-200 text-sm font-medium rounded-md transition-all border-r border-gray-600",children:"PDF (Pro)"}),_.jsxs("button",{onClick:V,className:"px-3 py-1.5 hover:bg-[#333644] text-gray-200 text-sm font-medium rounded-md transition-all flex items-center gap-1",title:"Use browser print dialog to save as PDF",children:[_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print"]})]})]})]}),_.jsx(km,{ref:S,state:o}),_.jsxs("div",{className:"flex justify-center gap-8 text-sm text-gray-500 font-mono no-print",children:[_.jsxs("span",{children:[o.width,"mm  ",o.height,"mm"]}),_.jsx("span",{className:"text-gray-700",children:"|"}),_.jsx("span",{className:"capitalize",children:o.material.replace("-"," ")})]}),_.jsxs("div",{className:"mt-8 p-6 rounded-2xl bg-gradient-to-r from-gray-900 to-gray-800 border border-gray-700 flex items-center justify-between no-print",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Estimated Total"}),_.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",A,".00"]})]}),_.jsx("button",{className:"px-8 py-3 bg-brand-accent hover:bg-yellow-400 text-black font-bold rounded-xl shadow-lg shadow-yellow-500/20 transition-all transform hover:scale-105",children:"Add to Cart"})]})]})}),_.jsx("aside",{className:"flex-1 lg:max-w-md no-print",children:_.jsx(_v,{state:o,onChange:w,onGenerate:M,onClear:H,isGenerating:r})})]})}),_.jsx("div",{className:"no-print",children:_.jsx(Cv,{isOpen:y,onClose:()=>m(!1),isLoading:p,imageUrl:v})})]})},Vg=document.getElementById("root");if(!Vg)throw new Error("Could not find root element to mount to");const rb=yv.createRoot(Vg);rb.render(_.jsx(Vm.StrictMode,{children:_.jsx(sb,{})}));
